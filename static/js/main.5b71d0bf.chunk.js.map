{"version":3,"sources":["components/Navigation/AppBar.js","hoc/Layout/Layout.js","axios-main.js","components/UI/Loader/Loader.js","components/Outlay/Outlay.js","components/UI/Tabs/Tabs.js","components/UI/DialogSimple/DialogSimple.js","containers/OutlayDetails/OutlayDetails.js","components/IndicatorsInsertForm/Constants.js","containers/IndicatorsInsert/IndicatorsInsert.js","components/TariffCard/TariffCard.js","containers/Tariffs/Tariffs.js","components/UI/AuthComponents/AuthInput.js","components/UI/AuthComponents/AuthInputPassword.js","components/UI/AuthComponents/AuthButton.js","components/UI/AuthComponents/AuthAlert.js","store/actions/auth.js","store/actions/actionTypes.js","containers/AuthForm/AuthForm.js","containers/AuthForm/Logout/Logout.js","components/UserCard/UserCard.js","containers/UsersProfile/UsersProfile.js","App.js","serviceWorker.js","store/history.js","store/utility.js","store/reducers/auth.js","index.js"],"names":["APP_MENU_LIST","name","path","icon","useStyles","makeStyles","theme","root","flexGrow","button","color","grow","list","width","MenuAppBar","props","classes","useState","sectionTitle","setSectionTitle","openDrawer","setOpenDrawer","className","AppBar","position","Toolbar","IconButton","edge","menuButton","aria-label","onClick","Typography","variant","title","aria-controls","aria-haspopup","component","NavLink","to","Drawer","drawer","anchor","open","onClose","List","map","item","ListItem","key","ListItemIcon","ListItemText","primary","Layout","Grid","container","this","isAuth","xs","Paper","children","Component","instance","axios","create","baseURL","display","flexDirection","alignItems","marginTop","paragraph","Loader","CircularProgress","buttonClose","right","top","Outlay","indicatorsList","id","date","indicators","costNovogor","indicatorMonth","getMonth","TableContainer","handleDeleteDialogOpen","disableRipple","disableFocusRipple","align","getFullYear","Table","TableHead","TableRow","TableCell","TableBody","row","index","scope","intake","outlay","boxShadow","label","fontSize","TabUI","React","value","setValue","Tabs","onChange","event","newValue","changeCurrentYear","tabsList","indicatorColor","textColor","centered","Tab","DialogSimple","Dialog","handleClose","aria-labelledby","aria-describedby","DialogTitle","dialogTitle","DialogContent","DialogContentText","dialogContent","DialogActions","Button","handleContinue","autoFocus","OutlayDetails","state","prevIndicators","tariffs","currentYear","Date","getUTCFullYear","error","deleteDialogOpen","deleteIndicatorId","getDataFromFirebase","token","localStorage","getItem","userId","url_1","url_3","promise1","get","promise2","promise3","Promise","all","then","values","console","log","getUserDetails","data","getListOfTariffs","getListOfIndicators","countOutlay","length","setState","catch","Object","keys","tariff","currentDate","today","electricity","day","night","coldWater","bathroom","kittchen","hotWater","sort","a","b","getTime","deleteItemFromIndicators","delete","response","enqueueSnackbar","preventDuplicate","handleDeleteDialogClose","handleDeleteDialogContinue","removeIndicatorFromState","removeId","newIndicatorsList","filter","i","newItem","countCostNovogor","find","e","disposalWater","waterTariff","dateStart","dateEnd","parse","cost","disposalTariff","toFixed","year","style","textAlign","push","ё","withSnackbar","MONTHS_LIST","text","IndicatorsInsert","ElectricityDay","valid","ElectricityNight","ColdWaterKittchen","ColdWaterBathroom","HotWaterKittchen","HotWaterBathroom","monthYear","month","emailData","recipient","CONFIG","RECIPIENT","address","ADDRESS","modalOpen","addIndicatorHandler","type","updatedCount","updatedIndicators","modalHandlerClose","modalHandlerOpen","ind","preventDefault","indicatorsValid","sendEmailHandler","templateParams","electricityDay","electricityNight","coldWaterKittchen","coldWaterBathroom","hotWaterKittchen","hotWaterBathroom","emailjs","send","SERVICE_ID","TEMPLATE_ID","USER_ID","status","sendIndicators","dateOfIndicators","toISOString","post","history","getCurrentMonth","getCurrentYear","currentYearList","setStateMonth","updatedMonth","updatedMonthYear","setStateYear","updatedYear","errorMessage","maxWidth","dividers","marginBottom","Card","CardContent","spacing","FormControl","InputLabel","Select","target","MenuItem","currencySymbol","minimumValue","helperText","justify","disableElevation","withRouter","margin","cardPadding","paddingBottom","paddingTop","textField","textFieldMargin","marginRight","selectPadding","flexBasis","buttonEdit","buttonIconSuccess","buttonSuccess","backgorundColor","TariffCard","disabled","setDisabled","updateItemInTariffs","insertItemToTariffs","updateTariffInState","maximumValue","utils","DateFnsUtils","format","KeyboardButtonProps","Tariffs","deleteTariffId","addButtonDisabled","deleteItemFromTariffs","oldData","newData","patch","removeTariffFromState","addTariffToState","newTariffsList","unshift","newState","changeIndex","findIndex","tariffCards","createStyles","input","WebkitBoxShadow","AuthInput","TextField","inputProps","AuthInputPassword","showPassword","InputProps","endAdornment","InputAdornment","CSSButton","withStyles","textTransform","AuthButton","CSSAlert","Alert","AuthAlert","authSuccess","idToken","authLogout","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","AuthForm","email","password","rememberMe","validateFields","fieldValidationErrors","willSend","inputHandler","validation","validateFieldsUpdate","test","checkboxHandler","checkbox","formSenderHandler","onAuth","emailError","passwordError","severity","connect","loading","authData","returnSecureToken","url","AUTH_API_KEY","expirationDate","expiresIn","setItem","localId","authFail","actions","Logout","onLogout","padding","field","buttonPosition","UserCard","userDetails","firstName","lastName","userEmail","accountantEmail","prevIndicatorsDate","fullWidth","updateUserDataInState","_","updateIndicatorsInState","updateUserDetails","UsersProfile","newUserDetails","indexOfNewIndicator","App","onTryAutoSignup","routes","Boolean","window","location","hostname","match","createBrowserHistory","updateObject","oldObject","updatedProperties","initialState","authStart","action","reduser","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","app","basename","maxSnack","anchorOrigin","vertical","horizontal","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5b71d0bf.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\n\r\nconst APP_MENU_LIST = [\r\n  { name: \"Показания\", path: \"/send-indicators\", icon: <ListAltIcon/> },\r\n  { name: \"Расходы\", path: \"/outlay\", icon: <EventNoteIcon/> },\r\n  { name: \"Тарифы\", path: \"/tariffs\", icon: <MonetizationOnIcon/> },\r\n  { name: \"Профиль\", path: \"/profile\", icon: <AccountCircleIcon/> },\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  button: {\r\n    \"&:hover\": {\r\n      color: \"white\",\r\n    },\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  list: {\r\n    width: 250,\r\n  },\r\n}));\r\n\r\nconst MenuAppBar = (props) => {\r\n  const classes = useStyles();\r\n  const [sectionTitle, setSectionTitle] = useState(\"Показания\");\r\n  const [openDrawer, setOpenDrawer] = useState(false);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"relative\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={() => setOpenDrawer(true)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            {sectionTitle}\r\n          </Typography>\r\n          <div className={classes.grow} />\r\n\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n            component={NavLink}\r\n            to=\"/logout\"\r\n          >\r\n            <ExitToAppIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n        <Drawer\r\n          className={classes.drawer}\r\n          anchor=\"left\"\r\n          open={openDrawer}\r\n          onClose={() => setOpenDrawer(false)}\r\n        >\r\n          <List className={classes.list}>\r\n            {APP_MENU_LIST.map((item) => (\r\n              <ListItem\r\n                button\r\n                key={item.name}\r\n                component={NavLink}\r\n                to={item.path}\r\n                onClick={() => {\r\n                  setOpenDrawer(false);\r\n                  setSectionTitle(item.name);\r\n                }}\r\n              >\r\n                <ListItemIcon>{item.icon}</ListItemIcon>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </Drawer>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuAppBar;\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport \"./Layout.css\";\r\nimport AppBar from \"../../components/Navigation/AppBar\";\r\n\r\nclass Layout extends Component {\r\n  render() {\r\n    return (\r\n      <Grid container>\r\n        {this.props.isAuth && (\r\n          <Grid item xs={12}>\r\n            <AppBar />\r\n          </Grid>\r\n        )}\r\n        <Grid item xs={12}>\r\n          <Paper className=\"paper\">{this.props.children}</Paper>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Layout;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://reacttestproject-70f65.firebaseio.com/\",\r\n});\r\n\r\nexport default instance;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    marginTop: \"15px\",\r\n  },\r\n  paragraph: {\r\n    marginTop: \"5px\",\r\n  },\r\n}));\r\n\r\nconst Loader = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n      <Typography className={classes.paragraph}>Загрузка</Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    position: \"relative\",\r\n    marginTop: \"30px\",\r\n  },\r\n  buttonClose: {\r\n    position: \"absolute\",\r\n    right: \"-5px\",\r\n    top: \"-5px\"\r\n  },\r\n});\r\n\r\nconst Outlay = (props) => {\r\n  const classes = useStyles();\r\n  const { id, date, indicators } = props.indicatorsList;\r\n  const { costNovogor } = props;\r\n\r\n  let indicatorMonth = \"\";\r\n  switch (date.getMonth()) {\r\n    case 0:\r\n      indicatorMonth = \"Январь\";\r\n      break;\r\n    case 1:\r\n      indicatorMonth = \"Февраль\";\r\n      break;\r\n    case 2:\r\n      indicatorMonth = \"Март\";\r\n      break;\r\n    case 3:\r\n      indicatorMonth = \"Апрель\";\r\n      break;\r\n    case 4:\r\n      indicatorMonth = \"Май\";\r\n      break;\r\n    case 5:\r\n      indicatorMonth = \"Июнь\";\r\n      break;\r\n    case 6:\r\n      indicatorMonth = \"Июль\";\r\n      break;\r\n    case 7:\r\n      indicatorMonth = \"Август\";\r\n      break;\r\n    case 8:\r\n      indicatorMonth = \"Сентябрь\";\r\n      break;\r\n    case 9:\r\n      indicatorMonth = \"Октябрь\";\r\n      break;\r\n    case 10:\r\n      indicatorMonth = \"Ноябрь\";\r\n      break;\r\n    case 11:\r\n      indicatorMonth = \"Декабрь\";\r\n      break;\r\n    default:\r\n      indicatorMonth = \"Не определен\";\r\n  }\r\n\r\n  return (\r\n    <TableContainer component={Paper} className={classes.root} >\r\n      <IconButton\r\n        className={classes.buttonClose}\r\n        aria-label=\"Удалить\"\r\n        component=\"span\"\r\n        color=\"secondary\"\r\n        onClick={() => {\r\n          props.handleDeleteDialogOpen(id);\r\n        }}\r\n        disableRipple\r\n        disableFocusRipple\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" align=\"center\">\r\n        {indicatorMonth} {date.getFullYear()}\r\n      </Typography>\r\n      <Table aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Показатель</TableCell>\r\n            <TableCell align=\"center\">Расход</TableCell>\r\n            <TableCell align=\"center\">Потребление</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {indicators.map((row, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.name}\r\n              </TableCell>\r\n              <TableCell align=\"center\">{row.intake}</TableCell>\r\n              <TableCell align=\"center\">{row.outlay}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n          <TableRow>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              Новогор\r\n            </TableCell>\r\n            <TableCell align=\"center\">{costNovogor}</TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport default Outlay;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginTop: \"15px\",\r\n    boxShadow: \"none\",\r\n  },\r\n  label: {\r\n    fontSize: \"1rem\",\r\n  }\r\n});\r\n\r\nconst TabUI = (props) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    props.changeCurrentYear(props.tabsList[newValue]);\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        centered\r\n      >\r\n        {props.tabsList.map(item => <Tab key={item} label={item} className={classes.label} />)}\r\n      </Tabs>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default TabUI;","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function DialogSimple(props) {\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">\r\n        {props.dialogTitle}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n        {props.dialogContent}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.handleClose} color=\"primary\">\r\n          Отмена\r\n        </Button>\r\n        <Button onClick={props.handleContinue} color=\"secondary\" autoFocus>\r\n          Удалить\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../../axios-main\";\r\nimport \"./OutlayDetails.css\";\r\nimport Loader from \"../../components/UI/Loader/Loader\";\r\nimport Outlay from \"../../components/Outlay/Outlay\";\r\nimport Tabs from \"../../components/UI/Tabs/Tabs\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DialogSimple from \"../../components/UI/DialogSimple/DialogSimple\";\r\nimport { withSnackbar } from \"notistack\";\r\n\r\nclass OutlayDetails extends Component {\r\n  state = {\r\n    indicatorsList: null,\r\n    prevIndicators: null,\r\n    tariffs: null,\r\n    currentYear: new Date().getUTCFullYear(),\r\n    error: null,\r\n    deleteDialogOpen: false,\r\n    deleteIndicatorId: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getDataFromFirebase();\r\n  }\r\n\r\n  getDataFromFirebase = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const userId = localStorage.getItem(\"userId\");\r\n\r\n    const url_1 = `/users.json?auth=${token}&orderBy=\"userId\"&equalTo=\"${userId}\"`;\r\n    const url_2 = `/tariffs.json`;\r\n    const url_3 = `/indicators.json?auth=${token}&orderBy=\"userId\"&equalTo=\"${userId}\"`;\r\n\r\n    const promise1 = axios.get(url_1);\r\n    const promise2 = axios.get(url_2);\r\n    const promise3 = axios.get(url_3);\r\n\r\n    Promise.all([promise1, promise2, promise3])\r\n      .then((values) => {\r\n        console.log(\"Текущие расходы | запрос данных: \", values);\r\n\r\n        const prevIndicators = this.getUserDetails(values[0].data);\r\n        const tariffs = this.getListOfTariffs(values[1].data);\r\n        let indicatorsList = this.getListOfIndicators(values[2].data);\r\n\r\n        indicatorsList = this.countOutlay(indicatorsList, prevIndicators);\r\n\r\n        if (indicatorsList.length !== 0) {\r\n          this.setState({\r\n            prevIndicators: prevIndicators,\r\n            tariffs: tariffs,\r\n            indicatorsList: indicatorsList,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            prevIndicators: prevIndicators,\r\n            tariffs: tariffs,\r\n            error: \"Передайте показания\",\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.setState({\r\n          error: \"Произошла ошибка, попробуйте обновить страницу.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  getUserDetails = (data) => {\r\n    let prevIndicators = data[Object.keys(data)].prevIndicators;\r\n\r\n    return prevIndicators;\r\n  };\r\n\r\n  getListOfTariffs = (data) => {\r\n    let tariffs = Object.keys(data).map((item) => {\r\n      let tariff = data[item];\r\n      tariff.id = item;\r\n      return tariff;\r\n    });\r\n    return tariffs;\r\n  };\r\n\r\n  getListOfIndicators = (data) => {\r\n    let indicatorsList = Object.keys(data).map((key) => {\r\n      return {\r\n        id: key,\r\n        date: new Date(data[key].currentDate.today),\r\n        indicators: [\r\n          {\r\n            id: \"day_electricity\",\r\n            name: \"Эл-я день:\",\r\n            intake: data[key].electricity.day,\r\n          },\r\n          {\r\n            id: \"night_electricity\",\r\n            name: \"Эл-я ночь:\",\r\n            intake: data[key].electricity.night,\r\n          },\r\n          {\r\n            id: \"cold_water\",\r\n            name: \"Холодная вода:\",\r\n            intake: data[key].coldWater.bathroom + data[key].coldWater.kittchen,\r\n          },\r\n          {\r\n            id: \"hot_water\",\r\n            name: \"Горячая вода:\",\r\n            intake: data[key].hotWater.bathroom + data[key].hotWater.kittchen,\r\n          },\r\n          {\r\n            id: \"disposal_water\",\r\n            name: \"Водоотведение:\",\r\n            intake:\r\n              data[key].coldWater.bathroom +\r\n              data[key].coldWater.kittchen +\r\n              data[key].hotWater.bathroom +\r\n              data[key].hotWater.kittchen,\r\n          },\r\n        ],\r\n      };\r\n    });\r\n    indicatorsList.sort((a, b) => a.date.getTime() - b.date.getTime());\r\n    return indicatorsList;\r\n  };\r\n\r\n  deleteItemFromIndicators = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    axios\r\n      .delete(`/indicators/${this.state.deleteIndicatorId}.json?auth=${token}`)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n        this.setState({ deleteIndicatorId: null });\r\n        this.props.enqueueSnackbar(\"Объект успешно удален!\", {\r\n          variant: \"info\",\r\n          preventDuplicate: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Ошибка: \", error);\r\n      });\r\n  };\r\n\r\n  handleDeleteDialogOpen = (id) => {\r\n    this.setState({ deleteDialogOpen: true, deleteIndicatorId: id });\r\n  };\r\n\r\n  handleDeleteDialogClose = () => {\r\n    this.setState({ deleteDialogOpen: false });\r\n  };\r\n\r\n  handleDeleteDialogContinue = () => {\r\n    this.removeIndicatorFromState(this.state.deleteIndicatorId);\r\n    this.deleteItemFromIndicators();\r\n    this.handleDeleteDialogClose();\r\n  };\r\n\r\n  removeIndicatorFromState = (removeId) => {\r\n    let newIndicatorsList = [...this.state.indicatorsList];\r\n    newIndicatorsList = newIndicatorsList.filter((item) => {\r\n      return item.id !== removeId;\r\n    });\r\n    this.setState({ indicatorsList: newIndicatorsList });\r\n  };\r\n\r\n  countOutlay = (indicatorsList, prevIndicators) => {\r\n    let newIndicatorsList = [...indicatorsList];\r\n\r\n    for (let i = 0; i < newIndicatorsList.length; i++) {\r\n      if (newIndicatorsList[i] === newIndicatorsList[0]) {\r\n        newIndicatorsList[i].indicators = newIndicatorsList[i].indicators.map(\r\n          (item, index) => {\r\n            let newItem = { ...item };\r\n            newItem[\"outlay\"] = newItem.intake - prevIndicators[index].intake;\r\n            return newItem;\r\n          }\r\n        );\r\n      } else {\r\n        newIndicatorsList[i].indicators = newIndicatorsList[i].indicators.map(\r\n          (item, index) => {\r\n            let newItem = { ...item };\r\n            newItem[\"outlay\"] =\r\n              newItem.intake -\r\n              newIndicatorsList[i - 1].indicators[index].intake;\r\n            return newItem;\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    return newIndicatorsList;\r\n  };\r\n\r\n  countCostNovogor = (indicators, date) => {\r\n    let coldWater = null;\r\n    try {\r\n      coldWater = indicators.find(({ id }) => id === \"cold_water\").outlay;\r\n    } catch (e) {\r\n      console.log(\"Холодная вода\", e);\r\n    }\r\n\r\n    let hotWater = null;\r\n    try {\r\n      hotWater = indicators.find(({ id }) => id === \"hot_water\").outlay;\r\n    } catch (e) {\r\n      console.log(\"Горячая вода\", e);\r\n    }\r\n\r\n    let disposalWater = null;\r\n    try {\r\n      disposalWater = indicators.find(({ id }) => id === \"disposal_water\")\r\n        .outlay;\r\n    } catch (e) {\r\n      console.log(\"Водоотведение\", e);\r\n    }\r\n\r\n    let waterTariff = null;\r\n    try {\r\n      waterTariff = this.state.tariffs.find(({ name, dateStart, dateEnd }) => {\r\n        if (\r\n          name === \"water\" &&\r\n          Date.parse(dateStart) <= date &&\r\n          Date.parse(dateEnd) >= date\r\n        ) {\r\n          return true;\r\n        } else return false;\r\n      }).cost;\r\n    } catch (e) {\r\n      console.log(\"Тариф на воду загружается...\");\r\n    }\r\n\r\n    let disposalTariff = null;\r\n    try {\r\n      disposalTariff = this.state.tariffs.find(\r\n        ({ name, dateStart, dateEnd }) => {\r\n          if (\r\n            name === \"disposal_water\" &&\r\n            Date.parse(dateStart) <= date &&\r\n            Date.parse(dateEnd) >= date\r\n          ) {\r\n            return true;\r\n          } else return false;\r\n        }\r\n      ).cost;\r\n    } catch (e) {\r\n      console.log(\"Тариф на водоотведение загружается...\");\r\n    }\r\n\r\n    let novogorCost = (\r\n      (coldWater + hotWater) * waterTariff +\r\n      disposalWater * disposalTariff\r\n    ).toFixed(2);\r\n    return novogorCost;\r\n  };\r\n\r\n  changeCurrentYear = (year) => {\r\n    this.setState({ currentYear: year });\r\n  };\r\n\r\n  render() {\r\n    let indicatorsList = null;\r\n    if (\r\n      this.state.indicatorsList === null &&\r\n      this.state.error === null\r\n    ) {\r\n      indicatorsList = <Loader />;\r\n    } else if (this.state.indicatorsList !== null) {\r\n      indicatorsList = this.state.indicatorsList.filter((item) => {\r\n        return item.date.getUTCFullYear() === this.state.currentYear;\r\n      });\r\n\r\n      if (indicatorsList.length > 0) {\r\n        indicatorsList = indicatorsList.map((item, index) => {\r\n          return (\r\n            <Outlay\r\n              key={index}\r\n              indicatorsList={item}\r\n              costNovogor={this.countCostNovogor(item.indicators, item.date)}\r\n              handleDeleteDialogOpen={this.handleDeleteDialogOpen}\r\n            />\r\n          );\r\n        });\r\n      } else\r\n        indicatorsList = (\r\n          <p\r\n            style={{ textAlign: \"center\" }}\r\n          >{`Нет данных на ${this.state.currentYear} год`}</p>\r\n        );\r\n    } else {\r\n      indicatorsList = (\r\n        <p style={{ textAlign: \"center\" }}>{this.state.error}</p>\r\n      );\r\n    }\r\n\r\n    const tabsList = [];\r\n    for (\r\n      let i = new Date().getUTCFullYear();\r\n      i >= new Date().getUTCFullYear() - 1;\r\n      i--\r\n    ) {\r\n      tabsList.push(i);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <DialogSimple\r\n          open={this.state.deleteDialogOpen}\r\n          handleClose={this.handleDeleteDialogClose}\r\n          handleContinue={this.handleDeleteDialogContinue}\r\n          dialogTitle=\"Вы уверены?\"\r\n          dialogContent=\"Вы уверены, что хотите удалить данный объект? Этот процесс нельзя будет отменить.\"\r\n          ё\r\n        />\r\n        <Typography variant=\"h4\" align=\"center\">\r\n          Текущие расходы\r\n        </Typography>\r\n        <Tabs tabsList={tabsList} changeCurrentYear={this.changeCurrentYear} />\r\n        <div className=\"indicatorsList\">{indicatorsList}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(OutlayDetails);\r\n","export const MONTHS_LIST = [\r\n  {\r\n    key: \"0\",\r\n    text: \"Январь\",\r\n    value: 0,\r\n  },\r\n  {\r\n    key: \"1\",\r\n    text: \"Феварль\",\r\n    value: 1,\r\n  },\r\n  {\r\n    key: \"2\",\r\n    text: \"Март\",\r\n    value: 2,\r\n  },\r\n  {\r\n    key: \"3\",\r\n    text: \"Апрель\",\r\n    value: 3,\r\n  },\r\n  {\r\n    key: \"4\",\r\n    text: \"Май\",\r\n    value: 4,\r\n  },\r\n  {\r\n    key: \"5\",\r\n    text: \"Июнь\",\r\n    value: 5,\r\n  },\r\n  {\r\n    key: \"6\",\r\n    text: \"Июль\",\r\n    value: 6,\r\n  },\r\n  {\r\n    key: \"7\",\r\n    text: \"Август\",\r\n    value: 7,\r\n  },\r\n  {\r\n    key: \"8\",\r\n    text: \"Сентябрь\",\r\n    value: 8,\r\n  },\r\n  {\r\n    key: \"9\",\r\n    text: \"Октябрь\",\r\n    value: 9,\r\n  },\r\n  {\r\n    key: \"10\",\r\n    text: \"Ноябрь\",\r\n    value: 10,\r\n  },\r\n  {\r\n    key: \"11\",\r\n    text: \"Декабрь\",\r\n    value: 11,\r\n  },\r\n];","/* eslint-disable no-unused-vars */\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"../../axios-main\";\r\nimport emailjs from \"emailjs-com\";\r\nimport CONFIG from \"../../configuration.json\";\r\nimport { MONTHS_LIST } from \"../../components/IndicatorsInsertForm/Constants\";\r\n\r\nimport CurrencyTextField from \"@unicef/material-ui-currency-textfield\";\r\nimport \"./IndicatorsInsert.css\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nclass IndicatorsInsert extends Component {\r\n  state = {\r\n    indicators: {\r\n      ElectricityDay: { value: \"\", valid: true },\r\n      ElectricityNight: { value: \"\", valid: true },\r\n      ColdWaterKittchen: { value: \"\", valid: true },\r\n      ColdWaterBathroom: { value: \"\", valid: true },\r\n      HotWaterKittchen: { value: \"\", valid: true },\r\n      HotWaterBathroom: { value: \"\", valid: true },\r\n    },\r\n    monthYear: {\r\n      month: new Date().getMonth(),\r\n      year: new Date().getFullYear(),\r\n    },\r\n    emailData: {\r\n      recipient: CONFIG.RECIPIENT,\r\n      address: CONFIG.ADDRESS,\r\n    },\r\n    modalOpen: false,\r\n  };\r\n\r\n  addIndicatorHandler = (type, value) => {\r\n    //Обновляем показатель\r\n    const updatedCount = value;\r\n    const updatedIndicators = { ...this.state.indicators };\r\n    updatedIndicators[type].value = updatedCount;\r\n    updatedIndicators[type].valid = true;\r\n\r\n    //Обновляем state\r\n    this.setState({ indicators: updatedIndicators });\r\n  };\r\n\r\n  modalHandlerClose = () => {\r\n    this.setState({ modalOpen: false });\r\n  };\r\n\r\n  modalHandlerOpen = (event) => {\r\n    event.preventDefault();\r\n\r\n    for (let ind in this.state.indicators) {\r\n      const indicators = { ...this.state.indicators };\r\n\r\n      if (indicators[ind].value === \"\" || indicators[ind].value === 0) {\r\n        const updatedIndicators = { ...this.state.indicators };\r\n        updatedIndicators[ind].valid = false;\r\n        this.setState({ indicators: updatedIndicators });\r\n        this.setState({ indicatorsValid: false });\r\n      }\r\n    }\r\n\r\n    if (\r\n      this.state.indicators.ElectricityDay.valid &&\r\n      this.state.indicators.ElectricityNight.valid &&\r\n      this.state.indicators.ColdWaterKittchen.valid &&\r\n      this.state.indicators.ColdWaterBathroom.valid &&\r\n      this.state.indicators.HotWaterKittchen.valid &&\r\n      this.state.indicators.HotWaterBathroom.valid\r\n    )\r\n      this.setState({ modalOpen: true });\r\n  };\r\n\r\n  sendEmailHandler = () => {\r\n    let templateParams = {\r\n      recipient: this.state.emailData.recipient,\r\n      address: this.state.emailData.address,\r\n      month: MONTHS_LIST[this.state.monthYear.month].text,\r\n      year: this.state.monthYear.year,\r\n      electricityDay: this.state.indicators.ElectricityDay.value,\r\n      electricityNight: this.state.indicators.ElectricityNight.value,\r\n      coldWaterKittchen: this.state.indicators.ColdWaterKittchen.value,\r\n      coldWaterBathroom: this.state.indicators.ColdWaterBathroom.value,\r\n      hotWaterKittchen: this.state.indicators.HotWaterKittchen.value,\r\n      hotWaterBathroom: this.state.indicators.HotWaterBathroom.value,\r\n    };\r\n\r\n    emailjs\r\n      .send(\r\n        CONFIG.SERVICE_ID,\r\n        CONFIG.TEMPLATE_ID,\r\n        templateParams,\r\n        CONFIG.USER_ID\r\n      )\r\n      .then(\r\n        (response) => {\r\n          console.log(\"SUCCESS!\", response.status, response.text);\r\n        },\r\n        (error) => {\r\n          console.log(\"FAILED...\", error);\r\n        }\r\n      );\r\n  };\r\n\r\n  sendIndicators = () => {\r\n    let dateOfIndicators = new Date(\r\n      this.state.monthYear.year,\r\n      this.state.monthYear.month,\r\n      1,\r\n      5,\r\n      0,\r\n      0,\r\n      0\r\n    ).toISOString();\r\n\r\n    const indicators = {\r\n      electricity: {\r\n        day: this.state.indicators.ElectricityDay.value,\r\n        night: this.state.indicators.ElectricityNight.value,\r\n      },\r\n      coldWater: {\r\n        kittchen: this.state.indicators.ColdWaterKittchen.value,\r\n        bathroom: this.state.indicators.ColdWaterBathroom.value,\r\n      },\r\n      hotWater: {\r\n        kittchen: this.state.indicators.HotWaterKittchen.value,\r\n        bathroom: this.state.indicators.HotWaterBathroom.value,\r\n      },\r\n      currentDate: { today: dateOfIndicators, year: this.state.monthYear.year },\r\n      userId: localStorage.getItem('userId')\r\n    };\r\n    const token = localStorage.getItem('token');\r\n    axios\r\n      .post(`/indicators.json?auth=${token}`, indicators)\r\n      .then((response) => {\r\n        this.setState({ modalOpen: false });\r\n        this.sendEmailHandler();\r\n        this.props.history.push(\"/outlay\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  getCurrentMonth = () => {\r\n    const currentMonth = new Date().getMonth();\r\n    return currentMonth;\r\n  };\r\n\r\n  getCurrentYear = () => {\r\n    const currentYear = new Date().getFullYear();\r\n    let currentYearList = [];\r\n    for (let i = 2; i >= 0; i--) {\r\n      currentYearList.push({\r\n        key: currentYear - i,\r\n        text: currentYear - i,\r\n        value: currentYear - i,\r\n      });\r\n    }\r\n    return currentYearList;\r\n  };\r\n\r\n  setStateMonth = (e, value) => {\r\n    const updatedMonth = value;\r\n    const updatedMonthYear = { ...this.state.monthYear };\r\n    updatedMonthYear.month = updatedMonth;\r\n    this.setState({ monthYear: updatedMonthYear });\r\n  };\r\n\r\n  setStateYear = (e, value) => {\r\n    const updatedYear = value;\r\n    const updatedMonthYear = { ...this.state.monthYear };\r\n    updatedMonthYear.year = updatedYear;\r\n    this.setState({ monthYear: updatedMonthYear });\r\n  };\r\n\r\n  render() {\r\n    const errorMessage = \"Поле обязательно для заполнения\";\r\n\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.state.modalOpen}\r\n          onClose={this.modalHandlerClose}\r\n          maxWidth=\"xs\"\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">\r\n            <Typography variant=\"h5\" align=\"center\">\r\n              Проверьте показатели за{\" \"}\r\n              {MONTHS_LIST[this.state.monthYear.month].text}{\" \"}\r\n              {this.state.monthYear.year} г.\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent dividers>\r\n            <Grid container>\r\n              <Grid container>\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"h6\" align=\"center\">\r\n                    Электроэнергия\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    День:\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    {this.state.indicators.ElectricityDay.value}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    Ночь:\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    {this.state.indicators.ElectricityNight.value}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container>\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"h6\" align=\"center\">\r\n                    Кухня\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    Холодная вода:\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    {this.state.indicators.ColdWaterKittchen.value}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    Горячая вода:\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    {this.state.indicators.HotWaterKittchen.value}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container>\r\n                <Grid item xs={12}>\r\n                  <Typography variant=\"h6\" align=\"center\">\r\n                    Ванная\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    Холодная вода:\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    {this.state.indicators.ColdWaterBathroom.value}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    Горячая вода:\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <Typography variant=\"body1\" align=\"center\">\r\n                    {this.state.indicators.HotWaterBathroom.value}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.modalHandlerClose} color=\"secondary\">\r\n              Отмена\r\n            </Button>\r\n            <Button onClick={this.sendIndicators} color=\"primary\" autoFocus>\r\n              Отправить\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Typography\r\n          variant=\"h4\"\r\n          align=\"center\"\r\n          style={{ marginBottom: \"10px\" }}\r\n        >\r\n          Подать показания\r\n        </Typography>\r\n\r\n        <Card className=\"card\">\r\n          <CardContent className=\"cardPadding\">\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\" className=\"headerMargin\">\r\n                  Месяц и год\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <FormControl style={{ width: \"100%\" }}>\r\n                  <InputLabel>Месяц</InputLabel>\r\n                  <Select\r\n                    value={this.state.monthYear.month || 0}\r\n                    onChange={(event) =>\r\n                      this.setStateMonth(event, event.target.value)\r\n                    }\r\n                  >\r\n                    {MONTHS_LIST.map((item) => (\r\n                      <MenuItem key={item.key} value={item.value}>\r\n                        {item.text}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <FormControl style={{ width: \"100%\" }}>\r\n                  <InputLabel>Год</InputLabel>\r\n                  <Select\r\n                    value={this.state.monthYear.year || 2020}\r\n                    onChange={(event) =>\r\n                      this.setStateYear(event, event.target.value)\r\n                    }\r\n                  >\r\n                    {this.getCurrentYear().map((item) => (\r\n                      <MenuItem key={item.key} value={item.value}>\r\n                        {item.text}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\" className=\"headerMargin\">\r\n                  Электроэнергия\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <CurrencyTextField\r\n                  style={{ width: \"100%\" }}\r\n                  variant=\"standard\"\r\n                  label=\"День\"\r\n                  currencySymbol=\"\"\r\n                  value={this.state.indicators.ElectricityDay.value}\r\n                  minimumValue=\"0\"\r\n                  onChange={(event, value) =>\r\n                    this.addIndicatorHandler(\"ElectricityDay\", value)\r\n                  }\r\n                  error={!this.state.indicators.ElectricityDay.valid}\r\n                  helperText={\r\n                    !this.state.indicators.ElectricityDay.valid\r\n                      ? errorMessage\r\n                      : null\r\n                  }\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <CurrencyTextField\r\n                  style={{ width: \"100%\" }}\r\n                  variant=\"standard\"\r\n                  label=\"Ночь\"\r\n                  currencySymbol=\"\"\r\n                  value={this.state.indicators.ElectricityNight.value}\r\n                  minimumValue=\"0\"\r\n                  onChange={(event, value) =>\r\n                    this.addIndicatorHandler(\"ElectricityNight\", value)\r\n                  }\r\n                  error={!this.state.indicators.ElectricityNight.valid}\r\n                  helperText={\r\n                    !this.state.indicators.ElectricityNight.valid\r\n                      ? errorMessage\r\n                      : null\r\n                  }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\" className=\"headerMargin\">\r\n                  Кухня\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <CurrencyTextField\r\n                  style={{ width: \"100%\" }}\r\n                  variant=\"standard\"\r\n                  label=\"Холодная вода\"\r\n                  currencySymbol=\"\"\r\n                  value={this.state.indicators.ColdWaterKittchen.value}\r\n                  minimumValue=\"0\"\r\n                  onChange={(event, value) =>\r\n                    this.addIndicatorHandler(\"ColdWaterKittchen\", value)\r\n                  }\r\n                  error={!this.state.indicators.ColdWaterKittchen.valid}\r\n                  helperText={\r\n                    !this.state.indicators.ColdWaterKittchen.valid\r\n                      ? errorMessage\r\n                      : null\r\n                  }\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <CurrencyTextField\r\n                  style={{ width: \"100%\" }}\r\n                  variant=\"standard\"\r\n                  label=\"Горячая вода\"\r\n                  currencySymbol=\"\"\r\n                  value={this.state.indicators.HotWaterKittchen.value}\r\n                  minimumValue=\"0\"\r\n                  onChange={(event, value) =>\r\n                    this.addIndicatorHandler(\"HotWaterKittchen\", value)\r\n                  }\r\n                  error={!this.state.indicators.HotWaterKittchen.valid}\r\n                  helperText={\r\n                    !this.state.indicators.HotWaterKittchen.valid\r\n                      ? errorMessage\r\n                      : null\r\n                  }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h5\" className=\"headerMargin\">\r\n                  Ванная\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <CurrencyTextField\r\n                  style={{ width: \"100%\" }}\r\n                  variant=\"standard\"\r\n                  label=\"Холодная вода\"\r\n                  currencySymbol=\"\"\r\n                  value={this.state.indicators.ColdWaterBathroom.value}\r\n                  minimumValue=\"0\"\r\n                  onChange={(event, value) =>\r\n                    this.addIndicatorHandler(\"ColdWaterBathroom\", value)\r\n                  }\r\n                  error={!this.state.indicators.ColdWaterBathroom.valid}\r\n                  helperText={\r\n                    !this.state.indicators.ColdWaterBathroom.valid\r\n                      ? errorMessage\r\n                      : null\r\n                  }\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <CurrencyTextField\r\n                  style={{ width: \"100%\" }}\r\n                  variant=\"standard\"\r\n                  label=\"Горячая вода\"\r\n                  currencySymbol=\"\"\r\n                  value={this.state.indicators.HotWaterBathroom.value}\r\n                  minimumValue=\"0\"\r\n                  onChange={(event, value) =>\r\n                    this.addIndicatorHandler(\"HotWaterBathroom\", value)\r\n                  }\r\n                  error={!this.state.indicators.HotWaterBathroom.valid}\r\n                  helperText={\r\n                    !this.state.indicators.HotWaterBathroom.valid\r\n                      ? errorMessage\r\n                      : null\r\n                  }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container justify=\"center\" spacing={2}>\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                style={{ textAlign: \"center\", marginTop: \"15px\" }}\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  disableElevation\r\n                  onClick={this.modalHandlerOpen}\r\n                >\r\n                  Отправить\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(IndicatorsInsert);\r\n","import React, { useState } from \"react\";\r\nimport \"date-fns\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport CurrencyTextField from \"@unicef/material-ui-currency-textfield\";\r\n\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    margin: \"20px 0\",\r\n    position: \"relative\",\r\n  },\r\n  cardPadding: {\r\n    paddingBottom: \"16px !important\",\r\n    paddingTop: \"26px !important\",\r\n  },\r\n  row: {\r\n    display: \"flex\",\r\n  },\r\n  textField: {\r\n    flexGrow: 1,\r\n  },\r\n  textFieldMargin: {\r\n    marginRight: \"15px\",\r\n    marginBottom: \"15px\",\r\n  },\r\n  selectPadding: {\r\n    display: \"flex\",\r\n    flexBasis: \"13rem\",\r\n  },\r\n  buttonClose: {\r\n    position: \"absolute\",\r\n    right: \"0\",\r\n  },\r\n  buttonEdit: {\r\n    position: \"absolute\",\r\n    right: \"30px\",\r\n  },\r\n  buttonIconSuccess: {\r\n    color: \"#4caf50\",\r\n  },\r\n  buttonSuccess: {\r\n    \"&:hover\": {\r\n      backgorundColor: \"rgba(243, 243, 243, 0.04) !important\",\r\n    },\r\n  },\r\n});\r\n\r\nconst TariffCard = (props) => {\r\n  const classes = useStyles();\r\n  const { id, name, cost, dateEnd, dateStart } = props.tariff;\r\n  const [disabled, setDisabled] = useState(props.disabled);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      {disabled ? (\r\n        <IconButton\r\n          className={classes.buttonEdit}\r\n          aria-label=\"Изменить\"\r\n          component=\"span\"\r\n          color=\"primary\"\r\n          onClick={() => setDisabled(false)}\r\n          disableRipple\r\n          disableFocusRipple\r\n        >\r\n          <EditIcon />\r\n        </IconButton>\r\n      ) : (\r\n        <IconButton\r\n          className={classes.buttonEdit + \" \" + classes.buttonSuccess}\r\n          aria-label=\"Сохранить\"\r\n          component=\"span\"\r\n          color=\"secondary\"\r\n          onClick={() => {\r\n            setDisabled(true);\r\n            if (id) {\r\n              props.updateItemInTariffs(id);\r\n            } else {\r\n              props.insertItemToTariffs();\r\n            }\r\n          }}\r\n          disableRipple\r\n          disableFocusRipple\r\n        >\r\n          <SaveIcon className={classes.buttonIconSuccess} />\r\n        </IconButton>\r\n      )}\r\n\r\n      <IconButton\r\n        className={classes.buttonClose}\r\n        aria-label=\"Удалить\"\r\n        component=\"span\"\r\n        color=\"secondary\"\r\n        onClick={() => {\r\n          props.handleDeleteDialogOpen(id);\r\n        }}\r\n        disableRipple\r\n        disableFocusRipple\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <CardContent className={classes.cardPadding}>\r\n        <Grid container>\r\n          <Grid item xs={12} className={classes.row}>\r\n            <FormControl\r\n              className={\r\n                classes.textFieldMargin +\r\n                \" \" +\r\n                classes.textField +\r\n                \" \" +\r\n                classes.selectPadding\r\n              }\r\n            >\r\n              <InputLabel>Наименование</InputLabel>\r\n              <Select\r\n                value={name}\r\n                onChange={(event) =>\r\n                  props.updateTariffInState(id, \"name\", event.target.value)\r\n                }\r\n                disabled={disabled}\r\n              >\r\n                <MenuItem value={\"water\"}>Подача воды</MenuItem>\r\n                <MenuItem value={\"hot_water\"}>Подогрев воды</MenuItem>\r\n                <MenuItem value={\"disposal_water\"}>Водоотведение</MenuItem>\r\n                <MenuItem value={\"electricity_day\"}>Электро-ия. день</MenuItem>\r\n                <MenuItem value={\"electricity_night\"}>\r\n                  Электро-ия. ночь\r\n                </MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <CurrencyTextField\r\n              className={classes.textField}\r\n              label=\"Тариф\"\r\n              currencySymbol=\"₽\"\r\n              value={cost}\r\n              minimumValue=\"0\"\r\n              maximumValue=\"5000\"\r\n              disabled={disabled}\r\n              onChange={(event, value) =>\r\n                props.updateTariffInState(id, \"cost\", value)\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} className={classes.row}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <KeyboardDatePicker\r\n                label=\"Действителен c\"\r\n                format=\"dd.MM.yyyy\"\r\n                value={dateStart}\r\n                className={classes.textFieldMargin + \" \" + classes.textField}\r\n                KeyboardButtonProps={{\r\n                  \"aria-label\": \"change date\",\r\n                }}\r\n                disabled={disabled}\r\n                onChange={(date) =>\r\n                  props.updateTariffInState(id, \"dateStart\", date)\r\n                }\r\n              />\r\n\r\n              <KeyboardDatePicker\r\n                label=\"Действителен по\"\r\n                format=\"dd.MM.yyyy\"\r\n                value={dateEnd}\r\n                className={classes.textField}\r\n                KeyboardButtonProps={{\r\n                  \"aria-label\": \"change date\",\r\n                }}\r\n                disabled={disabled}\r\n                onChange={(date) =>\r\n                  props.updateTariffInState(id, \"dateEnd\", date)\r\n                }\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TariffCard;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../../axios-main\";\r\n\r\nimport Loader from \"../../components/UI/Loader/Loader\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport TariffCard from \"../../components/TariffCard/TariffCard\";\r\nimport DialogSimple from \"../../components/UI/DialogSimple/DialogSimple\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { withSnackbar } from \"notistack\";\r\n\r\nclass Tariffs extends Component {\r\n  state = {\r\n    tariffs: [],\r\n    deleteDialogOpen: false,\r\n    deleteTariffId: null,\r\n    addButtonDisabled: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getListOfTariffs();\r\n  }\r\n\r\n  getListOfTariffs = () => {\r\n    axios\r\n      .get(`/tariffs.json`)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n\r\n        let tariffs = Object.keys(response.data).map((item) => {\r\n          let tariff = response.data[item];\r\n          tariff.id = item;\r\n          return tariff;\r\n        });\r\n        this.setState({ tariffs: tariffs });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.setState({\r\n          error: \"Произошла ошибка, обратитесь к Системному Администратору.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  deleteItemFromTariffs = () => {\r\n    axios\r\n      .delete(`/tariffs/${this.state.deleteTariffId}.json`)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n        this.setState({ deleteTariffId: null });\r\n        this.props.enqueueSnackbar(\"Объект успешно удален!\", {\r\n          variant: \"info\",\r\n          preventDuplicate: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Ошибка: \", error);\r\n      });\r\n  };\r\n\r\n  updateItemInTariffs = (id) => {\r\n    console.log(\"Обновление записи\", id);\r\n    const oldData = this.state.tariffs.find((item) => item.id === id);\r\n    const newData = {\r\n      cost: oldData.cost,\r\n      dateEnd: oldData.dateEnd,\r\n      dateStart: oldData.dateStart,\r\n      name: oldData.name,\r\n    };\r\n    console.log(\"Сформированные данные\", newData);\r\n    axios\r\n      .patch(`/tariffs/${id}.json`, newData)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n        this.props.enqueueSnackbar(\"Данные успешно сохранены!\", {\r\n          variant: \"success\",\r\n          preventDuplicate: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Ошибка: \", error);\r\n      });\r\n  };\r\n\r\n  insertItemToTariffs = () => {\r\n    console.log(\"Сохраниение записи\");\r\n    const oldData = this.state.tariffs[0];\r\n    const newData = {\r\n      cost: oldData.cost,\r\n      dateEnd: oldData.dateEnd,\r\n      dateStart: oldData.dateStart,\r\n      name: oldData.name,\r\n    };\r\n    console.log(\"Сформированные данные\", newData);\r\n    axios\r\n      .post(`/tariffs.json`, newData)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n        this.setState({ addButtonDisabled: false });\r\n        this.props.enqueueSnackbar(\"Данные успешно сохранены!\", {\r\n          variant: \"success\",\r\n          preventDuplicate: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Ошибка: \", error);\r\n      });\r\n  };\r\n\r\n  handleDeleteDialogOpen = (id) => {\r\n    if (typeof id !== \"undefined\") {\r\n      this.setState({ deleteDialogOpen: true, deleteTariffId: id });\r\n    } else {\r\n      this.removeTariffFromState(id);\r\n    }\r\n  };\r\n\r\n  handleDeleteDialogClose = () => {\r\n    this.setState({ deleteDialogOpen: false });\r\n  };\r\n\r\n  handleDeleteDialogContinue = () => {\r\n    this.removeTariffFromState(this.state.deleteTariffId);\r\n    this.deleteItemFromTariffs();\r\n    this.handleDeleteDialogClose();\r\n  };\r\n\r\n  addTariffToState = () => {\r\n    let newTariffsList = [...this.state.tariffs];\r\n\r\n    newTariffsList.unshift({\r\n      cost: 0,\r\n      dateEnd: null,\r\n      dateStart: null,\r\n      name: \"\",\r\n    });\r\n\r\n    this.setState({ tariffs: newTariffsList, addButtonDisabled: true });\r\n  };\r\n\r\n  removeTariffFromState = (removeId) => {\r\n    let newTariffsList = [...this.state.tariffs];\r\n\r\n    newTariffsList = newTariffsList.filter((item) => {\r\n      return item.id !== removeId;\r\n    });\r\n\r\n    if (this.state.addButtonDisabled) {\r\n      this.setState({ tariffs: newTariffsList, addButtonDisabled: false });\r\n    } else this.setState({ tariffs: newTariffsList });\r\n  };\r\n\r\n  updateTariffInState = (id, key, value) => {\r\n    let newState = [...this.state.tariffs];\r\n    let changeIndex = newState.findIndex((item) => item.id === id);\r\n    newState[changeIndex][key] = value;\r\n\r\n    this.setState({ tariffs: newState });\r\n  };\r\n\r\n  render() {\r\n    let tariffCards = null;\r\n    if (this.state.tariffs.length === 0) tariffCards = <Loader />;\r\n    else\r\n      tariffCards = this.state.tariffs.map((item, index) => (\r\n        <TariffCard\r\n          key={typeof item.id !== \"undefined\" ? item.id : index}\r\n          tariff={item}\r\n          disabled={typeof item.id !== \"undefined\" ? true : false}\r\n          handleDeleteDialogOpen={this.handleDeleteDialogOpen}\r\n          handleDeleteDialogContinue={this.handleDeleteDialogContinue}\r\n          updateItemInTariffs={this.updateItemInTariffs}\r\n          updateTariffInState={this.updateTariffInState}\r\n          insertItemToTariffs={this.insertItemToTariffs}\r\n        />\r\n      ));\r\n    return (\r\n      <div>\r\n        <DialogSimple\r\n          open={this.state.deleteDialogOpen}\r\n          handleClose={this.handleDeleteDialogClose}\r\n          handleContinue={this.handleDeleteDialogContinue}\r\n          dialogTitle=\"Вы уверены?\"\r\n          dialogContent=\"Вы уверены, что хотите удалить данный объект? Этот процесс нельзя будет отменить.\"\r\n          ё\r\n        />\r\n        <Typography\r\n          variant=\"h4\"\r\n          align=\"center\"\r\n          style={{ marginBottom: \"10px\" }}\r\n        >\r\n          Тарифы\r\n        </Typography>\r\n        <Button\r\n          onClick={() => this.addTariffToState(tariffCards)}\r\n          color=\"primary\"\r\n          disabled={this.state.addButtonDisabled}\r\n        >\r\n          Добавить тариф\r\n        </Button>\r\n        {tariffCards}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Tariffs);\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { Theme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: \"10px 0\",\r\n      width: \"100%\",\r\n    },\r\n    input: {\r\n      \"&:-webkit-autofill\": {\r\n        WebkitBoxShadow: \"0 0 0 30px white inset !important\"\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nconst AuthInput = (props: any) => {\r\n  const classes = useStyles();\r\n  return <TextField className={classes.root} variant=\"outlined\" inputProps={{className: classes.input}} {...props} />;\r\n};\r\n\r\nexport default AuthInput;\r\n","import React from \"react\";\r\nimport { TextField, InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: \"10px 0\",\r\n      width: \"100%\",\r\n    },\r\n    input: {\r\n      \"&:-webkit-autofill\": {\r\n        WebkitBoxShadow: \"0 0 0 30px white inset !important\"\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nconst AuthInputPassword = (props) => {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useState({\r\n    showPassword: false\r\n  });\r\n\r\n  const handleClickShowPassword = () => {\r\n    setState({ ...state, showPassword: !state.showPassword });\r\n  };\r\n\r\n  return (\r\n    <TextField\r\n      className={classes.root}\r\n      variant=\"outlined\"\r\n      type={state.showPassword ? \"text\" : \"password\"}\r\n      inputProps={{ className: classes.input }}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              aria-label=\"toggle password visibility\"\r\n              onClick={handleClickShowPassword}\r\n              edge=\"end\"\r\n            >\r\n              {state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        )\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AuthInputPassword;\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst CSSButton = withStyles({\r\n  root: {\r\n    width: \"100%\",\r\n    textTransform: \"none\",\r\n    margin: \"30px 0 10px 0\",\r\n  }\r\n})(Button);\r\n\r\nconst AuthButton = (props) => {\r\n  return <CSSButton variant=\"contained\" color=\"primary\" {...props}>{props.children}</CSSButton>;\r\n};\r\n\r\nexport default AuthButton;\r\n","import React from \"react\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst CSSAlert = withStyles({\r\n  root: {\r\n    marginBottom: \"10px\",\r\n  },\r\n})(Alert);\r\n\r\nconst AuthAlert = (props) => {\r\n  return <CSSAlert {...props}>{props.children}</CSSAlert>;\r\n};\r\n\r\nexport default AuthAlert;\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"../../axios-main\";\r\nimport CONFIG from \"../../configuration.json\";\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START,\r\n  };\r\n};\r\n\r\nexport const authSuccess = (token, userId) => {\r\n  return {\r\n    type: actionTypes.AUTH_SUCCESS,\r\n    idToken: token,\r\n    userId: userId,\r\n  };\r\n};\r\n\r\nexport const authFail = (error) => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const auth = (email, password) => {\r\n  return (dispatch) => {\r\n    dispatch(authStart());\r\n\r\n    const authData = {\r\n      email: email,\r\n      password: password,\r\n      returnSecureToken: true,\r\n    };\r\n\r\n    let url = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${CONFIG.AUTH_API_KEY}`;\r\n\r\n    axios\r\n      .post(url, authData)\r\n      .then((response) => {\r\n        console.log(response);\r\n        const expirationDate = new Date(\r\n          new Date().getTime() + response.data.expiresIn * 1000\r\n        );\r\n\r\n        localStorage.setItem(\"token\", response.data.idToken);\r\n        localStorage.setItem(\"expirationDate\", expirationDate);\r\n        localStorage.setItem(\"userId\", response.data.localId);\r\n\r\n        dispatch(authSuccess(response.data.idToken, response.data.localId));\r\n        dispatch(checkAuthTimeout(response.data.expiresIn));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        dispatch(authFail(error.response.data.error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const authLogout = () => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"expirationDate\");\r\n  localStorage.removeItem(\"userId\");\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT,\r\n  };\r\n};\r\n\r\nexport const checkAuthTimeout = (expirationTime) => {\r\n  return (dispatch) => {\r\n    setTimeout(() => {\r\n      dispatch(authLogout());\r\n    }, expirationTime * 1000);\r\n  };\r\n};\r\n\r\nexport const authCheckState = () => {\r\n  return dispatch => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      dispatch(authLogout());\r\n    } else {\r\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n      if (expirationDate <= new Date()) {\r\n        dispatch(authLogout());\r\n      } else {\r\n        const userId = localStorage.getItem(\"userId\");\r\n        dispatch(authSuccess(token, userId));\r\n        dispatch(\r\n          checkAuthTimeout(\r\n            (expirationDate.getTime() - new Date().getTime())/1000\r\n          )\r\n        );\r\n      }\r\n    }\r\n  };\r\n};\r\n","export const AUTH_START = \"AUTH_START\";\r\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\r\nexport const AUTH_FAIL = \"AUTH_FAIL\";\r\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport \"./AuthForm.css\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport AuthInput from \"../../components/UI/AuthComponents/AuthInput\";\r\nimport AuthInputPassword from \"../../components/UI/AuthComponents/AuthInputPassword\";\r\nimport AuthButton from \"../../components/UI/AuthComponents/AuthButton\";\r\nimport CSSAlert from \"../../components/UI/AuthComponents/AuthAlert\";\r\nimport * as actions from \"../../store/actions/index\";\r\n\r\n// Реализация классового компонента формы\r\nclass AuthForm extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    rememberMe: false,\r\n    validateFields: {\r\n      email: false,\r\n      password: false\r\n    },\r\n    fieldValidationErrors: {\r\n      email: \"Обязательное поле!\",\r\n      password: \"Обязательное поле!\"\r\n    },\r\n    willSend: true\r\n  };\r\n\r\n  //Функция для обновления состояния полей ввода\r\n  inputHandler = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    this.validation(name, value);\r\n\r\n    //Обновление State значения почты или пароля\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  //Валидация\r\n  validation = (name, value) => {\r\n    const reg = /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i;\r\n    let validateFieldsUpdate = { ...this.state.validateFields };\r\n    let fieldValidationErrors = { ...this.state.fieldValidationErrors };\r\n    switch (name) {\r\n      case \"email\":\r\n        validateFieldsUpdate.email = reg.test(value);\r\n        if (value.length === 0) {\r\n          fieldValidationErrors.email = \"Обязательное поле!\";\r\n        } else fieldValidationErrors.email = \"Проверьте корректность почты\";\r\n        break;\r\n      case \"password\":\r\n        validateFieldsUpdate.password = value.length >= 6;\r\n        if (value.length === 0) {\r\n          fieldValidationErrors.password = \"Обязательное поле!\";\r\n        } else\r\n          fieldValidationErrors.password =\r\n            \"Пароль должен быть более 6 символов\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.setState({\r\n      validateFields: validateFieldsUpdate,\r\n      fieldValidationErrors: fieldValidationErrors\r\n    });\r\n  };\r\n\r\n  //Функция для обновления состояния чекбокса\r\n  checkboxHandler = () => {\r\n    let checkbox = this.state.rememberMe;\r\n\r\n    this.setState({ rememberMe: !checkbox });\r\n  };\r\n\r\n  //Функция для отправки данных формы\r\n  formSenderHandler = () => {\r\n    //Проверка на заполненные поля\r\n    if (this.state.validateFields.email && this.state.validateFields.password) {\r\n      this.setState({ willSend: true });\r\n      //Отправка POST запроса на backend\r\n      this.props.onAuth(\r\n        this.state.email,\r\n        this.state.password,\r\n        this.state.rememberMe\r\n      );\r\n    } else {\r\n      this.setState({ willSend: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    //Вспомогательные переменные для отображения валидации и подсказки\r\n    let emailError = false;\r\n    let passwordError = false;\r\n\r\n    if (!this.state.willSend) {\r\n      emailError = !this.state.validateFields.email;\r\n      passwordError = !this.state.validateFields.password;\r\n    }\r\n\r\n    return (\r\n      <div className=\"auth_container\">\r\n        <form>\r\n          <div className=\"lockIconContainer\">\r\n            <div className=\"roundIcon\">\r\n              <LockOutlinedIcon />\r\n            </div>\r\n          </div>\r\n          <h1 className=\"authHeader\">Вход в аккаунт</h1>\r\n          {this.props.errorMessage ? (\r\n            <CSSAlert severity=\"error\">{this.props.errorMessage}</CSSAlert>\r\n          ) : null}\r\n          <AuthInput\r\n            key=\"email\"\r\n            id=\"email\"\r\n            label=\"Почта\"\r\n            name=\"email\"\r\n            error={emailError}\r\n            helperText={\r\n              emailError ? this.state.fieldValidationErrors.email : null\r\n            }\r\n            onChange={this.inputHandler}\r\n            value={this.state.email}\r\n          />\r\n          <AuthInputPassword\r\n            key=\"password\"\r\n            id=\"password\"\r\n            label=\"Пароль\"\r\n            name=\"password\"\r\n            error={passwordError}\r\n            helperText={\r\n              passwordError ? this.state.fieldValidationErrors.password : null\r\n            }\r\n            onChange={this.inputHandler}\r\n            value={this.state.password}\r\n          />\r\n          <AuthButton onClick={this.formSenderHandler}>\r\n            Войти в аккаунт\r\n          </AuthButton>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//Использование Redux\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.token !== null,\r\n    loading: state.loading,\r\n    errorMessage: state.error,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAuth: (email, password) =>\r\n      dispatch(actions.auth(email, password))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthForm);\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\n\r\nimport * as actions from \"../../../store/actions/index\";\r\n\r\nclass Logout extends Component {\r\n  componentDidMount() {\r\n    this.props.onLogout(this.props.history);\r\n  }\r\n\r\n  render() {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onLogout: () => dispatch(actions.authLogout())\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout);\r\n","import React from \"react\";\r\nimport \"date-fns\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport CurrencyTextField from \"@unicef/material-ui-currency-textfield\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    margin: \"20px 0\",\r\n  },\r\n  cardPadding: {\r\n    padding: \"16px !important\",\r\n  },\r\n  field: {\r\n    width: \"100%\",\r\n  },\r\n  buttonPosition: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nconst UserCard = (props) => {\r\n  const classes = useStyles();\r\n  const {\r\n    firstName,\r\n    lastName,\r\n    userEmail,\r\n    accountantEmail,\r\n    address,\r\n    prevIndicators,\r\n    prevIndicatorsDate,\r\n  } = props.userDetails;\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardContent className={classes.cardPadding}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h5\" align=\"center\">\r\n              Контакты\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              label=\"Имя\"\r\n              value={firstName}\r\n              fullWidth\r\n              onChange={(event) =>\r\n                props.updateUserDataInState(\"firstName\", event.target.value)\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              label=\"Фамилия\"\r\n              value={lastName}\r\n              fullWidth\r\n              onChange={(event) =>\r\n                props.updateUserDataInState(\"lastName\", event.target.value)\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              label=\"Адрес\"\r\n              value={address}\r\n              fullWidth\r\n              onChange={(event) =>\r\n                props.updateUserDataInState(\"address\", event.target.value)\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              label=\"Ваша почта\"\r\n              value={userEmail}\r\n              disabled\r\n              fullWidth\r\n              onChange={(event) =>\r\n                props.updateUserDataInState(\"userEmail\", event.target.value)\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              label=\"Почта бухгалтерии\"\r\n              value={accountantEmail}\r\n              fullWidth\r\n              onChange={(event) =>\r\n                props.updateUserDataInState(\r\n                  \"accountantEmail\",\r\n                  event.target.value\r\n                )\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"h5\" align=\"center\">\r\n              Начальные показатели\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <KeyboardDatePicker\r\n                className={classes.field}\r\n                label=\"Дата первичных показателей\"\r\n                format=\"dd.MM.yyyy\"\r\n                value={prevIndicatorsDate}\r\n                KeyboardButtonProps={{\r\n                  \"aria-label\": \"change date\",\r\n                }}\r\n                onChange={(date) =>\r\n                  props.updateUserDataInState(\"prevIndicatorsDate\", date)\r\n                }\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n          </Grid>\r\n          {prevIndicators.map((item, index) => (\r\n            <Grid key={index} item xs={6}>\r\n              <CurrencyTextField\r\n                className={classes.field}\r\n                label={item.name}\r\n                currencySymbol=\"\"\r\n                value={item.intake}\r\n                minimumValue=\"0\"\r\n                onChange={(_, value) =>\r\n                  props.updateIndicatorsInState(item.id, value)\r\n                }\r\n              />\r\n            </Grid>\r\n          ))}\r\n\r\n          <Grid className={classes.buttonPosition} item xs={12}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disableElevation\r\n              onClick={() => {\r\n                props.updateUserDetails(props.userId);\r\n              }}\r\n            >\r\n              Сохранить\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default UserCard;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"../../axios-main\";\r\n\r\nimport UserCard from \"../../components/UserCard/UserCard\";\r\nimport Loader from \"../../components/UI/Loader/Loader\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { withSnackbar } from \"notistack\";\r\n\r\nclass UsersProfile extends Component {\r\n  state = {\r\n    userDetails: null,\r\n    userId: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getUserDetails(localStorage.getItem('userId'));\r\n  }\r\n\r\n  getUserDetails = (id) => {\r\n    console.log(\"Получение данных по UserId: \", id);\r\n    const token = localStorage.getItem('token');\r\n    axios\r\n      .get(`/users.json?auth=${token}&orderBy=\"userId\"&equalTo=\"${id}\"`)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n        let userDetails = response.data[Object.keys(response.data)];\r\n\r\n        this.setState({\r\n          userDetails: userDetails,\r\n          userId: Object.keys(response.data)[0],\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.setState({\r\n          error: \"Произошла ошибка, обратитесь к Системному Администратору.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  updateUserDetails = (id) => {\r\n    console.log(\"Обновление записи по Id: \", id);\r\n    const newData = this.state.userDetails;\r\n    const token = localStorage.getItem('token');\r\n    axios\r\n      .patch(`/users/${id}.json?auth=${token}`, newData)\r\n      .then((response) => {\r\n        console.log(\"Ответ с сервера: \", response.data);\r\n        this.props.enqueueSnackbar(\"Данные успешно сохранены!\", {\r\n          variant: \"success\",\r\n          preventDuplicate: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Ошибка: \", error);\r\n      });\r\n  };\r\n\r\n  updateUserDataInState = (key, value) => {\r\n    let newUserDetails = { ...this.state.userDetails };\r\n    newUserDetails[key] = value;\r\n\r\n    this.setState({ userDetails: newUserDetails });\r\n  };\r\n\r\n  updateIndicatorsInState = (id, value) => {\r\n    let newUserDetails = { ...this.state.userDetails };\r\n    let indexOfNewIndicator = newUserDetails.prevIndicators.findIndex(\r\n      (item) => item.id === id\r\n    );\r\n    newUserDetails.prevIndicators[indexOfNewIndicator].intake = value;\r\n\r\n    this.setState({ userDetails: newUserDetails });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Typography\r\n          variant=\"h4\"\r\n          align=\"center\"\r\n          style={{ marginBottom: \"10px\" }}\r\n        >\r\n          Профиль пользователя\r\n        </Typography>\r\n        {this.state.userDetails === null ? (\r\n          <Loader />\r\n        ) : (\r\n          <UserCard\r\n            userDetails={this.state.userDetails}\r\n            userId={this.state.userId}\r\n            updateUserDataInState={this.updateUserDataInState}\r\n            updateIndicatorsInState={this.updateIndicatorsInState}\r\n            updateUserDetails={this.updateUserDetails}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(UsersProfile);\r\n","import React, { Component } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Layout from \"./hoc/Layout/Layout\";\r\nimport OutlayDetails from \"./containers/OutlayDetails/OutlayDetails\";\r\nimport IndicatorsInsert from \"./containers/IndicatorsInsert/IndicatorsInsert\";\r\nimport Tariffs from \"./containers/Tariffs/Tariffs\";\r\nimport AuthForm from \"./containers/AuthForm/AuthForm\";\r\nimport Logout from \"./containers/AuthForm/Logout/Logout\";\r\nimport UsersProfile from './containers/UsersProfile/UsersProfile'\r\nimport * as actions from \"./store/actions/index\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.onTryAutoSignup();\r\n  }\r\n\r\n  render() {\r\n    let routes = (\r\n      <Switch>\r\n        <Route path=\"/auth\" component={AuthForm} />\r\n        <Redirect to=\"/auth\" />\r\n      </Switch>\r\n    );\r\n\r\n    if (this.props.isAuth) {\r\n      routes = (\r\n        <Switch>\r\n          <Route path=\"/outlay\" component={OutlayDetails} />\r\n          <Route path=\"/send-indicators\" component={IndicatorsInsert} />\r\n          <Route path=\"/tariffs\" component={Tariffs} />\r\n          <Route path=\"/profile\" component={UsersProfile} />\r\n          <Route path=\"/logout\" component={Logout} />\r\n          <Redirect to=\"/send-indicators\" />\r\n        </Switch>\r\n      );\r\n    }\r\n    return <Layout isAuth={this.props.isAuth}>{routes}</Layout>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.token !== null,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","export const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  userId: null,\r\n  error: null,\r\n  loading: false,\r\n};\r\n\r\nconst authStart = (state) => {\r\n  return updateObject(state, { error: null, loading: true });\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    token: action.idToken,\r\n    userId: action.userId,\r\n    error: null,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst authFail = (state, action) => {\r\n  let errorMessage;\r\n  if (action.error === 401) {\r\n    errorMessage = \"Ошибка авторизации, проверьте данные и повторите попытку\";\r\n  } else {\r\n    errorMessage = \"Произошла ошибка, попробуйте повторите попытку позднее\";\r\n  }\r\n  return updateObject(state, {\r\n    error: errorMessage,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst authLogout = (state) => {\r\n  return updateObject(state, { token: null, userId: null });\r\n};\r\n\r\nconst reduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_START:\r\n      return authStart(state);\r\n    case actionTypes.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actionTypes.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return authLogout(state);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reduser;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport history from \"./store/history\";\r\nimport reducer from \"./store/reducers/auth\";\r\n\r\nimport { SnackbarProvider } from \"notistack\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <HashRouter history={history} basename={\"/\"}>\r\n      <SnackbarProvider\r\n        maxSnack={1}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n      >\r\n        <App />\r\n      </SnackbarProvider>\r\n    </HashRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}