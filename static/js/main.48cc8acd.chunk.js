(this.webpackJsonpindicators_transfer=this.webpackJsonpindicators_transfer||[]).push([[0],{149:function(e,t,a){e.exports=a(188)},154:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(11),l=a.n(i),o=(a(154),a(23)),c=a(24),s=a(28),d=a(27),u=a(17),m=a(26),h=a(40),v=a(118),p=a.n(v).a.create({baseURL:"https://reacttestproject-70f65.firebaseio.com/"}),g=function(e){var t="https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=".concat(h.AUTH_API_KEY);return p.post(t,e)},E=function(e,t,a){return p.patch("/users/".concat(e,".json?auth=").concat(t),a)},f=function(e,t){return function(a){a(O()),a(function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}}(e,t))}},b=function(e){return{type:"AUTH_FAIL",error:e}},y=function(e,t){return function(a){a({type:"AUTH_START"}),function(e){var t="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(h.AUTH_API_KEY);return p.post(t,e)}({email:e,password:t,returnSecureToken:!0}).then((function(e){console.log("auth",e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),a(f(e.data.idToken,e.data.localId)),a(S(e.data.expiresIn))})).catch((function(e){console.log(e),a(b(e.response.data.error))}))}},I=function(e,t,a){return function(r){r({type:"AUTH_START"}),function(e){var t="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(h.AUTH_API_KEY);return p.post(t,e)}({email:e,password:t,returnSecureToken:!0}).then((function(e){console.log("registration",e);var t,n,i=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",i),localStorage.setItem("userId",e.data.localId),r(f(e.data.idToken,e.data.localId)),r(S(e.data.expiresIn)),a.userId=e.data.localId,(t=e.data.idToken,n=a,p.post("/users.json?auth=".concat(t),n)).then((function(e){console.log("registration insertUser",e)})).catch((function(e){console.log("[ERROR] registration insertUser",e)}))})).catch((function(e){console.log("[ERROR] registration",e),r(b(e.response.data.error))}))}},D=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},S=function(e){return function(t){setTimeout((function(){t(D())}),1e3*e)}},O=function(){return function(e){(function(e,t){return p.get("/users.json?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"'))})(localStorage.getItem("token"),localStorage.getItem("userId")).then((function(t){console.log("loadUserData extractUser",t);var a,r,n,i=t.data[Object.keys(t.data)];e((a=i.userDetails,r=i.prevIndicators,n=Object.keys(t.data)[0],{type:"LOAD_USERDATA_SUCCESS",userDetails:a,prevIndicators:r,userIdDb:n}))})).catch((function(e){console.log("[ERROR] loadUserData extractUser",e)}))}},x=a(34),j={ru:{authEmail:"\u041f\u043e\u0447\u0442\u0430",authPassword:"\u041f\u0430\u0440\u043e\u043b\u044c",authSignIn:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",authSignUp:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",authForgotPassword:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",authPasswordRecovery:"\u0414\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438 \u0432\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438.",authEmailSent:"\u041f\u0438\u0441\u044c\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!",authEmailSentText1:"\u0412\u0430\u043c \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",authEmailSentText2:"\u0441 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0430\u0448 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a.",authReturn:"\u0412\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u043d\u0430 \u0424\u043e\u0440\u043c\u0443 \u0432\u0445\u043e\u0434\u0430",authSignInShort:"\u0412\u043e\u0439\u0442\u0438",emailNotReg:"\u0414\u0430\u043d\u043d\u044b\u0439 email \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",authError:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443",authErrorEmailExist:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",authErrorEmailNotReg:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u0435\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",authErrorInvalidPassword:"\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u0430\u0440\u043e\u043b\u044c",authErrorOther:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",registration:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",regEnterUserDetails:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",regEnterPrevIndicators:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438",regValidateData:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",regUserDetails:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",regPrevIndicators:"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438",regSuccess:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430",indications:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f",expenses:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",tariffs:"\u0422\u0430\u0440\u0438\u0444\u044b",profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",sendIndicators:"\u041f\u043e\u0434\u0430\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f",sendIndicatorsMonthYear:"\u041c\u0435\u0441\u044f\u0446 \u0438 \u0433\u043e\u0434",sendIndicatorsMonth:"\u041c\u0435\u0441\u044f\u0446",sendIndicatorsYear:"\u0413\u043e\u0434",sendIndicatorsElectricity:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f",sendIndicatorsDay:"\u0414\u0435\u043d\u044c",sendIndicatorsNight:"\u041d\u043e\u0447\u044c",sendIndicatorsKitchen:"\u041a\u0443\u0445\u043d\u044f",sendIndicatorsBathroom:"\u0412\u0430\u043d\u043d\u0430\u044f",sendIndicatorsColdWater:"\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",sendIndicatorsHotWater:"\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",dialogCheckTitle:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430",switchMail:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044e",outlayCurrentExpenditure:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",outlayIndicator:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",outlayCharge:"\u0420\u0430\u0441\u0445\u043e\u0434",outlayConsumption:"\u041f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435",outlayCost:"\u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438",outlayElectricityDay:"\u042d\u043b-\u044f \u0434\u0435\u043d\u044c:",outlayElectricityNight:"\u042d\u043b-\u044f \u043d\u043e\u0447\u044c:",outlayColdWater:"\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430:",outlayHotWater:"\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430:",outlayDisposalWater:"\u0412\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435:",outlayWaterSupply:"\u0412\u043e\u0434\u043e\u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u0435",outlayElectricity:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f",outlaySendDialogTitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439",outlaySendDialogContent:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u0438?",outlayDeleteDialogTitle:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",outlayDeleteDialogContent:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442? \u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",outlayNoData:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0437\u0430",outlayNoDataYear:"\u0433\u043e\u0434",outlayErrorNotYetSend:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0435\u0449\u0435 \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b",outlaySendSuccess:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u0438!",currencySymbol:"\u20bd",addTariff:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444",tariffName:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",tariffCost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",tariffDateStart:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d c",tariffDateEnd:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u043f\u043e",tariffWater:"\u041f\u043e\u0434\u0430\u0447\u0430 \u0432\u043e\u0434\u044b",tariffHotWater:"\u041f\u043e\u0434\u043e\u0433\u0440\u0435\u0432 \u0432\u043e\u0434\u044b",tariffDisposalWater:"\u0412\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435",tariffElectricityDay:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e-\u0438\u044f. \u0434\u0435\u043d\u044c",tariffElectricityNight:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e-\u0438\u044f. \u043d\u043e\u0447\u044c",tariffErrorNotYetSend:"\u0422\u0430\u0440\u0438\u0444\u044b \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b",userProfile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",contacts:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",firstName:"\u0418\u043c\u044f",lastName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",address:"\u0410\u0434\u0440\u0435\u0441",userEmail:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430",accountantEmail:"\u041f\u043e\u0447\u0442\u0430 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u0438",primaryIndicators:"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438",prevIndicatorsDate:"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0445 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439",electricityDay:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f: \u0414\u0435\u043d\u044c",electricityNight:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f: \u041d\u043e\u0447\u044c",kitchenColdWater:"\u041a\u0443\u0445\u043d\u044f: \u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",kitchenHotWater:"\u041a\u0443\u0445\u043d\u044f: \u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",bathroomColdWater:"\u0412\u0430\u043d\u043d\u0430\u044f: \u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",bathroomHotWater:"\u0412\u0430\u043d\u043d\u0430\u044f: \u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",systemName:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",recover:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",saveData:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!",objectDeleted:"\u041e\u0431\u044a\u0435\u043a\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!",prev:"\u041d\u0430\u0437\u0430\u0434",next:"\u0412\u043f\u0435\u0440\u0435\u0434",finish:"\u0413\u043e\u0442\u043e\u0432\u043e",requiredField:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",unvalidEmail:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",unvalidPassword:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",responseError:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",january:"\u042f\u043d\u0432\u0430\u0440\u044c",february:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",march:"\u041c\u0430\u0440\u0442",april:"\u0410\u043f\u0440\u0435\u043b\u044c",may:"\u041c\u0430\u0439",june:"\u0418\u044e\u043d\u044c",july:"\u0418\u044e\u043b\u044c",august:"\u0410\u0432\u0433\u0443\u0441\u0442",september:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",october:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",november:"\u041d\u043e\u044f\u0431\u0440\u044c",december:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",year:"\u0433\u043e\u0434",notDefined:"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"},en:{authEmail:"Email",authPassword:"Password",authSignIn:"Sign in",authSignUp:"Don't have an account yet? Sign up",authForgotPassword:"Forgot password?",authPasswordRecovery:"To restore your password, enter your email address and you will be sent an email with further instructions.",authEmailSent:"Email sent!",authEmailSentText1:"An email was sent to your email address",authEmailSentText2:"with further instructions. Please check your email box.",authReturn:"Return to the Login form",authSignInShort:"Sign in",emailNotReg:"This email isn't registered",authError:"Authorization error, check the data and try again",authErrorEmailExist:"The user with this Email already exists",authErrorEmailNotReg:"The user with this Email isn't registered yet",authErrorInvalidPassword:"Invalid password",authErrorOther:"An error occurred, please try again later",registration:"Registration",regEnterUserDetails:"Enter your personal information",regEnterPrevIndicators:"Enter the primary indicators",regValidateData:"Validate data",regUserDetails:"Personal information",regPrevIndicators:"Primary indicators",regSuccess:"Registration completed successfully",indications:"Indications",expenses:"Expenses",tariffs:"Tariffs",profile:"Profile",sendIndicators:"Send indicators",sendIndicatorsMonthYear:"Month and year",sendIndicatorsMonth:"Month",sendIndicatorsYear:"Year",sendIndicatorsElectricity:"Electricity",sendIndicatorsDay:"Day",sendIndicatorsNight:"Night",sendIndicatorsKitchen:"Kitchen:",sendIndicatorsBathroom:"Bathroom",sendIndicatorsColdWater:"Cold water",sendIndicatorsHotWater:"Hot water",dialogCheckTitle:"Check the indicators for",switchMail:"Send to the accountant",outlayCurrentExpenditure:"Current expenditure",outlayIndicator:"Indicator",outlayCharge:"Charge",outlayConsumption:"Consumption",outlayCost:"Cost calculation",outlayElectricityDay:"El. day:",outlayElectricityNight:"El. night:",outlayColdWater:"Cold water:",outlayHotWater:"Hot water:",outlayDisposalWater:"Water disposal:",outlayWaterSupply:"Water supply",outlayElectricity:"Electricity",outlaySendDialogTitle:"Send indicators",outlaySendDialogContent:"Are you sure you want to send indicators to the accounting Department's email address?",outlayDeleteDialogTitle:"Are you sure?",outlayDeleteDialogContent:"Are you sure you want to delete this item? This process cannot be canceled.",outlayNoData:"No data for",outlayNoDataYear:"year",outlayErrorNotYetSend:"The indicators hasn't been sent yet",outlaySendSuccess:"The data was successfully sent to the accountant's email!",currencySymbol:"$",addTariff:"Add tariff",tariffName:"Name",tariffCost:"Cost",tariffDateStart:"Date since",tariffDateEnd:"Date till",tariffWater:"Water supply",tariffHotWater:"Water heating",tariffDisposalWater:"Water disposal",tariffElectricityDay:"Electricity day",tariffElectricityNight:"Electricity night",tariffErrorNotYetSend:"The tariffs hasn't been created yet",userProfile:"Profile",contacts:"Contacts",firstName:"First name",lastName:"Last name",address:"Address",userEmail:"User's Email",accountantEmail:"Accountant's Email",primaryIndicators:"Primary indicators",prevIndicatorsDate:"Date of primary indicators",electricityDay:"Electricity: Day",electricityNight:"Electricity: Night",kitchenColdWater:"Kitchen: Cold water",kitchenHotWater:"Kitchen: Hot water",bathroomColdWater:"Bathroom: Cold water",bathroomHotWater:"Bathroom: Hot water",systemName:"The system of municipal indicators",save:"Save",send:"Send",delete:"Delete",cancel:"Cancel",recover:"Recover",loading:"Loading",saveData:"Data saved successfully!",objectDeleted:"The object was successfully deleted!",prev:"Prev",next:"Next",finish:"Finish",requiredField:"This field is required",unvalidEmail:"Please enter a valid email address",unvalidPassword:"The password must consist of more than 6 characters",responseError:"An error occurred, try refreshing the page",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",year:"year",notDefined:"Not defined"}},C=[{id:"ru",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{id:"en",text:"English"}],k=void 0===localStorage.getItem("languageIndex")?0:+localStorage.getItem("languageIndex"),W=Object(r.createContext)({language:C[k],dictionary:j[C[k].id]});function N(e){var t=Object(r.useContext)(W),a=Object(r.useState)(t.language),i=Object(x.a)(a,2),l=i[0],o=i[1],c=Object(r.useState)(t.dictionary),s=Object(x.a)(c,2),d=s[0],u=s[1],m={language:l,dictionary:d,setLanguage:function(e){o(e),u(j[e.id])}};return n.a.createElement(W.Provider,{value:m},e.children)}a(176);var w=a(258),T=a(25),M=a(189),F=a(198),P=a(243),H=a(238),U=Object(H.a)({rootLight:{paddingTop:"1px",marginRight:"5px","& .MuiInput-underline:before":{display:"none"},"& .MuiSvgIcon-root":{color:"white"},"& .MuiSelect-select:focus":{backgroundColor:"none"}},selectLight:{color:"white"},rootDark:{paddingTop:"1px",marginRight:"5px","& .MuiInput-underline:before":{display:"none"},"& .MuiSvgIcon-root":{color:"#757575"},"& .MuiSelect-select:focus":{backgroundColor:"none"}},selectDark:{color:"#757575"}});function R(e){var t=U(),a=Object(r.useContext)(W);return n.a.createElement(M.a,{className:"light"===e.theme?t.rootLight:t.rootDark},n.a.createElement(F.a,{value:a.language.id,onChange:function(e){var t=C.find((function(t){return t.id===e.target.value}));a.setLanguage(t),localStorage.setItem("languageIndex",C.indexOf(t))},className:"light"===e.theme?t.selectLight:t.selectDark},C.map((function(e){return n.a.createElement(P.a,{key:e.id,value:e.id},e.text)}))))}var A=a(248),V=a(249),_=a(250),q=a(251),Y=a(52),B=a(254),L=a(242),K=a(194),z=a(255),J=a(256),G=a(244),X=a(245),$=a(246),Q=a(247),Z=a(252),ee=a(253),te=function(e){return Object(r.useContext)(W).dictionary[e.tid]},ae=[{name:"indications",path:"/send-indicators",icon:n.a.createElement(G.a,null)},{name:"expenses",path:"/outlay",icon:n.a.createElement(X.a,null)},{name:"tariffs",path:"/tariffs",icon:n.a.createElement($.a,null)},{name:"profile",path:"/profile",icon:n.a.createElement(Q.a,null)}],re=Object(H.a)((function(e){return{root:{flexGrow:1,width:"100%"},button:{"&:hover":{color:"white"}},grow:{flexGrow:1},list:{width:250},logo:{width:"40px",height:"40px",padding:"10px 10px 10px 0",background:'url("'.concat("/indicators_transfer",'/img/logo.png") no-repeat'),backgroundSize:"40px",backgroundPosition:"left"}}})),ne=function(e){var t=re(),a="indications";switch(window.location.hash){case"#/send-indicators":a="indications";break;case"#/outlay":a="expenses";break;case"#/tariffs":a="tariffs";break;case"#/profile":a="profile"}var i=Object(r.useState)(n.a.createElement(te,{tid:a})),l=Object(x.a)(i,2),o=l[0],c=l[1],s=Object(r.useState)(!1),d=Object(x.a)(s,2),u=d[0],m=d[1],h=Object(A.a)("(min-width:525px)");return n.a.createElement("div",{className:t.root},n.a.createElement(V.a,{position:"relative"},n.a.createElement(_.a,null,n.a.createElement(q.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return m(!0)}},n.a.createElement(Z.a,null)),h?n.a.createElement("div",{className:t.logo}):null,n.a.createElement(Y.a,{variant:"h6"},o),n.a.createElement("div",{className:t.grow}),n.a.createElement(R,{theme:"light"}),e.userDetails&&h?n.a.createElement(Y.a,{variant:"h6"},e.userDetails.firstName+" "+e.userDetails.lastName):null,n.a.createElement(q.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",component:T.b,to:"/logout"},n.a.createElement(ee.a,null))),n.a.createElement(B.a,{className:t.drawer,anchor:"left",open:u,onClose:function(){return m(!1)}},n.a.createElement(L.a,{className:t.list},ae.map((function(e){return n.a.createElement(K.a,{button:!0,key:e.name,component:T.b,to:e.path,onClick:function(){m(!1),c(n.a.createElement(te,{tid:e.name}))}},n.a.createElement(z.a,null,e.icon),n.a.createElement(J.a,{primary:n.a.createElement(te,{tid:e.name})}))}))))))},ie=a(257),le=a(127),oe=Object(le.a)();oe.typography.h4={fontSize:"2.125rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"400",lineHeight:"1.235",letterSpacing:"0.00735em","@media (max-width:767px)":{fontSize:"1.75rem"}},oe.typography.h5={fontSize:"1.5rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"400",lineHeight:"1.334",letterSpacing:"0em","@media (max-width:767px)":{fontSize:"1.25rem"}},oe.typography.h6={fontSize:"1.25rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"400",lineHeight:"1.6",letterSpacing:"0.0075em","@media (max-width:767px)":{fontSize:"1rem"}};var ce=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=void 0===localStorage.getItem("languageIndex")?0:+localStorage.getItem("languageIndex");return 0===e&&(document.title="\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439"),1===e&&(document.title="The system of municipal indicators"),n.a.createElement(ie.a,{theme:oe},n.a.createElement(w.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},this.props.isAuth&&n.a.createElement(w.a,{item:!0,xs:12,style:{width:"100%"}},n.a.createElement(ne,{userDetails:this.props.userDetails})),n.a.createElement(w.a,{item:!0,xs:12,style:{width:"100%"}},n.a.createElement(w.a,{container:!0,justify:"center",alignItems:"center"},n.a.createElement("div",{className:"paper"},this.props.children)))))}}]),a}(r.Component),se=Object(m.b)((function(e){return{userDetails:e.userDetails}}))(ce),de=a(29),ue=a(4),me=(a(178),function(e){return"string"===typeof e?""===e.trim():"number"===typeof e?0===e:null===e||void 0}),he=function(e,t){var a={isValid:!0,errorMessage:null};if(!t)return!0;if(t.required&&(a.isValid=!me(e)&&a.isValid,a.errorMessage=a.isValid?null:"requiredField","requiredField"===a.errorMessage))return a;if(t.isEmail){me(e)&&a.isValid?a.isValid=!0:a.isValid=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a.isValid,a.errorMessage=a.isValid?null:"unvalidEmail"}return t.isPassord&&(a.isValid=e.length>=6&&a.isValid,a.errorMessage=e.length<6&&e.length>0?"unvalidPassword":null),a},ve=a(287),pe=a(5),ge=Object(pe.a)({root:{marginBottom:"10px"}})(ve.a),Ee=function(e){return n.a.createElement(ge,e,e.children)},fe=a(259),be=Object(pe.a)({root:{width:"100%",textTransform:"none",margin:"30px 0 10px 0"}})(fe.a),ye=function(e){return n.a.createElement(be,Object.assign({variant:"contained",color:"primary"},e),e.children)},Ie=a(260),De=a(289),Se=Object(H.a)((function(e){return Object(De.a)({root:{margin:"10px 0",width:"100%"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 30px white inset !important"}}})})),Oe=function(e){var t=Se();return n.a.createElement(Ie.a,Object.assign({className:t.root,variant:"outlined",inputProps:{className:t.input}},e))},xe=a(261),je=a(122),Ce=a.n(je),ke=a(123),We=a.n(ke),Ne=Object(H.a)((function(e){return Object(De.a)({root:{margin:"10px 0",width:"100%"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 30px white inset !important"}}})})),we=function(e){var t=Ne(),a=n.a.useState({showPassword:!1}),r=Object(x.a)(a,2),i=r[0],l=r[1];return n.a.createElement(Ie.a,Object.assign({className:t.root,variant:"outlined",type:i.showPassword?"text":"password",inputProps:{className:t.input},InputProps:{endAdornment:n.a.createElement(xe.a,{position:"end"},n.a.createElement(q.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(ue.a)(Object(ue.a)({},i),{},{showPassword:!i.showPassword}))},edge:"end"},i.showPassword?n.a.createElement(Ce.a,null):n.a.createElement(We.a,null)))}},e))},Te=a(262),Me=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={auth:{email:{value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{value:"",validation:{required:!0,isPassord:!0},valid:!1,touched:!1}},authValid:!1},e.inputHandler=function(t,a){var r=he(a,e.state.auth[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state.auth),{},Object(de.a)({},t,Object(ue.a)(Object(ue.a)({},e.state.auth[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity(n);e.setState({auth:n,authValid:i})},e.checkFormValidity=function(t){if("undefined"!==typeof t){var a=t.email,r=t.password;if(a.valid&&r.valid)return!0}if("undefined"===typeof t){var n=Object(ue.a)(Object(ue.a)({},e.state.auth),{},{email:Object(ue.a)(Object(ue.a)({},e.state.auth.email),{},{touched:!0,errorMessage:"requiredField"}),password:Object(ue.a)(Object(ue.a)({},e.state.auth.password),{},{touched:!0,errorMessage:"requiredField"})});e.setState({auth:n})}return!1},e.formSenderHandler=function(){e.props.onAuth(e.state.auth.email.value,e.state.auth.password.value)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.auth,a=t.email,r=t.password;return n.a.createElement("div",null,n.a.createElement("div",{style:{position:"absolute",top:"20px",right:"20px"}},n.a.createElement(R,{theme:"dark"})),n.a.createElement("div",{className:"auth_container"},n.a.createElement("form",null,n.a.createElement("div",{className:"lockIconContainer"},n.a.createElement("div",{className:"roundIcon",style:{background:'url("'.concat("/indicators_transfer",'/img/logo.png") no-repeat'),backgroundPosition:"50% 0",backgroundSize:"60px"}})),n.a.createElement(Y.a,{className:"authHeader",variant:"h5",align:"center"},n.a.createElement(te,{tid:"systemName"})),this.props.errorMessage?n.a.createElement(Ee,{severity:"error"},n.a.createElement(te,{tid:this.props.errorMessage})):null,n.a.createElement(Oe,{id:"email",label:n.a.createElement(te,{tid:"authEmail"}),name:"email",error:!a.valid&&a.touched,helperText:!a.valid&&a.touched?n.a.createElement(te,{tid:a.errorMessage}):null,onChange:function(t){return e.inputHandler("email",t.target.value)},value:a.value}),n.a.createElement(we,{id:"password",label:n.a.createElement(te,{tid:"authPassword"}),name:"password",error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(te,{tid:r.errorMessage}):null,onChange:function(t){return e.inputHandler("password",t.target.value)},onKeyUp:function(t){"Enter"===t.key&&(e.state.authValid?e.formSenderHandler():e.checkFormValidity())},value:r.value}),n.a.createElement(ye,{onClick:this.state.authValid?function(){return e.formSenderHandler()}:function(){return e.checkFormValidity()}},n.a.createElement(te,{tid:"authSignIn"})),n.a.createElement(w.a,{className:"linkContainer",container:!0,spacing:1,direction:"row"},n.a.createElement(w.a,{item:!0,xs:6},n.a.createElement(Y.a,null,n.a.createElement(Te.a,{component:T.b,to:"/forgot-password",variant:"body2"},n.a.createElement(te,{tid:"authForgotPassword"})))),n.a.createElement(w.a,{className:"signUpLink",item:!0,xs:6},n.a.createElement(Y.a,{align:"right"},n.a.createElement(Te.a,{component:T.b,to:"/registration",variant:"body2"},n.a.createElement(te,{tid:"authSignUp"}))))))))}}]),a}(r.Component),Fe=Object(m.b)((function(e){return{loading:e.loading,errorMessage:e.error}}),(function(e){return{onAuth:function(t,a){return e(y(t,a))}}}))(Me),Pe=a(94),He=a.n(Pe),Ue=a(124),Re=function(e){var t=Object(m.c)();return Object(r.useEffect)((function(){return Object(Ue.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(D());case 1:case"end":return e.stop()}}),e)})))}),[t]),n.a.createElement(u.a,{to:"/"})},Ae=(a(181),a(291)),Ve=a(269),_e=a(288),qe=a(263),Ye=a(264),Be=Object(H.a)({root:{margin:"20px 0"},cardPadding:{padding:"16px !important"}}),Le=function(e){var t=Be();return n.a.createElement(qe.a,{className:t.root},n.a.createElement(Ye.a,{className:t.cardPadding},e.children))},Ke=function(e){var t=e.userDetails,a=t.firstName,r=t.lastName,i=t.userEmail,l=t.password,o=t.accountantEmail,c=t.address;return n.a.createElement(w.a,{container:!0,spacing:3},n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:"Email",disabled:e.isDisabled,value:i.value,type:"email",autoComplete:"off",fullWidth:!0,onChange:function(t){return e.updateUserDataInState("userEmail",t.target.value)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(te,{tid:i.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"authPassword"}),disabled:e.isDisabled,value:l.value,type:"password",autoComplete:"new-password",fullWidth:!0,onChange:function(t){return e.updateUserDataInState("password",t.target.value)},error:!l.valid&&l.touched,helperText:!l.valid&&l.touched?n.a.createElement(te,{tid:l.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement(Ie.a,{fullWidth:!0,label:n.a.createElement(te,{tid:"firstName"}),value:a.value,onChange:function(t){return e.updateUserDataInState("firstName",t.target.value)},disabled:e.isDisabled,error:!a.valid&&a.touched,helperText:!a.valid&&a.touched?n.a.createElement(te,{tid:a.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"lastName"}),disabled:e.isDisabled,value:r.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("lastName",t.target.value)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(te,{tid:r.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"address"}),disabled:e.isDisabled,value:c.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("address",t.target.value)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(te,{tid:c.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"accountantEmail"}),disabled:e.isDisabled,value:o.value,type:"email",fullWidth:!0,onChange:function(t){return e.updateUserDataInState("accountantEmail",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(te,{tid:o.errorMessage}):null})))},ze=a(67),Je=a(32),Ge=a(285),Xe=a(125),$e=function(e){return n.a.createElement(Xe.a,Object.assign({},e,{type:"tel",style:{width:"100%"},thousandSeparator:" ",decimalSeparator:".",decimalScale:2,allowNegative:!1,customInput:Ie.a}))},Qe=Object(H.a)({field:{width:"100%"}}),Ze=function(e){var t=Qe(),a=e.prevIndicators,r=a.prevIndicatorsDate,i=a.electricityDay,l=a.electricityNight,o=a.kitchenColdWater,c=a.kitchenHotWater,s=a.bathroomColdWater,d=a.bathroomHotWater;return n.a.createElement(w.a,{container:!0,spacing:3},n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Je.a,{utils:ze.a},n.a.createElement(Ge.a,{clearable:!0,className:t.field,disabled:e.isDisabled,label:n.a.createElement(te,{tid:"prevIndicatorsDate"}),format:"dd.MM.yyyy",value:r.value,onChange:function(t){return e.updatePrevIndicatorsInState("prevIndicatorsDate",t)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(te,{tid:r.errorMessage}):null}))),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"electricityDay"}),value:i.value,onChange:function(t){return e.updatePrevIndicatorsInState("electricityDay",t.target.value)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(te,{tid:i.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"electricityNight"}),value:l.value,onChange:function(t){return e.updatePrevIndicatorsInState("electricityNight",t.target.value)},error:!l.valid&&l.touched,helperText:!l.valid&&l.touched?n.a.createElement(te,{tid:l.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"kitchenColdWater"}),value:o.value,onChange:function(t){return e.updatePrevIndicatorsInState("kitchenColdWater",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(te,{tid:o.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"kitchenHotWater"}),value:c.value,onChange:function(t){return e.updatePrevIndicatorsInState("kitchenHotWater",t.target.value)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(te,{tid:c.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"bathroomColdWater"}),value:s.value,onChange:function(t){return e.updatePrevIndicatorsInState("bathroomColdWater",t.target.value)},error:!s.valid&&s.touched,helperText:!s.valid&&s.touched?n.a.createElement(te,{tid:s.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"bathroomHotWater"}),value:d.value,onChange:function(t){return e.updatePrevIndicatorsInState("bathroomHotWater",t.target.value)},error:!d.valid&&d.touched,helperText:!d.valid&&d.touched?n.a.createElement(te,{tid:d.errorMessage}):null})))},et=Object(H.a)((function(e){return{root:{width:"100%","& .MuiStepper-root":{padding:"24px 0 0 0"}},stepLabel:{wordBreak:"break-word"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),tt=function(e){var t=et(),a=n.a.useState(0),r=Object(x.a)(a,2),i=r[0],l=r[1],o=[n.a.createElement(te,{tid:"regEnterUserDetails"}),n.a.createElement(te,{tid:"regEnterPrevIndicators"}),n.a.createElement(te,{tid:"regValidateData"})];return n.a.createElement("div",{className:t.root},n.a.createElement(Ae.a,{activeStep:i,alternativeLabel:!0},o.map((function(e,a){return n.a.createElement(Ve.a,{key:a},n.a.createElement(_e.a,{classes:{root:t.stepLabel}},e))}))),n.a.createElement("div",null,i===o.length?n.a.createElement("div",null,n.a.createElement(Y.a,{className:t.instructions,style:{marginTop:"30px"}},n.a.createElement(te,{tid:"regSuccess"})),n.a.createElement(fe.a,{variant:"contained",color:"primary",component:T.b,to:"/auth"},n.a.createElement(te,{tid:"authSignIn"}))):n.a.createElement("div",null,n.a.createElement(Le,null,function(t){switch(t){case 0:return n.a.createElement(Ke,{userDetails:e.userDetails,updateUserDataInState:e.updateUserDataInState,isDisabled:!1});case 1:return n.a.createElement(Ze,{prevIndicators:e.prevIndicators,updatePrevIndicatorsInState:e.updatePrevIndicatorsInState,isDisabled:!1});case 2:return n.a.createElement("div",null,n.a.createElement(Y.a,{variant:"h5",align:"center",style:{padding:"0 0 20px 0"}},n.a.createElement(te,{tid:"regUserDetails"})),n.a.createElement(Ke,{userDetails:e.userDetails,updateUserDataInState:e.updateUserDataInState,isDisabled:!0}),n.a.createElement(Y.a,{variant:"h5",align:"center",style:{padding:"20px 0"}},n.a.createElement(te,{tid:"regPrevIndicators"})),n.a.createElement(Ze,{prevIndicators:e.prevIndicators,updatePrevIndicatorsInState:e.updatePrevIndicatorsInState,isDisabled:!0}));default:return"Unknown stepIndex"}}(i,e.updateUserDataInState,e.updatePrevIndicatorsInState,e.userDetails,e.prevIndicators)),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement(fe.a,{disabled:0===i,onClick:function(){l((function(e){return e-1}))},className:t.backButton},n.a.createElement(te,{tid:"prev"})),n.a.createElement(fe.a,{variant:"contained",color:"primary",onClick:function(){0===i&&(e.userDetailsValid?l((function(e){return e+1})):e.checkFormValidity("userDetails")),1===i&&(e.prevIndicatorsValid?l((function(e){return e+1})):e.checkFormValidity("prevIndicators")),2===i&&e.registration()}},i===o.length-1?n.a.createElement(te,{tid:"finish"}):n.a.createElement(te,{tid:"next"}))))))},at=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={userDetails:{firstName:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},lastName:{value:"",validation:{required:!0},valid:!1,touched:!1},userEmail:{value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{value:"",validation:{required:!0,isPassord:!0},valid:!1,touched:!1},accountantEmail:{value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},address:{value:"",validation:{required:!0},valid:!1,touched:!1}},userDetailsValid:!1,prevIndicators:{prevIndicatorsDate:{value:null,validation:{required:!0},valid:!1,errorMessage:"",touched:!1},electricityDay:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},electricityNight:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},kitchenColdWater:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},kitchenHotWater:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},bathroomColdWater:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},bathroomHotWater:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1}},prevIndicatorsValid:!1},e.registration=function(){var t={userDetails:{firstName:e.state.userDetails.firstName.value,lastName:e.state.userDetails.lastName.value,userEmail:e.state.userDetails.userEmail.value,accountantEmail:e.state.userDetails.accountantEmail.value,address:e.state.userDetails.address.value},prevIndicators:{prevIndicatorsDate:e.state.prevIndicators.prevIndicatorsDate.value,electricity:{day:+e.state.prevIndicators.electricityDay.value,night:+e.state.prevIndicators.electricityNight.value},kitchen:{coldWater:+e.state.prevIndicators.kitchenColdWater.value,hotWater:+e.state.prevIndicators.kitchenHotWater.value},bathroom:{coldWater:+e.state.prevIndicators.bathroomColdWater.value,hotWater:+e.state.prevIndicators.bathroomHotWater.value}}};e.props.onRegistration(e.state.userDetails.userEmail.value,e.state.userDetails.password.value,t)},e.updateUserDataInState=function(t,a){var r=he(a,e.state.userDetails[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state.userDetails),{},Object(de.a)({},t,Object(ue.a)(Object(ue.a)({},e.state.userDetails[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity("userDetails",n);e.setState({userDetails:n,userDetailsValid:i})},e.updatePrevIndicatorsInState=function(t,a){var r=he(a,e.state.prevIndicators[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state.prevIndicators),{},Object(de.a)({},t,Object(ue.a)(Object(ue.a)({},e.state.prevIndicators[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity("prevIndicators",n);e.setState({prevIndicators:n,prevIndicatorsValid:i})},e.checkFormValidity=function(t,a){if("userDetails"===t&&"undefined"!==typeof a){var r=a.firstName,n=a.lastName,i=a.userEmail,l=a.password,o=a.accountantEmail,c=a.address;if(r.valid&&n.valid&&i.valid&&l.valid&&o.valid&&c.valid)return!0}if("userDetails"===t&&"undefined"===typeof a){var s=Object(ue.a)(Object(ue.a)({},e.state.userDetails),{},{firstName:Object(ue.a)(Object(ue.a)({},e.state.userDetails.firstName),{},{touched:!0,errorMessage:"requiredField"}),lastName:Object(ue.a)(Object(ue.a)({},e.state.userDetails.lastName),{},{touched:!0,errorMessage:"requiredField"}),userEmail:Object(ue.a)(Object(ue.a)({},e.state.userDetails.userEmail),{},{touched:!0,errorMessage:"requiredField"}),password:Object(ue.a)(Object(ue.a)({},e.state.userDetails.password),{},{touched:!0,errorMessage:"requiredField"}),accountantEmail:Object(ue.a)(Object(ue.a)({},e.state.userDetails.accountantEmail),{},{touched:!0,errorMessage:"requiredField"}),address:Object(ue.a)(Object(ue.a)({},e.state.userDetails.address),{},{touched:!0,errorMessage:"requiredField"})});e.setState({userDetails:s})}if("prevIndicators"===t&&"undefined"!==typeof a){var d=a.prevIndicatorsDate,u=a.electricityDay,m=a.electricityNight,h=a.kitchenColdWater,v=a.kitchenHotWater,p=a.bathroomColdWater,g=a.bathroomHotWater;if(d.valid&&u.valid&&m.valid&&h.valid&&v.valid&&p.valid&&g.valid)return!0}if("prevIndicators"===t&&"undefined"===typeof a){var E=Object(ue.a)(Object(ue.a)({},e.state.prevIndicators),{},{prevIndicatorsDate:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.prevIndicatorsDate),{},{touched:!0,errorMessage:"requiredField"}),electricityDay:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.electricityDay),{},{touched:!0,errorMessage:"requiredField"}),electricityNight:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.electricityNight),{},{touched:!0,errorMessage:"requiredField"}),kitchenColdWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.kitchenColdWater),{},{touched:!0,errorMessage:"requiredField"}),kitchenHotWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.kitchenHotWater),{},{touched:!0,errorMessage:"requiredField"}),bathroomColdWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.bathroomColdWater),{},{touched:!0,errorMessage:"requiredField"}),bathroomHotWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.bathroomHotWater),{},{touched:!0,errorMessage:"requiredField"})});e.setState({prevIndicators:E})}return!1},e}return Object(c.a)(a,[{key:"render",value:function(){return this.props.errorMessage&&window.scrollTo(0,0),n.a.createElement("div",{className:"reg-container"},n.a.createElement("div",{className:"top-div"},n.a.createElement(R,{theme:"dark"}),n.a.createElement(Y.a,null,n.a.createElement(Te.a,{component:T.b,to:"/auth",variant:"body2",style:{fontSize:"16px"}},n.a.createElement(te,{tid:"authSignInShort"})))),n.a.createElement(Y.a,{variant:"h4",align:"center",style:{marginBottom:"10px"}},n.a.createElement(te,{tid:"registration"})),this.props.errorMessage?n.a.createElement(ve.a,{severity:"error"},n.a.createElement(te,{tid:this.props.errorMessage})):null,n.a.createElement(tt,{userDetails:this.state.userDetails,userDetailsValid:this.state.userDetailsValid,prevIndicators:this.state.prevIndicators,prevIndicatorsValid:this.state.prevIndicatorsValid,updateUserDataInState:this.updateUserDataInState,updatePrevIndicatorsInState:this.updatePrevIndicatorsInState,checkFormValidity:this.checkFormValidity,registration:this.registration}))}}]),a}(r.Component),rt=Object(m.b)((function(e){return{errorMessage:e.error}}),(function(e){return{onRegistration:function(t,a,r){return e(I(t,a,r))}}}))(at),nt=(a(182),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:{value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},errorMessage:"",emailSend:!1},e.inputHandler=function(t,a){var r=he(a,e.state[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0});e.setState(Object(de.a)({},t,n))},e.sendPasswordRecovery=function(){var t={requestType:"PASSWORD_RESET",email:e.state.email.value};g(t).then((function(t){console.log("sendOobCode",t),e.setState({emailSend:!0})})).catch((function(t){console.log("[ERROR] sendOobCode",t),"EMAIL_NOT_FOUND"===t.response.data.error.message&&e.setState({errorMessage:"emailNotReg"})}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.email,a=n.a.createElement("div",null,n.a.createElement(Y.a,{className:"headFont",variant:"h5",color:"initial"},n.a.createElement(te,{tid:"authForgotPassword"})),n.a.createElement(Y.a,{className:"typeFont",variant:"body1",color:"initial"},n.a.createElement(te,{tid:"authPasswordRecovery"})),this.state.errorMessage?n.a.createElement(Ee,{severity:"error"},n.a.createElement(te,{tid:this.state.errorMessage})):null,n.a.createElement(Oe,{id:"email",label:n.a.createElement(te,{tid:"authEmail"}),name:"email",value:t.value,error:!t.valid&&t.touched,helperText:!t.valid&&t.touched?n.a.createElement(te,{tid:t.errorMessage}):null,onChange:function(t){return e.inputHandler("email",t.target.value)}}),n.a.createElement(ye,{disabled:!this.state.email.valid,onClick:this.sendPasswordRecovery},n.a.createElement(te,{tid:"recover"}))),r=n.a.createElement("div",null,n.a.createElement(Y.a,{className:"headFont",variant:"h5",color:"initial"},n.a.createElement(te,{tid:"authEmailSent"})),n.a.createElement(Y.a,{className:"typeFont",variant:"body1",color:"initial"},n.a.createElement(te,{tid:"authEmailSentText1"})," ",n.a.createElement("b",null,t.value)," ",n.a.createElement(te,{tid:"authEmailSentText2"})),n.a.createElement(Y.a,null,n.a.createElement(Te.a,{component:T.b,to:"/auth",variant:"body2"},n.a.createElement(te,{tid:"authReturn"}))));return n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex",position:"absolute",top:"20px",right:"20px",alignItems:"center"}},n.a.createElement(R,{theme:"dark"}),n.a.createElement(Y.a,null,n.a.createElement(Te.a,{component:T.b,to:"/auth",variant:"body2",style:{fontSize:"16px"}},n.a.createElement(te,{tid:"authSignInShort"})))),n.a.createElement("div",{className:"form_container"},this.state.emailSend?r:a))}}]),a}(r.Component)),it=a(87),lt=a.n(it),ot=function(e,t){return p.post("/indicators.json?auth=".concat(e),t)},ct=function(e,t){return p.get("/indicators.json?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"'))},st=function(e,t){return p.delete("/indicators/".concat(e,".json?auth=").concat(t))},dt=(a(185),[{text:"january",rusName:"\u042f\u043d\u0432\u0430\u0440\u044c",value:0},{text:"february",rusName:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",value:1},{text:"march",rusName:"\u041c\u0430\u0440\u0442",value:2},{text:"april",rusName:"\u0410\u043f\u0440\u0435\u043b\u044c",value:3},{text:"may",rusName:"\u041c\u0430\u0439",value:4},{text:"june",rusName:"\u0418\u044e\u043d\u044c",value:5},{text:"july",rusName:"\u0418\u044e\u043b\u044c",value:6},{text:"august",rusName:"\u0410\u0432\u0433\u0443\u0441\u0442",value:7},{text:"september",rusName:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",value:8},{text:"october",rusName:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",value:9},{text:"november",rusName:"\u041d\u043e\u044f\u0431\u0440\u044c",value:10},{text:"december",rusName:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",value:11}]),ut=a(270),mt=a(271),ht=a(292),vt=function(e){return n.a.createElement(ut.a,{row:!0},n.a.createElement(mt.a,{control:n.a.createElement(ht.a,{checked:e.checked,onChange:e.switchChange,color:"primary"}),label:e.label}))},pt=a(265),gt=a(272),Et=a(266),ft=a(267),bt=function(e){return n.a.createElement(pt.a,{open:e.modalOpen,onClose:e.modalHandlerClose,maxWidth:"xs"},n.a.createElement(gt.a,{align:"center"},n.a.createElement(te,{tid:"dialogCheckTitle"})," ",n.a.createElement(te,{tid:dt[e.monthYear.month].text})," ",e.monthYear.year," ",n.a.createElement(te,{tid:"year"})),n.a.createElement(Et.a,{dividers:!0},n.a.createElement(w.a,{container:!0,spacing:1},n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(vt,{label:n.a.createElement(te,{tid:"switchMail"}),checked:e.sendDataToAccountant,switchChange:e.switchChange})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h6",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsElectricity"}))),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsDay"}),":")),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},e.indicators.electricityDay.value)),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsNight"}),":")),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},e.indicators.electricityNight.value)),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h6",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsKitchen"}))),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsColdWater"}),":")),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},e.indicators.coldWaterKitchen.value)),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsHotWater"}),":")),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},e.indicators.hotWaterKitchen.value)),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h6",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsBathroom"}))),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsColdWater"}),":")),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},e.indicators.coldWaterBathroom.value)),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},n.a.createElement(te,{tid:"sendIndicatorsHotWater"}),":")),n.a.createElement(w.a,{item:!0,xs:6,sm:3},n.a.createElement(Y.a,{variant:"body1",align:"center"},e.indicators.hotWaterBathroom.value)))),n.a.createElement(ft.a,null,n.a.createElement(fe.a,{onClick:e.modalHandlerClose,color:"secondary"},n.a.createElement(te,{tid:"cancel"})),n.a.createElement(fe.a,{onClick:e.sendIndicators,color:"primary",autoFocus:!0},n.a.createElement(te,{tid:"send"}))))},yt=a(200),It=function(e){var t=e.indicators,a=t.electricityDay,r=t.electricityNight,i=t.coldWaterKitchen,l=t.coldWaterBathroom,o=t.hotWaterKitchen,c=t.hotWaterBathroom;return n.a.createElement(w.a,{container:!0,spacing:2},n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h5",className:"headerMargin"},n.a.createElement(te,{tid:"sendIndicatorsMonthYear"}))),n.a.createElement(w.a,{item:!0,xs:6},n.a.createElement(M.a,{style:{width:"100%"}},n.a.createElement(yt.a,null,n.a.createElement(te,{tid:"sendIndicatorsMonth"})),n.a.createElement(F.a,{value:e.monthYear.month||0,onChange:function(t){return e.setStateMonthYear("month",t.target.value)}},dt.map((function(e){return n.a.createElement(P.a,{key:e.value,value:e.value},n.a.createElement(te,{tid:e.text}))}))))),n.a.createElement(w.a,{item:!0,xs:6},n.a.createElement(M.a,{style:{width:"100%"}},n.a.createElement(yt.a,null,n.a.createElement(te,{tid:"sendIndicatorsYear"})),n.a.createElement(F.a,{value:e.monthYear.year||2020,onChange:function(t){return e.setStateMonthYear("year",t.target.value)}},e.getCurrentYear().map((function(e){return n.a.createElement(P.a,{key:e.value,value:e.value},e.text)}))))),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h5",className:"headerMargin"},n.a.createElement(te,{tid:"sendIndicatorsElectricity"}))),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"sendIndicatorsDay"}),value:a.value,onChange:function(t){return e.updateIndicatorsInState("electricityDay",t.target.value)},error:!a.valid&&a.touched,helperText:!a.valid&&a.touched?n.a.createElement(te,{tid:a.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"sendIndicatorsNight"}),value:r.value,onChange:function(t){return e.updateIndicatorsInState("electricityNight",t.target.value)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(te,{tid:r.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h5",className:"headerMargin"},n.a.createElement(te,{tid:"sendIndicatorsKitchen"}))),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"sendIndicatorsColdWater"}),value:i.value,onChange:function(t){return e.updateIndicatorsInState("coldWaterKitchen",t.target.value)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(te,{tid:i.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"sendIndicatorsHotWater"}),value:o.value,onChange:function(t){return e.updateIndicatorsInState("hotWaterKitchen",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(te,{tid:o.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h5",className:"headerMargin"},n.a.createElement(te,{tid:"sendIndicatorsBathroom"}))),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"sendIndicatorsColdWater"}),value:l.value,onChange:function(t){return e.updateIndicatorsInState("coldWaterBathroom",t.target.value)},error:!l.valid&&l.touched,helperText:!l.valid&&l.touched?n.a.createElement(te,{tid:l.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"sendIndicatorsHotWater"}),value:c.value,onChange:function(t){return e.updateIndicatorsInState("hotWaterBathroom",t.target.value)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(te,{tid:c.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"15px"}},n.a.createElement(fe.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:e.indicatorsValid?e.modalHandlerOpen:function(){return e.checkFormValidity()}},n.a.createElement(te,{tid:"send"}))))},Dt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={indicators:{electricityDay:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},electricityNight:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},coldWaterKitchen:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},coldWaterBathroom:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},hotWaterKitchen:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},hotWaterBathroom:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1}},indicatorsValid:!1,monthYear:{month:(new Date).getMonth(),year:(new Date).getFullYear()},sendDataToAccountant:!0,modalOpen:!1},e.updateIndicatorsInState=function(t,a){var r=he(a,e.state.indicators[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state.indicators),{},Object(de.a)({},t,Object(ue.a)(Object(ue.a)({},e.state.indicators[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity(n);e.setState({indicators:n,indicatorsValid:i})},e.checkFormValidity=function(t){if("undefined"!==typeof t){var a=t.electricityDay,r=t.electricityNight,n=t.coldWaterKitchen,i=t.coldWaterBathroom,l=t.hotWaterKitchen,o=t.hotWaterBathroom;if(a.valid&&r.valid&&n.valid&&i.valid&&l.valid&&o.valid)return!0}if("undefined"===typeof t){var c=Object(ue.a)(Object(ue.a)({},e.state.indicators),{},{electricityDay:Object(ue.a)(Object(ue.a)({},e.state.indicators.electricityDay),{},{touched:!0,errorMessage:"requiredField"}),electricityNight:Object(ue.a)(Object(ue.a)({},e.state.indicators.electricityNight),{},{touched:!0,errorMessage:"requiredField"}),coldWaterKitchen:Object(ue.a)(Object(ue.a)({},e.state.indicators.coldWaterKitchen),{},{touched:!0,errorMessage:"requiredField"}),coldWaterBathroom:Object(ue.a)(Object(ue.a)({},e.state.indicators.coldWaterBathroom),{},{touched:!0,errorMessage:"requiredField"}),hotWaterKitchen:Object(ue.a)(Object(ue.a)({},e.state.indicators.hotWaterKitchen),{},{touched:!0,errorMessage:"requiredField"}),hotWaterBathroom:Object(ue.a)(Object(ue.a)({},e.state.indicators.hotWaterBathroom),{},{touched:!0,errorMessage:"requiredField"})});e.setState({indicators:c})}return!1},e.modalHandlerClose=function(){e.setState({modalOpen:!1})},e.modalHandlerOpen=function(t){for(var a in t.preventDefault(),e.state.indicators){var r=Object(ue.a)({},e.state.indicators);if(""===r[a].value||0===r[a].value){var n=Object(ue.a)({},e.state.indicators);n[a].valid=!1,e.setState({indicators:n}),e.setState({indicatorsValid:!1})}}e.state.indicators.electricityDay.valid&&e.state.indicators.electricityNight.valid&&e.state.indicators.coldWaterKitchen.valid&&e.state.indicators.coldWaterBathroom.valid&&e.state.indicators.hotWaterKitchen.valid&&e.state.indicators.hotWaterBathroom.valid&&e.setState({modalOpen:!0})},e.sendEmailHandler=function(){var t={recipient:e.props.userDetails.accountantEmail,address:e.props.userDetails.address,month:dt[e.state.monthYear.month].rusName,year:e.state.monthYear.year,electricityDay:e.state.indicators.electricityDay.value,electricityNight:e.state.indicators.electricityNight.value,coldWaterKitchen:e.state.indicators.coldWaterKitchen.value,coldWaterBathroom:e.state.indicators.coldWaterBathroom.value,hotWaterKitchen:e.state.indicators.hotWaterKitchen.value,hotWaterBathroom:e.state.indicators.hotWaterBathroom.value};console.log(t),lt.a.send(h.SERVICE_ID,h.TEMPLATE_ID,t,h.USER_ID).then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)}))},e.sendIndicators=function(){var t=new Date(Date.UTC(e.state.monthYear.year,e.state.monthYear.month,1,5)).setUTCHours(0,0,0,0),a={electricity:{day:+e.state.indicators.electricityDay.value,night:+e.state.indicators.electricityNight.value},coldWater:{kitchen:+e.state.indicators.coldWaterKitchen.value,bathroom:+e.state.indicators.coldWaterBathroom.value},hotWater:{kitchen:+e.state.indicators.hotWaterKitchen.value,bathroom:+e.state.indicators.hotWaterBathroom.value},currentDate:{today:new Date(t).toUTCString(),year:e.state.monthYear.year},userId:localStorage.getItem("userId")},r=localStorage.getItem("token");ot(r,a).then((function(t){console.log("insertIndicators",t),e.setState({modalOpen:!1}),e.state.sendDataToAccountant&&e.sendEmailHandler(),e.props.history.push("/outlay")})).catch((function(e){console.log("[ERROR] insertIndicators",e)}))},e.getCurrentMonth=function(){return(new Date).getMonth()},e.getCurrentYear=function(){for(var e=(new Date).getFullYear(),t=[],a=2;a>=0;a--)t.push({text:e-a,value:e-a});return t},e.setStateMonthYear=function(t,a){var r=Object(ue.a)(Object(ue.a)({},e.state.monthYear),{},Object(de.a)({},t,a));e.setState({monthYear:r})},e.switchChange=function(){e.setState({sendDataToAccountant:!e.state.sendDataToAccountant})},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(bt,{indicators:this.state.indicators,monthYear:this.state.monthYear,modalOpen:this.state.modalOpen,sendDataToAccountant:this.state.sendDataToAccountant,switchChange:this.switchChange,modalHandlerClose:this.modalHandlerClose,sendIndicators:this.sendIndicators}),n.a.createElement(Y.a,{variant:"h4",align:"center"},n.a.createElement(te,{tid:"sendIndicators"})),n.a.createElement(Le,null,n.a.createElement(It,{indicators:this.state.indicators,monthYear:this.state.monthYear,indicatorsValid:this.state.indicatorsValid,setStateMonthYear:this.setStateMonthYear,getCurrentYear:this.getCurrentYear,updateIndicatorsInState:this.updateIndicatorsInState,modalHandlerOpen:this.modalHandlerOpen,checkFormValidity:this.checkFormValidity})))}}]),a}(r.Component),St=Object(u.g)(Object(m.b)((function(e){return{userDetails:e.userDetails}}))(Dt)),Ot=a(59),xt=function(e,t){return p.post("/tariffs.json?auth=".concat(e),t)},jt=function(e,t){return p.get("/tariffs.json?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"'))},Ct=function(e,t,a){return p.patch("/tariffs/".concat(e,".json?auth=").concat(t),a)},kt=function(e,t){return p.delete("/tariffs/".concat(e,".json?auth=").concat(t))},Wt=a(55),Nt=a(268),wt=Object(H.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"15px"},paragraph:{marginTop:"5px"}}})),Tt=function(e){var t=wt();return n.a.createElement("div",Object.assign({className:t.root},e),n.a.createElement(Nt.a,null),n.a.createElement(Y.a,{className:t.paragraph},n.a.createElement(te,{tid:"loading"})))},Mt=a(77),Ft=a(275),Pt=a(276),Ht=a(277),Ut=a(278),Rt=a(279),At=a(280),Vt=a(273),_t=a(274),qt=Object(H.a)({root:{position:"relative",marginTop:"30px",margin:"10px"},buttonClose:{position:"absolute",right:"5px",top:"5px",padding:0},buttonSend:{position:"absolute",left:"5px",top:"5px",padding:0}}),Yt=function(e){var t=qt(),a=e.indicatorsList,r=a.id,i=a.date,l=a.indicators,o=e.costWaterSupply,c=e.costElectricity,s="";switch(i.getMonth()){case 0:s=n.a.createElement(te,{tid:"january"});break;case 1:s=n.a.createElement(te,{tid:"february"});break;case 2:s=n.a.createElement(te,{tid:"march"});break;case 3:s=n.a.createElement(te,{tid:"april"});break;case 4:s=n.a.createElement(te,{tid:"may"});break;case 5:s=n.a.createElement(te,{tid:"june"});break;case 6:s=n.a.createElement(te,{tid:"july"});break;case 7:s=n.a.createElement(te,{tid:"august"});break;case 8:s=n.a.createElement(te,{tid:"september"});break;case 9:s=n.a.createElement(te,{tid:"october"});break;case 10:s=n.a.createElement(te,{tid:"november"});break;case 11:s=n.a.createElement(te,{tid:"december"});break;default:s=n.a.createElement(te,{tid:"notDefined"})}return n.a.createElement(Mt.a,{className:t.root},n.a.createElement(q.a,{className:t.buttonSend,"aria-label":n.a.createElement(te,{tid:"send"}),component:"span",color:"primary",onClick:function(){e.handleSendDialogOpen(r)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(Vt.a,null)),n.a.createElement(q.a,{className:t.buttonClose,"aria-label":n.a.createElement(te,{tid:"delete"}),component:"span",color:"secondary",onClick:function(){e.handleDeleteDialogOpen(r)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(_t.a,null)),n.a.createElement(Y.a,{variant:"h6",align:"center"},s," ",i.getFullYear()),n.a.createElement(Ft.a,null,n.a.createElement(Pt.a,null,n.a.createElement(Ht.a,null,n.a.createElement(Ut.a,null,n.a.createElement(Rt.a,null,n.a.createElement("b",null,n.a.createElement(te,{tid:"outlayIndicator"}))),n.a.createElement(Rt.a,{align:"center"},n.a.createElement("b",null,n.a.createElement(te,{tid:"outlayCharge"})," | ",n.a.createElement(te,{tid:"outlayConsumption"}))))),n.a.createElement(At.a,null,l.map((function(e,t){return n.a.createElement(Ut.a,{key:t},n.a.createElement(Rt.a,{component:"th",scope:"row"},n.a.createElement(te,{tid:e.name})),n.a.createElement(Rt.a,{align:"center"},e.intake," | ",e.outlay))})),n.a.createElement(Ut.a,null,n.a.createElement(Rt.a,{align:"center",colSpan:2},n.a.createElement("b",null,n.a.createElement(te,{tid:"outlayCost"})))),n.a.createElement(Ut.a,null,n.a.createElement(Rt.a,{component:"th",scope:"row"},n.a.createElement(te,{tid:"outlayWaterSupply"})),n.a.createElement(Rt.a,{align:"center"},o," ",n.a.createElement(te,{tid:"currencySymbol"}))),n.a.createElement(Ut.a,null,n.a.createElement(Rt.a,{component:"th",scope:"row"},n.a.createElement(te,{tid:"outlayElectricity"})),n.a.createElement(Rt.a,{align:"center"},c," ",n.a.createElement(te,{tid:"currencySymbol"})))))))},Bt=a(286),Lt=a(281),Kt=Object(H.a)({root:{flexGrow:1,marginTop:"15px",boxShadow:"none"},label:{fontSize:"1rem"}}),zt=function(e){var t=Kt(),a=n.a.useState(0),r=Object(x.a)(a,2),i=r[0],l=r[1];return n.a.createElement(Mt.a,{className:t.root},n.a.createElement(Bt.a,{value:i,onChange:function(t,a){l(a),e.changeCurrentYear(e.tabsList[a])},indicatorColor:"primary",textColor:"primary",centered:!0},e.tabsList.map((function(e){return n.a.createElement(Lt.a,{key:e,label:e,className:t.label})}))))},Jt=a(282),Gt=function(e){return n.a.createElement(pt.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(gt.a,{id:"alert-dialog-title"},n.a.createElement(te,{tid:e.dialogTitle})),n.a.createElement(Et.a,null,n.a.createElement(Jt.a,{id:"alert-dialog-description"},n.a.createElement(te,{tid:e.dialogContent}))),n.a.createElement(ft.a,null,n.a.createElement(fe.a,{onClick:e.handleClose,color:"primary"},n.a.createElement(te,{tid:"cancel"})),n.a.createElement(fe.a,{onClick:e.handleContinue,color:"secondary",autoFocus:!0},n.a.createElement(te,{tid:e.activeButtonName}))))},Xt=a(72),$t=(a(186),a(187),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={indicatorsList:null,prevIndicators:null,tariffs:null,currentYear:(new Date).getUTCFullYear(),error:null,deleteDialogOpen:!1,deleteIndicatorId:null,sendDialogOpen:!1,sendIndicatorId:null},e.getDataFromFirebase=function(){var t=localStorage.getItem("token"),a=localStorage.getItem("userId"),r=jt(t,a),n=ct(t,a);Promise.all([r,n]).then((function(t){console.log("extractTariff",t[0]),console.log("extractIndicators",t[1]);var a=e.getUserDetails(e.props.prevIndicators),r=e.getListOfTariffs(t[0].data),n=e.getListOfIndicators(t[1].data);0!==(n=e.countOutlay(n,a)).length?e.setState({prevIndicators:a,tariffs:r,indicatorsList:n}):e.setState({prevIndicators:a,tariffs:r,error:"outlayErrorNotYetSend"})})).catch((function(t){console.log(t),e.setState({error:"responseError"})}))},e.getUserDetails=function(e){return[{id:"day_electricity",name:"outlayElectricityDay",intake:e.electricity.day},{id:"night_electricity",name:"outlayElectricityNight",intake:e.electricity.night},{id:"cold_water",name:"outlayColdWater",intake:e.bathroom.coldWater+e.kitchen.coldWater},{id:"hot_water",name:"outlayHotWater",intake:e.bathroom.hotWater+e.kitchen.hotWater},{id:"disposal_water",name:"outlayDisposalWater",intake:e.bathroom.coldWater+e.kitchen.coldWater+e.bathroom.hotWater+e.kitchen.hotWater}]},e.getListOfTariffs=function(e){return Object.keys(e).map((function(t){var a=e[t];return a.id=t,a}))},e.getListOfIndicators=function(e){var t=Object.keys(e).map((function(t){return{id:t,date:new Date(e[t].currentDate.today),year:e[t].currentDate.year,indicators:[{id:"day_electricity",name:"outlayElectricityDay",intake:e[t].electricity.day},{id:"night_electricity",name:"outlayElectricityNight",intake:e[t].electricity.night},{id:"cold_water",name:"outlayColdWater",intake:e[t].coldWater.bathroom+e[t].coldWater.kitchen,bathroom:e[t].coldWater.bathroom,kitchen:e[t].coldWater.kitchen},{id:"hot_water",name:"outlayHotWater",intake:e[t].hotWater.bathroom+e[t].hotWater.kitchen,bathroom:e[t].hotWater.bathroom,kitchen:e[t].hotWater.kitchen},{id:"disposal_water",name:"outlayDisposalWater",intake:e[t].coldWater.bathroom+e[t].coldWater.kitchen+e[t].hotWater.bathroom+e[t].hotWater.kitchen}]}}));return t.sort((function(e,t){return e.date.getTime()-t.date.getTime()})),t},e.sendEmailHandler=function(){var t=e.getOneIndicator(),a={recipient:e.props.userDetails.accountantEmail,address:e.props.userDetails.address,month:dt[new Date(t.date).getMonth()].text,year:t.year,electricityDay:t.indicators[0].intake,electricityNight:t.indicators[1].intake,coldWaterKitchen:t.indicators[2].kitchen,coldWaterBathroom:t.indicators[2].bathroom,hotWaterKitchen:t.indicators[3].kitchen,hotWaterBathroom:t.indicators[3].bathroom};lt.a.send(h.SERVICE_ID,h.TEMPLATE_ID,a,h.USER_ID).then((function(t){console.log("SUCCESS!",t.status,t.text),e.props.enqueueSnackbar(n.a.createElement(te,{tid:"outlaySendSuccess"}),{variant:"success",preventDuplicate:!0})}),(function(e){console.log("FAILED...",e)}))},e.getOneIndicator=function(){return e.state.indicatorsList.find((function(t){return t.id===e.state.sendIndicatorId}))},e.deleteItemFromIndicators=function(){var t=localStorage.getItem("token");st(e.state.deleteIndicatorId,t).then((function(t){console.log("deleteIndicators",t.data),e.setState({deleteIndicatorId:null}),e.props.enqueueSnackbar(n.a.createElement(te,{tid:"objectDeleted"}),{variant:"info",preventDuplicate:!0})})).catch((function(e){console.log("[ERROR] deleteIndicators",e)}))},e.removeIndicatorFromState=function(t){var a=Object(Ot.a)(e.state.indicatorsList);a=a.filter((function(e){return e.id!==t})),e.setState({indicatorsList:a})},e.handleDeleteDialogOpen=function(t){e.setState({deleteDialogOpen:!0,deleteIndicatorId:t})},e.handleDeleteDialogClose=function(){e.setState({deleteDialogOpen:!1})},e.handleDeleteDialogContinue=function(){e.removeIndicatorFromState(e.state.deleteIndicatorId),e.deleteItemFromIndicators(),e.handleDeleteDialogClose()},e.handleSendDialogOpen=function(t){e.setState({sendDialogOpen:!0,sendIndicatorId:t})},e.handleSendDialogClose=function(){e.setState({sendDialogOpen:!1})},e.handleSendDialogContinue=function(){e.sendEmailHandler(),e.handleSendDialogClose()},e.countOutlay=function(e,t){for(var a=Object(Ot.a)(e),r=function(e){a[e]===a[0]?a[e].indicators=a[e].indicators.map((function(e,a){var r=Object(ue.a)({},e);return r.outlay=r.intake-t[a].intake,r})):a[e].indicators=a[e].indicators.map((function(t,r){var n=Object(ue.a)({},t);return n.outlay=n.intake-a[e-1].indicators[r].intake,n}))},n=0;n<a.length;n++)r(n);return a},e.countCostElectricity=function(t,a){var r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=null;try{n=t.find((function(e){return"day_electricity"===e.id})).outlay}catch(c){console.log("\u042d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u043d\u044c",c)}var i=null;try{i=t.find((function(e){return"night_electricity"===e.id})).outlay}catch(c){console.log("\u042d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0447\u044c",c)}var l=null;try{l=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"electricity_day"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(c){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u043d\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}var o=null;try{o=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"electricity_night"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(c){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0447\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}return(n*l+i*o).toFixed(2)},e.countCostWaterSupply=function(t,a){var r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=null;try{n=t.find((function(e){return"cold_water"===e.id})).outlay}catch(s){console.log("\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",s)}var i=null;try{i=t.find((function(e){return"hot_water"===e.id})).outlay}catch(s){console.log("\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",s)}var l=null;try{l=t.find((function(e){return"disposal_water"===e.id})).outlay}catch(s){console.log("\u0412\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435",s)}var o=null;try{o=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"water"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(s){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u0432\u043e\u0434\u0443 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}var c=null;try{c=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"disposal_water"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(s){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u0432\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}return((n+i)*o+l*c).toFixed(2)},e.changeCurrentYear=function(t){e.setState({currentYear:t})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.userDetails&&this.getDataFromFirebase(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.userDetails!==e.userDetails&&this.getDataFromFirebase(e)}},{key:"render",value:function(){var e=this,t=null;t=null===this.state.indicatorsList&&null===this.state.error?n.a.createElement(Tt,{style:{marginTop:"30px"}}):null!==this.state.indicatorsList?(t=this.state.indicatorsList.filter((function(t){return t.date.getUTCFullYear()===e.state.currentYear}))).length>0?n.a.createElement(Xt.c,{naturalSlideWidth:100,naturalSlideHeight:125,totalSlides:t.length,className:"carousel-provider"},n.a.createElement(Xt.e,{style:{height:"550px"}},t.sort((function(e,t){return t.date.getTime()-e.date.getTime()})).map((function(t,a){var r=e.countCostWaterSupply(t.indicators,t.date),i=e.countCostElectricity(t.indicators,t.date);return n.a.createElement(Xt.d,{index:a,key:a},n.a.createElement(Yt,{key:a,indicatorsList:t,costWaterSupply:r,costElectricity:i,handleDeleteDialogOpen:e.handleDeleteDialogOpen,handleSendDialogOpen:e.handleSendDialogOpen}))}))),n.a.createElement(Xt.a,{className:"btn-carousel btn-left"}),n.a.createElement(Xt.b,{className:"btn-carousel btn-right"})):n.a.createElement("p",{style:{textAlign:"center",marginTop:"30px"}},n.a.createElement(te,{tid:"outlayNoData"})," ",this.state.currentYear," ",n.a.createElement(te,{tid:"outlayNoDataYear"})):n.a.createElement("p",{style:{textAlign:"center",marginTop:"30px"}},n.a.createElement(te,{tid:this.state.error}));for(var a=[],r=(new Date).getUTCFullYear();r>=(new Date).getUTCFullYear()-1;r--)a.push(r);return n.a.createElement("div",null,n.a.createElement(Gt,{open:this.state.sendDialogOpen,handleClose:this.handleSendDialogClose,handleContinue:this.handleSendDialogContinue,dialogTitle:"outlaySendDialogTitle",dialogContent:"outlaySendDialogContent",activeButtonName:"send"}),n.a.createElement(Gt,{open:this.state.deleteDialogOpen,handleClose:this.handleDeleteDialogClose,handleContinue:this.handleDeleteDialogContinue,dialogTitle:"outlayDeleteDialogTitle",dialogContent:"outlayDeleteDialogContent",activeButtonName:"delete"}),n.a.createElement(Y.a,{variant:"h4",align:"center"},n.a.createElement(te,{tid:"outlayCurrentExpenditure"})),n.a.createElement(zt,{tabsList:a,changeCurrentYear:this.changeCurrentYear}),t)}}]),a}(r.Component)),Qt=Object(m.b)((function(e){return{userDetails:e.userDetails,prevIndicators:e.prevIndicators}}))(Object(Wt.b)($t)),Zt=a(196),ea=a(283),ta=a(284),aa=Object(H.a)({root:{margin:"20px 0",position:"relative"},cardPadding:{paddingBottom:"16px !important",paddingTop:"26px !important"},row:{display:"flex"},textField:{width:"100%"},selectPadding:{display:"flex",flexBasis:"13rem"},buttonClose:{position:"absolute",padding:"5px",top:"5px",right:"5px"},buttonEdit:{position:"absolute",padding:"5px",top:"5px",right:"35px"},buttonIconSuccess:{color:"#4caf50"},buttonIconSuccessDisabled:{color:"#9E9E9E"},buttonSuccess:{"&:hover":{backgorundColor:"rgba(243, 243, 243, 0.04) !important"}}}),ra=function(e){var t=aa(),a=e.tariff,i=a.id,l=a.name,o=a.cost,c=a.dateEnd,s=a.dateStart,d=a.tariffValid,u=Object(r.useState)(e.disabled),m=Object(x.a)(u,2),h=m[0],v=m[1];return n.a.createElement(qe.a,{className:t.root},h?n.a.createElement(q.a,{className:t.buttonEdit,component:"span",color:"primary",onClick:function(){return v(!1)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(ea.a,null)):n.a.createElement(q.a,{className:t.buttonEdit+" "+t.buttonSuccess,component:"span",color:"secondary",disabled:!d,onClick:function(){v(!0),i?e.updateItemInTariffs(i):e.insertItemToTariffs(e.tarriffIndex)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(ta.a,{className:d?t.buttonIconSuccess:t.buttonIconSuccessDisabled})),n.a.createElement(q.a,{className:t.buttonClose,component:"span",color:"secondary",onClick:function(){e.handleDeleteDialogOpen(i)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(_t.a,null)),n.a.createElement(Ye.a,{className:t.cardPadding},n.a.createElement(w.a,{container:!0,spacing:2},n.a.createElement(w.a,{item:!0,xs:12,sm:6,className:t.row},n.a.createElement(M.a,{className:t.textField},n.a.createElement(yt.a,null,n.a.createElement(te,{tid:"tariffName"})),n.a.createElement(F.a,{value:l.value,onChange:function(t){return e.updateTariffInState(i,"name",t.target.value)},disabled:h,error:!l.valid&&l.touched},n.a.createElement(P.a,{value:"water"},n.a.createElement(te,{tid:"tariffWater"})),n.a.createElement(P.a,{value:"hot_water"},n.a.createElement(te,{tid:"tariffHotWater"})),n.a.createElement(P.a,{value:"disposal_water"},n.a.createElement(te,{tid:"tariffDisposalWater"})),n.a.createElement(P.a,{value:"electricity_day"},n.a.createElement(te,{tid:"tariffElectricityDay"})),n.a.createElement(P.a,{value:"electricity_night"},n.a.createElement(te,{tid:"tariffElectricityNight"}))),!l.valid&&l.touched?n.a.createElement(Zt.a,null,l.errorMessage):null)),n.a.createElement(w.a,{item:!0,xs:12,sm:6,className:t.row},n.a.createElement($e,{label:n.a.createElement(te,{tid:"tariffCost"}),prefix:"\u20bd ",disabled:h,value:o.value,onChange:function(t){return e.updateTariffInState(i,"cost",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(te,{tid:o.errorMessage}):null})),n.a.createElement(Je.a,{utils:ze.a},n.a.createElement(w.a,{item:!0,xs:12,sm:6,className:t.row},n.a.createElement(Ge.a,{clearable:!0,label:n.a.createElement(te,{tid:"tariffDateStart"}),format:"dd.MM.yyyy",value:s.value,className:t.textFieldMargin+" "+t.textField,disabled:h,onChange:function(t){return e.updateTariffInState(i,"dateStart",t)},error:!s.valid&&s.touched,helperText:!s.valid&&s.touched?n.a.createElement(te,{tid:s.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6,className:t.row},n.a.createElement(Ge.a,{clearable:!0,label:n.a.createElement(te,{tid:"tariffDateEnd"}),format:"dd.MM.yyyy",value:c.value,className:t.textField,disabled:h,onChange:function(t){return e.updateTariffInState(i,"dateEnd",t)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(te,{tid:c.errorMessage}):null}))))))},na=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={tariffs:[],deleteDialogOpen:!1,deleteTariffId:null,addButtonDisabled:!1,error:null},e.getListOfTariffs=function(){var t=localStorage.getItem("token"),a=localStorage.getItem("userId");jt(t,a).then((function(t){if(console.log("extractTariff",t.data),0!==Object.keys(t.data).length){var a=Object.keys(t.data).map((function(e){var a={};return a.name={value:t.data[e].name,validation:{required:!0},valid:!0,errorMessage:"",touched:!0},a.cost={value:t.data[e].cost,validation:{required:!0},valid:!0,errorMessage:"",touched:!0},a.dateStart={value:t.data[e].dateStart,validation:{required:!0},valid:!0,errorMessage:"",touched:!0},a.dateEnd={value:t.data[e].dateEnd,validation:{required:!0},valid:!0,errorMessage:"",touched:!0},a.id=e,a.tariffValid=!0,a.userId=t.data[e].userId,a}));e.setState({tariffs:a})}else e.setState({error:"tariffErrorNotYetSend"})})).catch((function(e){console.log("[ERROR] extractTariff",e)}))},e.deleteItemFromTariffs=function(){var t=localStorage.getItem("token");kt(e.state.deleteTariffId,t).then((function(t){console.log("daleteTariff",t),e.setState({deleteTariffId:null}),e.props.enqueueSnackbar(n.a.createElement(te,{tid:"objectDeleted"}),{variant:"info",preventDuplicate:!0})})).catch((function(e){console.log("[ERROR] daleteTariff",e)}))},e.updateItemInTariffs=function(t){var a=localStorage.getItem("token"),r=e.state.tariffs.find((function(e){return e.id===t})),i={cost:Number(r.cost.value.slice(2)),dateEnd:r.dateEnd.value,dateStart:r.dateStart.value,name:r.name.value,userId:r.userId};Ct(t,a,i).then((function(t){console.log("updateTariff",t),e.props.enqueueSnackbar(n.a.createElement(te,{tid:"saveData"}),{variant:"success",preventDuplicate:!0})})).catch((function(e){console.log("[ERROR] updateTariff",e)}))},e.insertItemToTariffs=function(t){var a=localStorage.getItem("token"),r=localStorage.getItem("userId"),i=e.state.tariffs[t],l={cost:Number(i.cost.value.slice(2)),dateEnd:i.dateEnd.value,dateStart:i.dateStart.value,name:i.name.value,userId:r};xt(a,l).then((function(a){console.log("insertTariff",a);var i=Object(Ot.a)(e.state.tariffs);i[t]=Object(ue.a)(Object(ue.a)({},e.state.tariffs[t]),{},{id:a.data.name,userId:r}),e.setState({addButtonDisabled:!1,tariffs:i}),e.props.enqueueSnackbar(n.a.createElement(te,{tid:"saveData"}),{variant:"success",preventDuplicate:!0})})).catch((function(e){console.log("[ERROR] insertTariff",e)}))},e.handleDeleteDialogOpen=function(t){"undefined"!==typeof t?e.setState({deleteDialogOpen:!0,deleteTariffId:t}):(1===e.state.tariffs.length&&e.setState({error:"tariffErrorNotYetSend"}),e.removeTariffFromState(t))},e.handleDeleteDialogClose=function(){e.setState({deleteDialogOpen:!1})},e.handleDeleteDialogContinue=function(){e.removeTariffFromState(e.state.deleteTariffId),e.deleteItemFromTariffs(),e.handleDeleteDialogClose()},e.addTariffToState=function(){e.setState({error:null});var t=Object(Ot.a)(e.state.tariffs);t.unshift({name:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},cost:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},dateStart:{value:null,validation:{required:!0},valid:!1,errorMessage:"",touched:!1},dateEnd:{value:null,validation:{required:!0},valid:!1,errorMessage:"",touched:!1}}),e.setState({tariffs:t,addButtonDisabled:!0})},e.removeTariffFromState=function(t){var a=Object(Ot.a)(e.state.tariffs);a=a.filter((function(e){return e.id!==t})),e.state.addButtonDisabled?e.setState({tariffs:a,addButtonDisabled:!1}):e.setState({tariffs:a})},e.updateTariffInState=function(t,a,r){var n=Object(Ot.a)(e.state.tariffs),i=n.findIndex((function(e){return e.id===t})),l=he(r,n[i][a].validation);n[i]=Object(ue.a)(Object(ue.a)({},e.state.tariffs[i]),{},Object(de.a)({},a,Object(ue.a)(Object(ue.a)({},e.state.tariffs[i][a]),{},{value:r,valid:l.isValid,errorMessage:l.errorMessage,touched:!0})));var o=e.checkFormValidity(n[i]);n[i].tariffValid=o,e.setState({tariffs:n})},e.checkFormValidity=function(e){var t=e.name,a=e.cost,r=e.dateStart,n=e.dateEnd;return!!(t.valid&&a.valid&&r.valid&&n.valid)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getListOfTariffs()}},{key:"render",value:function(){var e=this,t=null;return t=0===this.state.tariffs.length&&null===this.state.error?n.a.createElement(Tt,null):null!==this.state.error?n.a.createElement("p",{style:{textAlign:"center"}},n.a.createElement(te,{tid:this.state.error})):this.state.tariffs.map((function(t,a){return n.a.createElement(ra,{key:"undefined"!==typeof t.id?t.id:a,tarriffIndex:a,tariff:t,disabled:"undefined"!==typeof t.id,handleDeleteDialogOpen:e.handleDeleteDialogOpen,handleDeleteDialogContinue:e.handleDeleteDialogContinue,updateItemInTariffs:e.updateItemInTariffs,updateTariffInState:e.updateTariffInState,insertItemToTariffs:e.insertItemToTariffs})})),n.a.createElement("div",null,n.a.createElement(Gt,{open:this.state.deleteDialogOpen,handleClose:this.handleDeleteDialogClose,handleContinue:this.handleDeleteDialogContinue,dialogTitle:"outlayDeleteDialogTitle",dialogContent:"outlayDeleteDialogContent",activeButtonName:"delete"}),n.a.createElement(Y.a,{variant:"h4",align:"center",style:{marginBottom:"10px"}},n.a.createElement(te,{tid:"tariffs"})),n.a.createElement(w.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",alignContent:"center",wrap:"nowrap"},n.a.createElement(fe.a,{onClick:function(){return e.addTariffToState(t)},color:"primary",disabled:this.state.addButtonDisabled},n.a.createElement(te,{tid:"addTariff"}))),t)}}]),a}(r.Component),ia=Object(Wt.b)(na),la=Object(H.a)({field:{width:"100%"},buttonPosition:{textAlign:"center"}}),oa=function(e){var t=la(),a=e.userDetails,r=a.firstName,i=a.lastName,l=a.userEmail,o=a.accountantEmail,c=a.address,s=e.prevIndicators,d=s.prevIndicatorsDate,u=s.electricityDay,m=s.electricityNight,h=s.kitchenColdWater,v=s.kitchenHotWater,p=s.bathroomColdWater,g=s.bathroomHotWater;return n.a.createElement(w.a,{container:!0,spacing:3},n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h5",align:"center"},n.a.createElement(te,{tid:"contacts"}))),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"firstName"}),value:r.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("firstName",t.target.value)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(te,{tid:r.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"lastName"}),value:i.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("lastName",t.target.value)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(te,{tid:i.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"address"}),value:c.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("address",t.target.value)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(te,{tid:c.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"userEmail"}),value:l.value,disabled:!0,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("userEmail",t.target.value)}})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Ie.a,{label:n.a.createElement(te,{tid:"accountantEmail"}),value:o.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("accountantEmail",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(te,{tid:o.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Y.a,{variant:"h5",align:"center"},n.a.createElement(te,{tid:"primaryIndicators"}))),n.a.createElement(w.a,{item:!0,xs:12},n.a.createElement(Je.a,{utils:ze.a},n.a.createElement(Ge.a,{clearable:!0,className:t.field,disabled:e.isDisabled,label:n.a.createElement(te,{tid:"prevIndicatorsDate"}),format:"dd.MM.yyyy",value:d.value,onChange:function(t){return e.updatePrevIndicatorsInState("prevIndicatorsDate",t)},error:!d.valid&&d.touched,helperText:!d.valid&&d.touched?n.a.createElement(te,{tid:d.errorMessage}):null}))),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"electricityDay"}),value:u.value,onChange:function(t){return e.updatePrevIndicatorsInState("electricityDay",t.target.value)},error:!u.valid&&u.touched,helperText:!u.valid&&u.touched?n.a.createElement(te,{tid:u.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"electricityNight"}),value:m.value,onChange:function(t){return e.updatePrevIndicatorsInState("electricityNight",t.target.value)},error:!m.valid&&m.touched,helperText:!m.valid&&m.touched?n.a.createElement(te,{tid:m.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"kitchenColdWater"}),value:h.value,onChange:function(t){return e.updatePrevIndicatorsInState("kitchenColdWater",t.target.value)},error:!h.valid&&h.touched,helperText:!h.valid&&h.touched?n.a.createElement(te,{tid:h.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"kitchenHotWater"}),value:v.value,onChange:function(t){return e.updatePrevIndicatorsInState("kitchenHotWater",t.target.value)},error:!v.valid&&v.touched,helperText:!v.valid&&v.touched?n.a.createElement(te,{tid:v.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"bathroomColdWater"}),value:p.value,onChange:function(t){return e.updatePrevIndicatorsInState("bathroomColdWater",t.target.value)},error:!p.valid&&p.touched,helperText:!p.valid&&p.touched?n.a.createElement(te,{tid:p.errorMessage}):null})),n.a.createElement(w.a,{item:!0,xs:12,sm:6},n.a.createElement($e,{label:n.a.createElement(te,{tid:"bathroomHotWater"}),value:g.value,onChange:function(t){return e.updatePrevIndicatorsInState("bathroomHotWater",t.target.value)},error:!g.valid&&g.touched,helperText:!g.valid&&g.touched?n.a.createElement(te,{tid:g.errorMessage}):null})),n.a.createElement(w.a,{className:t.buttonPosition,item:!0,xs:12},n.a.createElement(fe.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.checkFormValidity()&&e.updateUserDetails()}},n.a.createElement(te,{tid:"save"}))))},ca=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={userDetails:{firstName:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},lastName:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},userEmail:{value:""},accountantEmail:{value:"",validation:{required:!0,isEmail:!0},valid:!0,errorMessage:"",touched:!0},address:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0}},userDetailsValid:!1,prevIndicators:{prevIndicatorsDate:{value:null,validation:{required:!0},valid:!0,errorMessage:"",touched:!0},electricityDay:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},electricityNight:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},kitchenColdWater:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},kitchenHotWater:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},bathroomColdWater:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},bathroomHotWater:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0}},prevIndicatorsValid:!1},e.updateState=function(t){var a=Object(ue.a)(Object(ue.a)({},e.state.userDetails),{},{firstName:Object(ue.a)(Object(ue.a)({},e.state.userDetails.firstName),{},{value:t.userDetails.firstName}),lastName:Object(ue.a)(Object(ue.a)({},e.state.userDetails.lastName),{},{value:t.userDetails.lastName}),userEmail:Object(ue.a)(Object(ue.a)({},e.state.userDetails.userEmail),{},{value:t.userDetails.userEmail}),accountantEmail:Object(ue.a)(Object(ue.a)({},e.state.userDetails.accountantEmail),{},{value:t.userDetails.accountantEmail}),address:Object(ue.a)(Object(ue.a)({},e.state.userDetails.address),{},{value:t.userDetails.address})}),r=Object(ue.a)(Object(ue.a)({},e.state.prevIndicators),{},{prevIndicatorsDate:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.prevIndicatorsDate),{},{value:t.prevIndicators.prevIndicatorsDate}),electricityDay:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.electricityDay),{},{value:t.prevIndicators.electricity.day}),electricityNight:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.electricityNight),{},{value:t.prevIndicators.electricity.night}),kitchenColdWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.kitchenColdWater),{},{value:t.prevIndicators.kitchen.coldWater}),kitchenHotWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.kitchenHotWater),{},{value:t.prevIndicators.kitchen.hotWater}),bathroomColdWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.bathroomColdWater),{},{value:t.prevIndicators.bathroom.coldWater}),bathroomHotWater:Object(ue.a)(Object(ue.a)({},e.state.prevIndicators.bathroomHotWater),{},{value:t.prevIndicators.bathroom.hotWater})});e.setState({userDetails:a,prevIndicators:r})},e.updateUserDetails=function(){console.log("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e Id: ",e.props.userIdDb);var t=localStorage.getItem("token"),a={userDetails:{firstName:e.state.userDetails.firstName.value,lastName:e.state.userDetails.lastName.value,userEmail:e.state.userDetails.userEmail.value,accountantEmail:e.state.userDetails.accountantEmail.value,address:e.state.userDetails.address.value},prevIndicators:{prevIndicatorsDate:e.state.prevIndicators.prevIndicatorsDate.value,electricity:{day:+e.state.prevIndicators.electricityDay.value,night:+e.state.prevIndicators.electricityNight.value},kitchen:{coldWater:+e.state.prevIndicators.kitchenColdWater.value,hotWater:+e.state.prevIndicators.kitchenHotWater.value},bathroom:{coldWater:+e.state.prevIndicators.bathroomColdWater.value,hotWater:+e.state.prevIndicators.bathroomHotWater.value}},userId:localStorage.getItem("userId")};E(e.props.userIdDb,t,a).then((function(t){console.log("updateUser",t.data),e.props.enqueueSnackbar(n.a.createElement(te,{tid:"saveData"}),{variant:"success",preventDuplicate:!0})})).catch((function(e){console.log("[ERROR] updateUser",e)}))},e.updateUserDataInState=function(t,a){var r=he(a,e.state.userDetails[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state.userDetails),{},Object(de.a)({},t,Object(ue.a)(Object(ue.a)({},e.state.userDetails[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity();e.setState({userDetails:n,userDetailsValid:i})},e.updatePrevIndicatorsInState=function(t,a){var r=he(a,e.state.prevIndicators[t].validation),n=Object(ue.a)(Object(ue.a)({},e.state.prevIndicators),{},Object(de.a)({},t,Object(ue.a)(Object(ue.a)({},e.state.prevIndicators[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity();e.setState({prevIndicators:n,prevIndicatorsValid:i})},e.checkFormValidity=function(){var t=e.state.userDetails,a=t.firstName,r=t.lastName,n=t.accountantEmail,i=t.address,l=e.state.prevIndicators,o=l.prevIndicatorsDate,c=l.electricityDay,s=l.electricityNight,d=l.kitchenColdWater,u=l.kitchenHotWater,m=l.bathroomColdWater,h=l.bathroomHotWater;return!!(a.valid&&r.valid&&n.valid&&i.valid&&o.valid&&c.valid&&s.valid&&d.valid&&u.valid&&m.valid&&h.valid)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.userDetails&&this.updateState(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.userDetails!==e.userDetails&&this.updateState(e)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(Y.a,{variant:"h4",align:"center",style:{marginBottom:"10px"}},n.a.createElement(te,{tid:"userProfile"})),null===this.props.userIdDb?n.a.createElement(Tt,null):n.a.createElement(Le,null,n.a.createElement(oa,{userDetails:this.state.userDetails,prevIndicators:this.state.prevIndicators,updateUserDataInState:this.updateUserDataInState,updatePrevIndicatorsInState:this.updatePrevIndicatorsInState,checkFormValidity:this.checkFormValidity,updateUserDetails:this.updateUserDetails})))}}]),a}(r.Component),sa=Object(m.b)((function(e){return{userDetails:e.userDetails,prevIndicators:e.prevIndicators,userIdDb:e.userIdDb}}))(Object(Wt.b)(ca)),da=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/auth",component:Fe}),n.a.createElement(u.b,{path:"/registration",component:rt}),n.a.createElement(u.b,{path:"/forgot-password",component:nt}),n.a.createElement(u.a,{to:"/auth"}));return localStorage.getItem("userId")&&(e=n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/outlay",component:Qt}),n.a.createElement(u.b,{path:"/send-indicators",component:St}),n.a.createElement(u.b,{path:"/tariffs",component:ia}),n.a.createElement(u.b,{path:"/profile",component:sa}),n.a.createElement(u.b,{path:"/logout",component:Re}),n.a.createElement(u.a,{to:"/send-indicators"}))),n.a.createElement(N,null,n.a.createElement(se,{isAuth:this.props.isAuth},e))}}]),a}(r.Component),ua=Object(m.b)((function(e){return{isAuth:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a<=new Date)e(D());else{var r=localStorage.getItem("userId");e(f(t,r)),e(S((a.getTime()-(new Date).getTime())/1e3))}}else e(D())}))}}}))(da);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ma=a(68),ha=a(126),va=function(e,t){return Object(ue.a)(Object(ue.a)({},e),t)},pa={token:null,userId:null,error:null,loading:!1,userDetails:null,prevIndicators:null,userIdDb:null},ga=function(e){return va(e,{error:null,loading:!0})},Ea=function(e,t){return va(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})},fa=function(e,t){var a;return console.log(t.error),a=401===t.error.code?"authError":400===t.error.code&&"EMAIL_EXISTS"===t.error.message?"authErrorEmailExist":400===t.error.code&&"EMAIL_NOT_FOUND"===t.error.message?"authErrorEmailNotReg":400===t.error.code&&"INVALID_PASSWORD"===t.error.message?"authErrorInvalidPassword":"authErrorOther",va(e,{error:a,loading:!1})},ba=function(e){return va(e,{token:null,userId:null})},ya=function(e,t){return va(e,{userDetails:t.userDetails,prevIndicators:t.prevIndicators,userIdDb:t.userIdDb})},Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ga(e);case"AUTH_SUCCESS":return Ea(e,t);case"AUTH_FAIL":return fa(e,t);case"AUTH_LOGOUT":return ba(e);case"LOAD_USERDATA_SUCCESS":return ya(e,t);default:return e}},Da=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ma.c,Sa=Object(ma.d)(Ia,Da(Object(ma.a)(ha.a))),Oa=n.a.createElement(m.a,{store:Sa},n.a.createElement(T.a,{basename:"/"},n.a.createElement(Wt.a,{maxSnack:1,anchorOrigin:{vertical:"bottom",horizontal:"right"}},n.a.createElement(ua,null))));l.a.render(Oa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e){e.exports=JSON.parse('{"SERVICE_ID":"gmail","TEMPLATE_ID":"template_83dCi3ca","USER_ID":"user_rEIgP6Z8hPXkwIosFYkR7","AUTH_API_KEY":"AIzaSyCQ-YIBbLpl1SOF7KzaSR0v7HLz61N-yno"}')}},[[149,1,2]]]);
//# sourceMappingURL=main.48cc8acd.chunk.js.map