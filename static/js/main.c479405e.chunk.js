(this.webpackJsonpindicators_transfer=this.webpackJsonpindicators_transfer||[]).push([[0],{287:function(e,t,a){e.exports=a(326)},292:function(e,t,a){},315:function(e,t,a){},317:function(e,t,a){},321:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(12),l=a.n(i),o=(a(292),a(293),a(27)),c=a(28),s=a(31),d=a(30),u=a(25),m=a(38),h=a(266),v=a.n(h).a.create({baseURL:"https://reacttestproject-70f65.firebaseio.com/"}),p=a(52),g=function(e,t){return function(a){a(y()),a(function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}}(e,t))}},E=function(e){return{type:"AUTH_FAIL",error:e}},f=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},b=function(e){return function(t){setTimeout((function(){t(f())}),1e3*e)}},y=function(){return function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("userId");v.get("/users.json?auth=".concat(t,'&orderBy="userId"&equalTo="').concat(a,'"')).then((function(t){console.log(t);var a,r,n,i=t.data[Object.keys(t.data)];e((a=i.userDetails,r=i.prevIndicators,n=Object.keys(t.data)[0],{type:"LOAD_USERDATA_SUCCESS",userDetails:a,prevIndicators:r,userIdDb:n}))})).catch((function(e){console.log(e)}))}},I=a(48),D={ru:{authEmail:"\u041f\u043e\u0447\u0442\u0430",authPassword:"\u041f\u0430\u0440\u043e\u043b\u044c",authSignIn:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",authSignUp:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",authForgotPassword:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",authPasswordRecovery:"\u0414\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438 \u0432\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438.",authEmailSent:"\u041f\u0438\u0441\u044c\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!",authEmailSentText1:"\u0412\u0430\u043c \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",authEmailSentText2:"\u0441 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0430\u0448 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a.",authReturn:"\u0412\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u043d\u0430 \u0424\u043e\u0440\u043c\u0443 \u0432\u0445\u043e\u0434\u0430",authSignInShort:"\u0412\u043e\u0439\u0442\u0438",emailNotReg:"\u0414\u0430\u043d\u043d\u044b\u0439 email \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",authError:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443",authErrorEmailExist:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",authErrorEmailNotReg:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u0435\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",authErrorInvalidPassword:"\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u0430\u0440\u043e\u043b\u044c",authErrorOther:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",registration:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",regEnterUserDetails:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",regEnterPrevIndicators:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438",regValidateData:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",regUserDetails:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",regPrevIndicators:"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438",regSuccess:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430",indications:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f",expenses:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",tariffs:"\u0422\u0430\u0440\u0438\u0444\u044b",profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",sendIndicators:"\u041f\u043e\u0434\u0430\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f",sendIndicatorsMonthYear:"\u041c\u0435\u0441\u044f\u0446 \u0438 \u0433\u043e\u0434",sendIndicatorsMonth:"\u041c\u0435\u0441\u044f\u0446",sendIndicatorsYear:"\u0413\u043e\u0434",sendIndicatorsElectricity:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f",sendIndicatorsDay:"\u0414\u0435\u043d\u044c",sendIndicatorsNight:"\u041d\u043e\u0447\u044c",sendIndicatorsKitchen:"\u041a\u0443\u0445\u043d\u044f",sendIndicatorsBathroom:"\u0412\u0430\u043d\u043d\u0430\u044f",sendIndicatorsColdWater:"\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",sendIndicatorsHotWater:"\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",dialogCheckTitle:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0437\u0430",switchMail:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u044e",outlayCurrentExpenditure:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",outlayIndicator:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",outlayCharge:"\u0420\u0430\u0441\u0445\u043e\u0434",outlayConsumption:"\u041f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435",outlayCost:"\u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438",outlayElectricityDay:"\u042d\u043b-\u044f \u0434\u0435\u043d\u044c:",outlayElectricityNight:"\u042d\u043b-\u044f \u043d\u043e\u0447\u044c:",outlayColdWater:"\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430:",outlayHotWater:"\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430:",outlayDisposalWater:"\u0412\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435:",outlayWaterSupply:"\u0412\u043e\u0434\u043e\u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u0435",outlayElectricity:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f",outlaySendDialogTitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439",outlaySendDialogContent:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u0438?",outlayDeleteDialogTitle:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",outlayDeleteDialogContent:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442? \u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",outlayNoData:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0437\u0430",outlayNoDataYear:"\u0433\u043e\u0434",outlayErrorNotYetSend:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0435\u0449\u0435 \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b",outlaySendSuccess:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u0438!",addTariff:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444",tariffName:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",tariffCost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",tariffDateStart:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d c",tariffDateEnd:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u043f\u043e",tariffWater:"\u041f\u043e\u0434\u0430\u0447\u0430 \u0432\u043e\u0434\u044b",tariffHotWater:"\u041f\u043e\u0434\u043e\u0433\u0440\u0435\u0432 \u0432\u043e\u0434\u044b",tariffDisposalWater:"\u0412\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435",tariffElectricityDay:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e-\u0438\u044f. \u0434\u0435\u043d\u044c",tariffElectricityNight:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e-\u0438\u044f. \u043d\u043e\u0447\u044c",tariffErrorNotYetSend:"\u0422\u0430\u0440\u0438\u0444\u044b \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b",userProfile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",contacts:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",firstName:"\u0418\u043c\u044f",lastName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",address:"\u0410\u0434\u0440\u0435\u0441",userEmail:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430",accountantEmail:"\u041f\u043e\u0447\u0442\u0430 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0438\u0438",primaryIndicators:"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438",prevIndicatorsDate:"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0445 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439",electricityDay:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f: \u0414\u0435\u043d\u044c",electricityNight:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043d\u0435\u0440\u0433\u0438\u044f: \u041d\u043e\u0447\u044c",kitchenColdWater:"\u041a\u0443\u0445\u043d\u044f: \u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",kitchenHotWater:"\u041a\u0443\u0445\u043d\u044f: \u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",bathroomColdWater:"\u0412\u0430\u043d\u043d\u0430\u044f: \u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",bathroomHotWater:"\u0412\u0430\u043d\u043d\u0430\u044f: \u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",systemName:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",recover:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",saveData:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!",objectDeleted:"\u041e\u0431\u044a\u0435\u043a\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!",prev:"\u041d\u0430\u0437\u0430\u0434",next:"\u0412\u043f\u0435\u0440\u0435\u0434",finish:"\u0413\u043e\u0442\u043e\u0432\u043e",requiredField:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",unvalidEmail:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",unvalidPassword:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",responseError:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",january:"\u042f\u043d\u0432\u0430\u0440\u044c",february:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",march:"\u041c\u0430\u0440\u0442",april:"\u0410\u043f\u0440\u0435\u043b\u044c",may:"\u041c\u0430\u0439",june:"\u0418\u044e\u043d\u044c",july:"\u0418\u044e\u043b\u044c",august:"\u0410\u0432\u0433\u0443\u0441\u0442",september:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",october:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",november:"\u041d\u043e\u044f\u0431\u0440\u044c",december:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",year:"\u0433\u043e\u0434",notDefined:"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"},en:{authEmail:"Email",authPassword:"Password",authSignIn:"Sign in",authSignUp:"Don't have an account yet? Sign up",authForgotPassword:"Forgot password?",authPasswordRecovery:"To restore your password, enter your email address and you will be sent an email with further instructions.",authEmailSent:"Email sent!",authEmailSentText1:"An email was sent to your email address",authEmailSentText2:"with further instructions. Please check your email box.",authReturn:"Return to the Login form",authSignInShort:"Sign in",emailNotReg:"This email isn't registered",authError:"Authorization error, check the data and try again",authErrorEmailExist:"The user with this Email already exists",authErrorEmailNotReg:"The user with this Email isn't registered yet",authErrorInvalidPassword:"Invalid password",authErrorOther:"An error occurred, please try again later",registration:"Registration",regEnterUserDetails:"Enter your personal information",regEnterPrevIndicators:"Enter the primary indicators",regValidateData:"Validate data",regUserDetails:"Personal information",regPrevIndicators:"Primary indicators",regSuccess:"Registration completed successfully",indications:"Indications",expenses:"Expenses",tariffs:"Tariffs",profile:"Profile",sendIndicators:"Send indicators",sendIndicatorsMonthYear:"Month and year",sendIndicatorsMonth:"Month",sendIndicatorsYear:"Year",sendIndicatorsElectricity:"Electricity",sendIndicatorsDay:"Day",sendIndicatorsNight:"Night",sendIndicatorsKitchen:"Kitchen:",sendIndicatorsBathroom:"Bathroom",sendIndicatorsColdWater:"Cold water",sendIndicatorsHotWater:"Hot water",dialogCheckTitle:"Check the indicators for",switchMail:"Send to the accountant",outlayCurrentExpenditure:"Current expenditure",outlayIndicator:"Indicator",outlayCharge:"Charge",outlayConsumption:"Consumption",outlayCost:"Cost calculation",outlayElectricityDay:"El. day:",outlayElectricityNight:"El. night:",outlayColdWater:"Cold water:",outlayHotWater:"Hot water:",outlayDisposalWater:"Water disposal:",outlayWaterSupply:"Water supply",outlayElectricity:"Electricity",outlaySendDialogTitle:"Send indicators",outlaySendDialogContent:"Are you sure you want to send indicators to the accounting Department's email address?",outlayDeleteDialogTitle:"Are you sure?",outlayDeleteDialogContent:"Are you sure you want to delete this item? This process cannot be canceled.",outlayNoData:"No data for",outlayNoDataYear:"year",outlayErrorNotYetSend:"The indicators hasn't been sent yet",outlaySendSuccess:"The data was successfully sent to the accountant's email!",addTariff:"Add tariff",tariffName:"Name",tariffCost:"Cost",tariffDateStart:"Date since",tariffDateEnd:"Date till",tariffWater:"Water supply",tariffHotWater:"Water heating",tariffDisposalWater:"Water disposal",tariffElectricityDay:"Electricity day",tariffElectricityNight:"Electricity night",tariffErrorNotYetSend:"The tariffs hasn't been created yet",userProfile:"User profile",contacts:"Contacts",firstName:"First name",lastName:"Last name",address:"Address",userEmail:"User's Email",accountantEmail:"Accountant's Email",primaryIndicators:"Primary indicators",prevIndicatorsDate:"Date of primary indicators",electricityDay:"Electricity: Day",electricityNight:"Electricity: Night",kitchenColdWater:"Kitchen: Cold water",kitchenHotWater:"Kitchen: Hot water",bathroomColdWater:"Bathroom: Cold water",bathroomHotWater:"Bathroom: Hot water",systemName:"The system of municipal indicators",save:"Save",send:"Send",delete:"Delete",cancel:"Cancel",recover:"Recover",loading:"Loading",saveData:"Data saved successfully!",objectDeleted:"The object was successfully deleted!",prev:"Prev",next:"Next",finish:"Finish",requiredField:"This field is required",unvalidEmail:"Please enter a valid email address",unvalidPassword:"The password must consist of more than 6 characters",responseError:"An error occurred, try refreshing the page",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",year:"year",notDefined:"Not defined"}},S=[{id:"ru",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{id:"en",text:"English"}],O=void 0===localStorage.getItem("languageIndex")?0:+localStorage.getItem("languageIndex"),j=Object(r.createContext)({language:S[O],dictionary:D[S[O].id]});function C(e){var t=Object(r.useContext)(j),a=Object(r.useState)(t.language),i=Object(I.a)(a,2),l=i[0],o=i[1],c=Object(r.useState)(t.dictionary),s=Object(I.a)(c,2),d=s[0],u=s[1],m={language:l,dictionary:d,setLanguage:function(e){o(e),u(D[e.id])}};return n.a.createElement(j.Provider,{value:m},e.children)}a(315);var x=a(365),k=a(84),N=a(34),W=a(185),w=a(346),T=a(353),M=a(184),F=Object(M.a)({rootLight:{paddingTop:"1px",marginRight:"15px","& .MuiInput-underline:before":{display:"none"},"& .MuiSvgIcon-root":{color:"white"},"& .MuiSelect-select:focus":{backgroundColor:"none"}},selectLight:{color:"white"},rootDark:{paddingTop:"1px",marginRight:"15px","& .MuiInput-underline:before":{display:"none"},"& .MuiSvgIcon-root":{color:"#757575"},"& .MuiSelect-select:focus":{backgroundColor:"none"}},selectDark:{color:"#757575"}});function V(e){var t=F(),a=Object(r.useContext)(j);return n.a.createElement(W.a,{className:"light"===e.theme?t.rootLight:t.rootDark},n.a.createElement(w.a,{value:a.language.id,onChange:function(e){var t=S.find((function(t){return t.id===e.target.value}));a.setLanguage(t),localStorage.setItem("languageIndex",S.indexOf(t))},className:"light"===e.theme?t.selectLight:t.selectDark},S.map((function(e){return n.a.createElement(T.a,{key:e.id,value:e.id},e.text)}))))}var P=a(358),H=a(359),U=a(360),A=a(335),_=a(68),Y=a(57),B=a(333),L=a(334),q=a(363),R=a(364),K=a(354),z=a(355),J=a(356),G=a(357),X=a(361),$=a(362),Q=function(e){return Object(r.useContext)(j).dictionary[e.tid]},Z=[{name:"indications",path:"/send-indicators",icon:n.a.createElement(K.a,null)},{name:"expenses",path:"/outlay",icon:n.a.createElement(z.a,null)},{name:"tariffs",path:"/tariffs",icon:n.a.createElement(J.a,null)},{name:"profile",path:"/profile",icon:n.a.createElement(G.a,null)}],ee=Object(M.a)((function(e){return{root:{flexGrow:1,width:"100%"},button:{"&:hover":{color:"white"}},grow:{flexGrow:1},list:{width:250}}})),te=function(e){var t=ee(),a="indications";switch(window.location.hash){case"#/send-indicators":a="indications";break;case"#/outlay":a="expenses";break;case"#/tariffs":a="tariffs";break;case"#/profile":a="profile"}var i=Object(r.useState)(n.a.createElement(Q,{tid:a})),l=Object(I.a)(i,2),o=l[0],c=l[1],s=Object(r.useState)(!1),d=Object(I.a)(s,2),u=d[0],m=d[1],h=Object(P.a)("(min-width:425px)");return n.a.createElement("div",{className:t.root},n.a.createElement(H.a,{position:"relative"},n.a.createElement(U.a,null,n.a.createElement(A.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return m(!0)}},n.a.createElement(X.a,null)),n.a.createElement(_.a,{variant:"h6"},o),n.a.createElement("div",{className:t.grow}),n.a.createElement(V,{theme:"light"}),e.userDetails&&h?n.a.createElement(_.a,{variant:"h6"},e.userDetails.firstName+" "+e.userDetails.lastName):null,n.a.createElement(A.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",component:N.b,to:"/logout"},n.a.createElement($.a,null))),n.a.createElement(Y.a,{className:t.drawer,anchor:"left",open:u,onClose:function(){return m(!1)}},n.a.createElement(B.a,{className:t.list},Z.map((function(e){return n.a.createElement(L.a,{button:!0,key:e.name,component:N.b,to:e.path,onClick:function(){m(!1),c(n.a.createElement(Q,{tid:e.name}))}},n.a.createElement(q.a,null,e.icon),n.a.createElement(R.a,{primary:n.a.createElement(Q,{tid:e.name})}))}))))))},ae=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=void 0===localStorage.getItem("languageIndex")?0:+localStorage.getItem("languageIndex");return 0===e&&(document.title="\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0435\u0439"),1===e&&(document.title="The system of municipal indicators"),n.a.createElement(x.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},this.props.isAuth&&n.a.createElement(x.a,{item:!0,xs:12,style:{width:"100%"}},n.a.createElement(te,{userDetails:this.props.userDetails})),n.a.createElement(x.a,{item:!0,xs:12,style:{width:"100%"}},n.a.createElement(k.a,{className:"paper"},this.props.children)))}}]),a}(r.Component),re=Object(m.b)((function(e){return{userDetails:e.userDetails}}))(ae),ne=a(37),ie=a(6),le=(a(317),function(e,t){var a={isValid:!0,errorMessage:null};if(!t)return!0;if(t.required&&(a.isValid=""!==e.trim()&&a.isValid,a.errorMessage=a.isValid?"":"requiredField"),t.isEmail){a.isValid=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a.isValid,a.errorMessage=""===e?"requiredField":"unvalidEmail"}return t.isDate&&(a.isValid=null!==e&&a.isValid,a.errorMessage=a.isValid?"":"requiredField"),t.isNumber&&(a.isValid=0!==e&&a.isValid,a.errorMessage=a.isValid?"":"requiredField"),t.isPassord&&(a.isValid=e.length>=6&&a.isValid,e.length<6&&e.length>0?a.errorMessage="unvalidPassword":0===e.length?a.errorMessage="requiredField":a.errorMessage=""),a}),oe=a(399),ce=a(4),se=Object(ce.a)({root:{marginBottom:"10px"}})(oe.a),de=function(e){return n.a.createElement(se,e,e.children)},ue=a(366),me=Object(ce.a)({root:{width:"100%",textTransform:"none",margin:"30px 0 10px 0"}})(ue.a),he=function(e){return n.a.createElement(me,Object.assign({variant:"contained",color:"primary"},e),e.children)},ve=a(367),pe=a(186),ge=Object(M.a)((function(e){return Object(pe.a)({root:{margin:"10px 0",width:"100%"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 30px white inset !important"}}})})),Ee=function(e){var t=ge();return n.a.createElement(ve.a,Object.assign({className:t.root,variant:"outlined",inputProps:{className:t.input}},e))},fe=a(368),be=a(269),ye=a.n(be),Ie=a(270),De=a.n(Ie),Se=Object(M.a)((function(e){return Object(pe.a)({root:{margin:"10px 0",width:"100%"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 30px white inset !important"}}})})),Oe=function(e){var t=Se(),a=n.a.useState({showPassword:!1}),r=Object(I.a)(a,2),i=r[0],l=r[1];return n.a.createElement(ve.a,Object.assign({className:t.root,variant:"outlined",type:i.showPassword?"text":"password",inputProps:{className:t.input},InputProps:{endAdornment:n.a.createElement(fe.a,{position:"end"},n.a.createElement(A.a,{"aria-label":"toggle password visibility",onClick:function(){l(Object(ie.a)(Object(ie.a)({},i),{},{showPassword:!i.showPassword}))},edge:"end"},i.showPassword?n.a.createElement(ye.a,null):n.a.createElement(De.a,null)))}},e))},je=a(369),Ce=a(271),xe=a.n(Ce),ke=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={auth:{email:{value:"",validation:{isEmail:!0},valid:!1,touched:!1},password:{value:"",validation:{isPassord:!0},valid:!1,touched:!1}},authValid:!1},e.inputHandler=function(t,a){var r=le(a,e.state.auth[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state.auth),{},Object(ne.a)({},t,Object(ie.a)(Object(ie.a)({},e.state.auth[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity(n);e.setState({auth:n,authValid:i})},e.checkFormValidity=function(t){if("undefined"!==typeof t){var a=t.email,r=t.password;if(a.valid&&r.valid)return!0}if("undefined"===typeof t){var n=Object(ie.a)(Object(ie.a)({},e.state.auth),{},{email:Object(ie.a)(Object(ie.a)({},e.state.auth.email),{},{touched:!0,errorMessage:"requiredField"}),password:Object(ie.a)(Object(ie.a)({},e.state.auth.password),{},{touched:!0,errorMessage:"requiredField"})});e.setState({auth:n})}return!1},e.formSenderHandler=function(){e.props.onAuth(e.state.auth.email.value,e.state.auth.password.value)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.auth,a=t.email,r=t.password;return n.a.createElement("div",null,n.a.createElement("div",{style:{position:"absolute",top:"20px",right:"20px"}},n.a.createElement(V,{theme:"dark"})),n.a.createElement("div",{className:"auth_container"},n.a.createElement("form",null,n.a.createElement("div",{className:"lockIconContainer"},n.a.createElement("div",{className:"roundIcon"},n.a.createElement(xe.a,null))),n.a.createElement(_.a,{className:"authHeader",variant:"h5",align:"center"},n.a.createElement(Q,{tid:"systemName"})),this.props.errorMessage?n.a.createElement(de,{severity:"error"},n.a.createElement(Q,{tid:this.props.errorMessage})):null,n.a.createElement(Ee,{id:"email",label:n.a.createElement(Q,{tid:"authEmail"}),name:"email",error:!a.valid&&a.touched,helperText:!a.valid&&a.touched?n.a.createElement(Q,{tid:a.errorMessage}):null,onChange:function(t){return e.inputHandler("email",t.target.value)},value:a.value}),n.a.createElement(Oe,{id:"password",label:n.a.createElement(Q,{tid:"authPassword"}),name:"password",error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(Q,{tid:r.errorMessage}):null,onChange:function(t){return e.inputHandler("password",t.target.value)},onKeyUp:function(t){"Enter"===t.key&&(e.state.authValid?e.formSenderHandler():e.checkFormValidity())},value:r.value}),n.a.createElement(he,{onClick:this.state.authValid?function(){return e.formSenderHandler()}:function(){return e.checkFormValidity()}},n.a.createElement(Q,{tid:"authSignIn"})),n.a.createElement(x.a,{container:!0,spacing:1,direction:"row"},n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(_.a,null,n.a.createElement(je.a,{component:N.b,to:"/forgot-password",variant:"body2"},n.a.createElement(Q,{tid:"authForgotPassword"})))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(_.a,{align:"right"},n.a.createElement(je.a,{component:N.b,to:"/registration",variant:"body2"},n.a.createElement(Q,{tid:"authSignUp"}))))))))}}]),a}(r.Component),Ne=Object(m.b)((function(e){return{loading:e.loading,errorMessage:e.error}}),(function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"});var r={email:e,password:t,returnSecureToken:!0},n="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(p.AUTH_API_KEY);v.post(n,r).then((function(e){console.log(e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),a(g(e.data.idToken,e.data.localId)),a(b(e.data.expiresIn))})).catch((function(e){console.log(e),a(E(e.response.data.error))}))}}(t,a))}}}))(ke),We=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onLogout(this.props.history)}},{key:"render",value:function(){return n.a.createElement(u.a,{to:"/"})}}]),a}(r.Component),we=Object(m.b)(null,(function(e){return{onLogout:function(){return e(f())}}}))(We),Te=a(384),Me=a(382),Fe=a(383),Ve=a(370),Pe=a(371),He=Object(M.a)({root:{margin:"20px 0"},cardPadding:{padding:"16px !important"}}),Ue=function(e){var t=He();return n.a.createElement(Ve.a,{className:t.root},n.a.createElement(Pe.a,{className:t.cardPadding},e.children))},Ae=function(e){var t=e.userDetails,a=t.firstName,r=t.lastName,i=t.userEmail,l=t.password,o=t.accountantEmail,c=t.address;return n.a.createElement(x.a,{container:!0,spacing:3},n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:"Email",disabled:e.isDisabled,value:i.value,type:"email",autoComplete:"off",fullWidth:!0,onChange:function(t){return e.updateUserDataInState("userEmail",t.target.value)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(Q,{tid:i.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"authPassword"}),disabled:e.isDisabled,value:l.value,type:"password",autoComplete:"new-password",fullWidth:!0,onChange:function(t){return e.updateUserDataInState("password",t.target.value)},error:!l.valid&&l.touched,helperText:!l.valid&&l.touched?n.a.createElement(Q,{tid:l.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(ve.a,{fullWidth:!0,label:n.a.createElement(Q,{tid:"firstName"}),value:a.value,onChange:function(t){return e.updateUserDataInState("firstName",t.target.value)},disabled:e.isDisabled,error:!a.valid&&a.touched,helperText:!a.valid&&a.touched?n.a.createElement(Q,{tid:a.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"lastName"}),disabled:e.isDisabled,value:r.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("lastName",t.target.value)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(Q,{tid:r.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"address"}),disabled:e.isDisabled,value:c.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("address",t.target.value)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(Q,{tid:c.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"accountantEmail"}),disabled:e.isDisabled,value:o.value,type:"email",fullWidth:!0,onChange:function(t){return e.updateUserDataInState("accountantEmail",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(Q,{tid:o.errorMessage}):null})))},_e=a(98),Ye=a(39),Be=a(398),Le=a(24),qe=a.n(Le),Re=Object(M.a)({field:{width:"100%"}}),Ke=function(e){var t=Re(),a=e.prevIndicators,r=a.prevIndicatorsDate,i=a.electricityDay,l=a.electricityNight,o=a.kitchenColdWater,c=a.kitchenHotWater,s=a.bathroomColdWater,d=a.bathroomHotWater;return n.a.createElement(x.a,{container:!0,spacing:3},n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(Ye.a,{utils:_e.a},n.a.createElement(Be.a,{clearable:!0,className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"prevIndicatorsDate"}),format:"dd.MM.yyyy",value:r.value,onChange:function(t){return e.updatePrevIndicatorsInState("prevIndicatorsDate",t)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(Q,{tid:r.errorMessage}):null}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"electricityDay"}),currencySymbol:"",value:i.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("electricityDay",a)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(Q,{tid:i.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"electricityNight"}),currencySymbol:"",value:l.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("electricityNight",a)},error:!l.valid&&l.touched,helperText:!l.valid&&l.touched?n.a.createElement(Q,{tid:l.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"kitchenColdWater"}),currencySymbol:"",value:o.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("kitchenColdWater",a)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(Q,{tid:o.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"kitchenHotWater"}),currencySymbol:"",value:c.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("kitchenHotWater",a)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(Q,{tid:c.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"bathroomColdWater"}),currencySymbol:"",value:s.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("bathroomColdWater",a)},error:!s.valid&&s.touched,helperText:!s.valid&&s.touched?n.a.createElement(Q,{tid:s.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"bathroomHotWater"}),currencySymbol:"",value:d.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("bathroomHotWater",a)},error:!d.valid&&d.touched,helperText:!d.valid&&d.touched?n.a.createElement(Q,{tid:d.errorMessage}):null})))},ze=Object(M.a)((function(e){return{root:{width:"100%","& .MuiStepper-root":{padding:"24px 0 0 0"}},stepLabel:{wordBreak:"break-word"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var Je=function(e){var t=ze(),a=n.a.useState(0),r=Object(I.a)(a,2),i=r[0],l=r[1],o=[n.a.createElement(Q,{tid:"regEnterUserDetails"}),n.a.createElement(Q,{tid:"regEnterPrevIndicators"}),n.a.createElement(Q,{tid:"regValidateData"})];return n.a.createElement("div",{className:t.root},n.a.createElement(Te.a,{activeStep:i,alternativeLabel:!0},o.map((function(e){return n.a.createElement(Me.a,{key:e},n.a.createElement(Fe.a,{classes:{root:t.stepLabel}},e))}))),n.a.createElement("div",null,i===o.length?n.a.createElement("div",null,n.a.createElement(_.a,{className:t.instructions,style:{marginTop:"30px"}},n.a.createElement(Q,{tid:"regSuccess"})),n.a.createElement(ue.a,{variant:"contained",color:"primary",component:N.b,to:"/auth"},n.a.createElement(Q,{tid:"authSignIn"}))):n.a.createElement("div",null,n.a.createElement(Ue,null,function(t){switch(t){case 0:return n.a.createElement(Ae,{userDetails:e.userDetails,updateUserDataInState:e.updateUserDataInState,isDisabled:!1});case 1:return n.a.createElement(Ke,{prevIndicators:e.prevIndicators,updatePrevIndicatorsInState:e.updatePrevIndicatorsInState,isDisabled:!1});case 2:return n.a.createElement("div",null,n.a.createElement(_.a,{variant:"h5",align:"center",style:{padding:"0 0 20px 0"}},n.a.createElement(Q,{tid:"regUserDetails"})),n.a.createElement(Ae,{userDetails:e.userDetails,updateUserDataInState:e.updateUserDataInState,isDisabled:!0}),n.a.createElement(_.a,{variant:"h5",align:"center",style:{padding:"20px 0"}},n.a.createElement(Q,{tid:"regPrevIndicators"})),n.a.createElement(Ke,{prevIndicators:e.prevIndicators,updatePrevIndicatorsInState:e.updatePrevIndicatorsInState,isDisabled:!0}));default:return"Unknown stepIndex"}}(i,e.updateUserDataInState,e.updatePrevIndicatorsInState,e.userDetails,e.prevIndicators)),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement(ue.a,{disabled:0===i,onClick:function(){l((function(e){return e-1}))},className:t.backButton},n.a.createElement(Q,{tid:"prev"})),n.a.createElement(ue.a,{variant:"contained",color:"primary",onClick:function(){0===i&&(e.userDetailsValid?l((function(e){return e+1})):e.checkFormValidity("userDetails")),1===i&&(e.prevIndicatorsValid?l((function(e){return e+1})):e.checkFormValidity("prevIndicators")),2===i&&e.registration()}},i===o.length-1?n.a.createElement(Q,{tid:"finish"}):n.a.createElement(Q,{tid:"next"}))))))},Ge=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={userDetails:{firstName:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},lastName:{value:"",validation:{required:!0},valid:!1,touched:!1},userEmail:{value:"",validation:{isEmail:!0},valid:!1,touched:!1},password:{value:"",validation:{isPassord:!0},valid:!1,touched:!1},accountantEmail:{value:"",validation:{isEmail:!0},valid:!1,touched:!1},address:{value:"",validation:{required:!0},valid:!1,touched:!1}},userDetailsValid:!1,prevIndicators:{prevIndicatorsDate:{value:null,validation:{isDate:!0},valid:!1,errorMessage:"",touched:!1},electricityDay:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},electricityNight:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},kitchenColdWater:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},kitchenHotWater:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},bathroomColdWater:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},bathroomHotWater:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1}},prevIndicatorsValid:!1},e.registration=function(){var t={userDetails:{firstName:e.state.userDetails.firstName.value,lastName:e.state.userDetails.lastName.value,userEmail:e.state.userDetails.userEmail.value,accountantEmail:e.state.userDetails.accountantEmail.value,address:e.state.userDetails.address.value},prevIndicators:{prevIndicatorsDate:e.state.prevIndicators.prevIndicatorsDate.value,electricity:{day:e.state.prevIndicators.electricityDay.value,night:e.state.prevIndicators.electricityNight.value},kitchen:{coldWater:e.state.prevIndicators.kitchenColdWater.value,hotWater:e.state.prevIndicators.kitchenHotWater.value},bathroom:{coldWater:e.state.prevIndicators.bathroomColdWater.value,hotWater:e.state.prevIndicators.bathroomHotWater.value}}};e.props.onRegistration(e.state.userDetails.userEmail.value,e.state.userDetails.password.value,t)},e.updateUserDataInState=function(t,a){var r=le(a,e.state.userDetails[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state.userDetails),{},Object(ne.a)({},t,Object(ie.a)(Object(ie.a)({},e.state.userDetails[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity("userDetails",n);e.setState({userDetails:n,userDetailsValid:i})},e.updatePrevIndicatorsInState=function(t,a){var r=le(a,e.state.prevIndicators[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state.prevIndicators),{},Object(ne.a)({},t,Object(ie.a)(Object(ie.a)({},e.state.prevIndicators[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity("prevIndicators",n);e.setState({prevIndicators:n,prevIndicatorsValid:i})},e.checkFormValidity=function(t,a){if("userDetails"===t&&"undefined"!==typeof a){var r=a.firstName,n=a.lastName,i=a.userEmail,l=a.password,o=a.accountantEmail,c=a.address;if(r.valid&&n.valid&&i.valid&&l.valid&&o.valid&&c.valid)return!0}if("userDetails"===t&&"undefined"===typeof a){var s=Object(ie.a)(Object(ie.a)({},e.state.userDetails),{},{firstName:Object(ie.a)(Object(ie.a)({},e.state.userDetails.firstName),{},{touched:!0,errorMessage:"requiredField"}),lastName:Object(ie.a)(Object(ie.a)({},e.state.userDetails.lastName),{},{touched:!0,errorMessage:"requiredField"}),userEmail:Object(ie.a)(Object(ie.a)({},e.state.userDetails.userEmail),{},{touched:!0,errorMessage:"requiredField"}),password:Object(ie.a)(Object(ie.a)({},e.state.userDetails.password),{},{touched:!0,errorMessage:"requiredField"}),accountantEmail:Object(ie.a)(Object(ie.a)({},e.state.userDetails.accountantEmail),{},{touched:!0,errorMessage:"requiredField"}),address:Object(ie.a)(Object(ie.a)({},e.state.userDetails.address),{},{touched:!0,errorMessage:"requiredField"})});e.setState({userDetails:s})}if("prevIndicators"===t&&"undefined"!==typeof a){var d=a.prevIndicatorsDate,u=a.electricityDay,m=a.electricityNight,h=a.kitchenColdWater,v=a.kitchenHotWater,p=a.bathroomColdWater,g=a.bathroomHotWater;if(d.valid&&u.valid&&m.valid&&h.valid&&v.valid&&p.valid&&g.valid)return!0}if("prevIndicators"===t&&"undefined"===typeof a){var E=Object(ie.a)(Object(ie.a)({},e.state.prevIndicators),{},{prevIndicatorsDate:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.prevIndicatorsDate),{},{touched:!0,errorMessage:"requiredField"}),electricityDay:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.electricityDay),{},{touched:!0,errorMessage:"requiredField"}),electricityNight:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.electricityNight),{},{touched:!0,errorMessage:"requiredField"}),kitchenColdWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.kitchenColdWater),{},{touched:!0,errorMessage:"requiredField"}),kitchenHotWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.kitchenHotWater),{},{touched:!0,errorMessage:"requiredField"}),bathroomColdWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.bathroomColdWater),{},{touched:!0,errorMessage:"requiredField"}),bathroomHotWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.bathroomHotWater),{},{touched:!0,errorMessage:"requiredField"})});e.setState({prevIndicators:E})}return!1},e}return Object(c.a)(a,[{key:"render",value:function(){return this.props.errorMessage&&window.scrollTo(0,0),n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex",position:"absolute",top:"20px",right:"20px",alignItems:"center"}},n.a.createElement(V,{theme:"dark"}),n.a.createElement(_.a,null,n.a.createElement(je.a,{component:N.b,to:"/auth",variant:"body2",style:{fontSize:"14px"}},n.a.createElement(Q,{tid:"authSignInShort"})))),n.a.createElement(_.a,{variant:"h4",align:"center",style:{marginBottom:"10px"}},n.a.createElement(Q,{tid:"registration"})),this.props.errorMessage?n.a.createElement(oe.a,{severity:"error"},n.a.createElement(Q,{tid:this.props.errorMessage})):null,n.a.createElement(Je,{userDetails:this.state.userDetails,userDetailsValid:this.state.userDetailsValid,prevIndicators:this.state.prevIndicators,prevIndicatorsValid:this.state.prevIndicatorsValid,updateUserDataInState:this.updateUserDataInState,updatePrevIndicatorsInState:this.updatePrevIndicatorsInState,checkFormValidity:this.checkFormValidity,registration:this.registration}))}}]),a}(r.Component),Xe=Object(m.b)((function(e){return{errorMessage:e.error}}),(function(e){return{onRegistration:function(t,a,r){return e(function(e,t,a){return function(r){r({type:"AUTH_START"});var n={email:e,password:t,returnSecureToken:!0},i="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(p.AUTH_API_KEY);v.post(i,n).then((function(e){console.log(e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),r(g(e.data.idToken,e.data.localId)),r(b(e.data.expiresIn)),a.userId=e.data.localId,v.post("/users.json?auth=".concat(e.data.idToken),a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e),r(E(e.response.data.error))}))}}(t,a,r))}}}))(Ge),$e=(a(321),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={email:{value:"",validation:{isEmail:!0},valid:!1,touched:!1},errorMessage:"",emailSend:!1},e.inputHandler=function(t,a){var r=le(a,e.state[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0});e.setState(Object(ne.a)({},t,n))},e.sendPasswordRecovery=function(){console.log("\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d");var t={requestType:"PASSWORD_RESET",email:e.state.email.value};v.post("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=".concat(p.AUTH_API_KEY),t).then((function(t){console.log(t),e.setState({emailSend:!0})})).catch((function(t){console.log(t.response.data),"EMAIL_NOT_FOUND"===t.response.data.error.message&&e.setState({errorMessage:"emailNotReg"})}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.email,a=n.a.createElement("div",null,n.a.createElement(_.a,{className:"headFont",variant:"h5",color:"initial"},n.a.createElement(Q,{tid:"authForgotPassword"})),n.a.createElement(_.a,{className:"typeFont",variant:"body1",color:"initial"},n.a.createElement(Q,{tid:"authPasswordRecovery"})),this.state.errorMessage?n.a.createElement(de,{severity:"error"},n.a.createElement(Q,{tid:this.state.errorMessage})):null,n.a.createElement(Ee,{id:"email",label:n.a.createElement(Q,{tid:"authEmail"}),name:"email",value:t.value,error:!t.valid&&t.touched,helperText:!t.valid&&t.touched?n.a.createElement(Q,{tid:t.errorMessage}):null,onChange:function(t){return e.inputHandler("email",t.target.value)}}),n.a.createElement(he,{disabled:!this.state.email.valid,onClick:this.sendPasswordRecovery},n.a.createElement(Q,{tid:"recover"}))),r=n.a.createElement("div",null,n.a.createElement(_.a,{className:"headFont",variant:"h5",color:"initial"},n.a.createElement(Q,{tid:"authEmailSent"})),n.a.createElement(_.a,{className:"typeFont",variant:"body1",color:"initial"},n.a.createElement(Q,{tid:"authEmailSentText1"})," ",n.a.createElement("b",null,t.value)," ",n.a.createElement(Q,{tid:"authEmailSentText2"})),n.a.createElement(_.a,null,n.a.createElement(je.a,{component:N.b,to:"/auth",variant:"body2"},n.a.createElement(Q,{tid:"authReturn"}))));return n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex",position:"absolute",top:"20px",right:"20px",alignItems:"center"}},n.a.createElement(V,{theme:"dark"}),n.a.createElement(_.a,null,n.a.createElement(je.a,{component:N.b,to:"/auth",variant:"body2",style:{fontSize:"14px"}},n.a.createElement(Q,{tid:"authSignInShort"})))),n.a.createElement("div",{className:"form_container"},this.state.emailSend?r:a))}}]),a}(r.Component)),Qe=a(151),Ze=a.n(Qe),et=(a(324),[{text:"january",value:0},{text:"february",value:1},{text:"march",value:2},{text:"april",value:3},{text:"may",value:4},{text:"june",value:5},{text:"july",value:6},{text:"august",value:7},{text:"september",value:8},{text:"october",value:9},{text:"november",value:10},{text:"december",value:11}]),tt=a(381),at=a(380),rt=a(385);function nt(e){return n.a.createElement(tt.a,{row:!0},n.a.createElement(at.a,{control:n.a.createElement(rt.a,{checked:e.checked,onChange:e.switchChange,name:e.label,color:"primary"}),label:e.label}))}var it=a(375),lt=a(379),ot=a(377),ct=a(376),st=function(e){return n.a.createElement(it.a,{open:e.modalOpen,onClose:e.modalHandlerClose,maxWidth:"xs"},n.a.createElement(lt.a,{align:"center"},n.a.createElement(Q,{tid:"dialogCheckTitle"})," ",n.a.createElement(Q,{tid:et[e.monthYear.month].text})," ",e.monthYear.year," ",n.a.createElement(Q,{tid:"year"})),n.a.createElement(ot.a,{dividers:!0},n.a.createElement(x.a,{container:!0,spacing:1},n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h6",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsElectricity"}))),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsDay"}),":")),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},e.indicators.electricityDay.value)),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsNight"}),":")),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},e.indicators.electricityNight.value)),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h6",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsKitchen"}))),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsColdWater"}),":")),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},e.indicators.coldWaterKitchen.value)),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsHotWater"}),":")),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},e.indicators.hotWaterKitchen.value)),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h6",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsBathroom"}))),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsColdWater"}),":")),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},e.indicators.coldWaterBathroom.value)),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},n.a.createElement(Q,{tid:"sendIndicatorsHotWater"}),":")),n.a.createElement(x.a,{item:!0,xs:3},n.a.createElement(_.a,{variant:"body1",align:"center"},e.indicators.hotWaterBathroom.value)),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(nt,{label:n.a.createElement(Q,{tid:"switchMail"}),checked:e.sendDataToAccountant,switchChange:e.switchChange})))),n.a.createElement(ct.a,null,n.a.createElement(ue.a,{onClick:e.modalHandlerClose,color:"secondary"},n.a.createElement(Q,{tid:"cancel"})),n.a.createElement(ue.a,{onClick:e.sendIndicators,color:"primary",autoFocus:!0},n.a.createElement(Q,{tid:"send"}))))},dt=a(337),ut=function(e){var t=e.indicators,a=t.electricityDay,r=t.electricityNight,i=t.coldWaterKitchen,l=t.coldWaterBathroom,o=t.hotWaterKitchen,c=t.hotWaterBathroom;return n.a.createElement(x.a,{container:!0,spacing:2},n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h5",className:"headerMargin"},n.a.createElement(Q,{tid:"sendIndicatorsMonthYear"}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(W.a,{style:{width:"100%"}},n.a.createElement(dt.a,null,n.a.createElement(Q,{tid:"sendIndicatorsMonth"})),n.a.createElement(w.a,{value:e.monthYear.month||0,onChange:function(t){return e.setStateMonthYear("month",t.target.value)}},et.map((function(e){return n.a.createElement(T.a,{key:e.value,value:e.value},n.a.createElement(Q,{tid:e.text}))}))))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(W.a,{style:{width:"100%"}},n.a.createElement(dt.a,null,n.a.createElement(Q,{tid:"sendIndicatorsYear"})),n.a.createElement(w.a,{value:e.monthYear.year||2020,onChange:function(t){return e.setStateMonthYear("year",t.target.value)}},e.getCurrentYear().map((function(e){return n.a.createElement(T.a,{key:e.value,value:e.value},e.text)}))))),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h5",className:"headerMargin"},n.a.createElement(Q,{tid:"sendIndicatorsElectricity"}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{style:{width:"100%"},variant:"standard",label:n.a.createElement(Q,{tid:"sendIndicatorsDay"}),currencySymbol:"",value:a.value,minimumValue:"0",onChange:function(t,a){return e.updateIndicatorsInState("electricityDay",a)},error:!a.valid&&a.touched,helperText:!a.valid&&a.touched?n.a.createElement(Q,{tid:a.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{style:{width:"100%"},variant:"standard",label:n.a.createElement(Q,{tid:"sendIndicatorsNight"}),currencySymbol:"",value:r.value,minimumValue:"0",onChange:function(t,a){return e.updateIndicatorsInState("electricityNight",a)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(Q,{tid:r.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h5",className:"headerMargin"},n.a.createElement(Q,{tid:"sendIndicatorsKitchen"}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{style:{width:"100%"},variant:"standard",label:n.a.createElement(Q,{tid:"sendIndicatorsColdWater"}),currencySymbol:"",value:i.value,minimumValue:"0",onChange:function(t,a){return e.updateIndicatorsInState("coldWaterKitchen",a)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(Q,{tid:i.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{style:{width:"100%"},variant:"standard",label:n.a.createElement(Q,{tid:"sendIndicatorsHotWater"}),currencySymbol:"",value:o.value,minimumValue:"0",onChange:function(t,a){return e.updateIndicatorsInState("hotWaterKitchen",a)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(Q,{tid:o.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h5",className:"headerMargin"},n.a.createElement(Q,{tid:"sendIndicatorsBathroom"}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{style:{width:"100%"},variant:"standard",label:n.a.createElement(Q,{tid:"sendIndicatorsColdWater"}),currencySymbol:"",value:l.value,minimumValue:"0",onChange:function(t,a){return e.updateIndicatorsInState("coldWaterBathroom",a)},error:!l.valid&&l.touched,helperText:!l.valid&&l.touched?n.a.createElement(Q,{tid:l.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{style:{width:"100%"},variant:"standard",label:n.a.createElement(Q,{tid:"sendIndicatorsHotWater"}),currencySymbol:"",value:c.value,minimumValue:"0",onChange:function(t,a){return e.updateIndicatorsInState("hotWaterBathroom",a)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(Q,{tid:c.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"15px"}},n.a.createElement(ue.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:e.indicatorsValid?e.modalHandlerOpen:function(){return e.checkFormValidity()}},n.a.createElement(Q,{tid:"send"}))))},mt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={indicators:{electricityDay:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},electricityNight:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},coldWaterKitchen:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},coldWaterBathroom:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},hotWaterKitchen:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},hotWaterBathroom:{value:"",validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1}},indicatorsValid:!1,monthYear:{month:(new Date).getMonth(),year:(new Date).getFullYear()},sendDataToAccountant:!0,modalOpen:!1},e.updateIndicatorsInState=function(t,a){var r=le(a,e.state.indicators[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state.indicators),{},Object(ne.a)({},t,Object(ie.a)(Object(ie.a)({},e.state.indicators[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity(n);e.setState({indicators:n,indicatorsValid:i})},e.checkFormValidity=function(t){if(console.log(typeof t),"undefined"!==typeof t){var a=t.electricityDay,r=t.electricityNight,n=t.coldWaterKitchen,i=t.coldWaterBathroom,l=t.hotWaterKitchen,o=t.hotWaterBathroom;if(a.valid&&r.valid&&n.valid&&i.valid&&l.valid&&o.valid)return!0}if("undefined"===typeof t){var c=Object(ie.a)(Object(ie.a)({},e.state.indicators),{},{electricityDay:Object(ie.a)(Object(ie.a)({},e.state.indicators.electricityDay),{},{touched:!0,errorMessage:"requiredField"}),electricityNight:Object(ie.a)(Object(ie.a)({},e.state.indicators.electricityNight),{},{touched:!0,errorMessage:"requiredField"}),coldWaterKitchen:Object(ie.a)(Object(ie.a)({},e.state.indicators.coldWaterKitchen),{},{touched:!0,errorMessage:"requiredField"}),coldWaterBathroom:Object(ie.a)(Object(ie.a)({},e.state.indicators.coldWaterBathroom),{},{touched:!0,errorMessage:"requiredField"}),hotWaterKitchen:Object(ie.a)(Object(ie.a)({},e.state.indicators.hotWaterKitchen),{},{touched:!0,errorMessage:"requiredField"}),hotWaterBathroom:Object(ie.a)(Object(ie.a)({},e.state.indicators.hotWaterBathroom),{},{touched:!0,errorMessage:"requiredField"})});e.setState({indicators:c})}return!1},e.modalHandlerClose=function(){e.setState({modalOpen:!1})},e.modalHandlerOpen=function(t){for(var a in t.preventDefault(),e.state.indicators){var r=Object(ie.a)({},e.state.indicators);if(""===r[a].value||0===r[a].value){var n=Object(ie.a)({},e.state.indicators);n[a].valid=!1,e.setState({indicators:n}),e.setState({indicatorsValid:!1})}}e.state.indicators.electricityDay.valid&&e.state.indicators.electricityNight.valid&&e.state.indicators.coldWaterKitchen.valid&&e.state.indicators.coldWaterBathroom.valid&&e.state.indicators.hotWaterKitchen.valid&&e.state.indicators.hotWaterBathroom.valid&&e.setState({modalOpen:!0})},e.sendEmailHandler=function(){var t={recipient:e.props.userDetails.accountantEmail,address:e.props.userDetails.address,month:et[e.state.monthYear.month].text,year:e.state.monthYear.year,electricityDay:e.state.indicators.electricityDay.value,electricityNight:e.state.indicators.electricityNight.value,coldWaterKitchen:e.state.indicators.coldWaterKitchen.value,coldWaterBathroom:e.state.indicators.coldWaterBathroom.value,hotWaterKitchen:e.state.indicators.hotWaterKitchen.value,hotWaterBathroom:e.state.indicators.hotWaterBathroom.value};console.log(t),Ze.a.send(p.SERVICE_ID,p.TEMPLATE_ID,t,p.USER_ID).then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)}))},e.sendIndicators=function(){var t=new Date(Date.UTC(e.state.monthYear.year,e.state.monthYear.month,1,5)).setUTCHours(0,0,0,0),a={electricity:{day:e.state.indicators.electricityDay.value,night:e.state.indicators.electricityNight.value},coldWater:{kitchen:e.state.indicators.coldWaterKitchen.value,bathroom:e.state.indicators.coldWaterBathroom.value},hotWater:{kitchen:e.state.indicators.hotWaterKitchen.value,bathroom:e.state.indicators.hotWaterBathroom.value},currentDate:{today:new Date(t).toUTCString(),year:e.state.monthYear.year},userId:localStorage.getItem("userId")},r=localStorage.getItem("token");v.post("/indicators.json?auth=".concat(r),a).then((function(t){console.log(t),e.setState({modalOpen:!1}),e.state.sendDataToAccountant&&e.sendEmailHandler(),e.props.history.push("/outlay")})).catch((function(e){console.log(e)}))},e.getCurrentMonth=function(){return(new Date).getMonth()},e.getCurrentYear=function(){for(var e=(new Date).getFullYear(),t=[],a=2;a>=0;a--)t.push({text:e-a,value:e-a});return t},e.setStateMonthYear=function(t,a){var r=Object(ie.a)(Object(ie.a)({},e.state.monthYear),{},Object(ne.a)({},t,a));e.setState({monthYear:r})},e.switchChange=function(){e.setState({sendDataToAccountant:!e.state.sendDataToAccountant})},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(st,{indicators:this.state.indicators,monthYear:this.state.monthYear,modalOpen:this.state.modalOpen,sendDataToAccountant:this.state.sendDataToAccountant,switchChange:this.switchChange,modalHandlerClose:this.modalHandlerClose,sendIndicators:this.sendIndicators}),n.a.createElement(_.a,{variant:"h4",align:"center"},n.a.createElement(Q,{tid:"sendIndicators"})),n.a.createElement(Ue,null,n.a.createElement(ut,{indicators:this.state.indicators,monthYear:this.state.monthYear,indicatorsValid:this.state.indicatorsValid,setStateMonthYear:this.setStateMonthYear,getCurrentYear:this.getCurrentYear,updateIndicatorsInState:this.updateIndicatorsInState,modalHandlerOpen:this.modalHandlerOpen,checkFormValidity:this.checkFormValidity})))}}]),a}(r.Component),ht=Object(u.g)(Object(m.b)((function(e){return{userDetails:e.userDetails}}))(mt)),vt=a(77),pt=a(76),gt=(a(325),a(374)),Et=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"15px"},paragraph:{marginTop:"5px"}}})),ft=function(){var e=Et();return n.a.createElement("div",{className:e.root},n.a.createElement(gt.a,null),n.a.createElement(_.a,{className:e.paragraph},n.a.createElement(Q,{tid:"loading"})))},bt=a(390),yt=a(387),It=a(391),Dt=a(392),St=a(389),Ot=a(388),jt=a(394),Ct=a(395),xt=Object(M.a)({root:{position:"relative",marginTop:"30px"},buttonClose:{position:"absolute",right:"5px",top:"5px",padding:0},buttonSend:{position:"absolute",left:"5px",top:"5px",padding:0}}),kt=function(e){var t=xt(),a=e.indicatorsList,r=a.id,i=a.date,l=a.indicators,o=e.costWaterSupply,c=e.costElectricity,s="";switch(i.getMonth()){case 0:s=n.a.createElement(Q,{tid:"january"});break;case 1:s=n.a.createElement(Q,{tid:"february"});break;case 2:s=n.a.createElement(Q,{tid:"march"});break;case 3:s=n.a.createElement(Q,{tid:"april"});break;case 4:s=n.a.createElement(Q,{tid:"may"});break;case 5:s=n.a.createElement(Q,{tid:"june"});break;case 6:s=n.a.createElement(Q,{tid:"july"});break;case 7:s=n.a.createElement(Q,{tid:"august"});break;case 8:s=n.a.createElement(Q,{tid:"september"});break;case 9:s=n.a.createElement(Q,{tid:"october"});break;case 10:s=n.a.createElement(Q,{tid:"november"});break;case 11:s=n.a.createElement(Q,{tid:"december"});break;default:s=n.a.createElement(Q,{tid:"notDefined"})}return n.a.createElement(bt.a,{component:k.a,className:t.root},n.a.createElement(A.a,{className:t.buttonSend,"aria-label":n.a.createElement(Q,{tid:"send"}),component:"span",color:"primary",onClick:function(){e.handleSendDialogOpen(r)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(jt.a,null)),n.a.createElement(A.a,{className:t.buttonClose,"aria-label":n.a.createElement(Q,{tid:"delete"}),component:"span",color:"secondary",onClick:function(){e.handleDeleteDialogOpen(r)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(Ct.a,null)),n.a.createElement(_.a,{variant:"h6",align:"center"},s," ",i.getFullYear()),n.a.createElement(yt.a,null,n.a.createElement(It.a,null,n.a.createElement(Dt.a,null,n.a.createElement(St.a,null,n.a.createElement("b",null,n.a.createElement(Q,{tid:"outlayIndicator"}))),n.a.createElement(St.a,{align:"center"},n.a.createElement("b",null,n.a.createElement(Q,{tid:"outlayCharge"}))),n.a.createElement(St.a,{align:"center"},n.a.createElement("b",null,n.a.createElement(Q,{tid:"outlayConsumption"}))))),n.a.createElement(Ot.a,null,l.map((function(e,t){return n.a.createElement(Dt.a,{key:t},n.a.createElement(St.a,{component:"th",scope:"row"},n.a.createElement(Q,{tid:e.name})),n.a.createElement(St.a,{align:"center"},e.intake),n.a.createElement(St.a,{align:"center"},e.outlay))})),n.a.createElement(Dt.a,null,n.a.createElement(St.a,{align:"center",colSpan:3},n.a.createElement("b",null,n.a.createElement(Q,{tid:"outlayCost"})))),n.a.createElement(Dt.a,null,n.a.createElement(St.a,{component:"th",scope:"row",colSpan:2},n.a.createElement(Q,{tid:"outlayWaterSupply"})),n.a.createElement(St.a,{align:"center"},o," \u20bd")),n.a.createElement(Dt.a,null,n.a.createElement(St.a,{component:"th",scope:"row",colSpan:2},n.a.createElement(Q,{tid:"outlayElectricity"})),n.a.createElement(St.a,{align:"center"},c," \u20bd")))))},Nt=a(400),Wt=a(386),wt=Object(M.a)({root:{flexGrow:1,marginTop:"15px",boxShadow:"none"},label:{fontSize:"1rem"}}),Tt=function(e){var t=wt(),a=n.a.useState(0),r=Object(I.a)(a,2),i=r[0],l=r[1];return n.a.createElement(k.a,{className:t.root},n.a.createElement(Nt.a,{value:i,onChange:function(t,a){l(a),e.changeCurrentYear(e.tabsList[a])},indicatorColor:"primary",textColor:"primary",centered:!0},e.tabsList.map((function(e){return n.a.createElement(Wt.a,{key:e,label:e,className:t.label})}))))},Mt=a(378);function Ft(e){return n.a.createElement(it.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(lt.a,{id:"alert-dialog-title"},n.a.createElement(Q,{tid:e.dialogTitle})),n.a.createElement(ot.a,null,n.a.createElement(Mt.a,{id:"alert-dialog-description"},n.a.createElement(Q,{tid:e.dialogContent}))),n.a.createElement(ct.a,null,n.a.createElement(ue.a,{onClick:e.handleClose,color:"primary"},n.a.createElement(Q,{tid:"cancel"})),n.a.createElement(ue.a,{onClick:e.handleContinue,color:"secondary",autoFocus:!0},n.a.createElement(Q,{tid:e.activeButtonName}))))}var Vt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={indicatorsList:null,prevIndicators:null,tariffs:null,currentYear:(new Date).getUTCFullYear(),error:null,deleteDialogOpen:!1,deleteIndicatorId:null,sendDialogOpen:!1,sendIndicatorId:null},e.getDataFromFirebase=function(){var t=localStorage.getItem("token"),a=localStorage.getItem("userId"),r="/users.json?auth=".concat(t,'&orderBy="userId"&equalTo="').concat(a,'"'),n="/tariffs.json?auth=".concat(t,'&orderBy="userId"&equalTo="').concat(a,'"'),i="/indicators.json?auth=".concat(t,'&orderBy="userId"&equalTo="').concat(a,'"'),l=v.get(r),o=v.get(n),c=v.get(i);Promise.all([l,o,c]).then((function(t){console.log("\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b | \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445: ",t);var a=e.getUserDetails(t[0].data),r=e.getListOfTariffs(t[1].data),n=e.getListOfIndicators(t[2].data);0!==(n=e.countOutlay(n,a)).length?e.setState({prevIndicators:a,tariffs:r,indicatorsList:n}):e.setState({prevIndicators:a,tariffs:r,error:"outlayErrorNotYetSend"})})).catch((function(t){console.log(t),e.setState({error:"responseError"})}))},e.getUserDetails=function(e){var t=e[Object.keys(e)].prevIndicators;return[{id:"day_electricity",name:"outlayElectricityDay",intake:t.electricity.day},{id:"night_electricity",name:"outlayElectricityNight",intake:t.electricity.night},{id:"cold_water",name:"outlayColdWater",intake:t.bathroom.coldWater+t.kitchen.coldWater},{id:"hot_water",name:"outlayHotWater",intake:t.bathroom.hotWater+t.kitchen.hotWater},{id:"disposal_water",name:"outlayDisposalWater",intake:t.bathroom.coldWater+t.kitchen.coldWater+t.bathroom.hotWater+t.kitchen.hotWater}]},e.getListOfTariffs=function(e){return Object.keys(e).map((function(t){var a=e[t];return a.id=t,a}))},e.getListOfIndicators=function(e){var t=Object.keys(e).map((function(t){return{id:t,date:new Date(e[t].currentDate.today),year:e[t].currentDate.year,indicators:[{id:"day_electricity",name:"outlayElectricityDay",intake:e[t].electricity.day},{id:"night_electricity",name:"outlayElectricityNight",intake:e[t].electricity.night},{id:"cold_water",name:"outlayColdWater",intake:e[t].coldWater.bathroom+e[t].coldWater.kitchen,bathroom:e[t].coldWater.bathroom,kitchen:e[t].coldWater.kitchen},{id:"hot_water",name:"outlayHotWater",intake:e[t].hotWater.bathroom+e[t].hotWater.kitchen,bathroom:e[t].hotWater.bathroom,kitchen:e[t].hotWater.kitchen},{id:"disposal_water",name:"outlayDisposalWater",intake:e[t].coldWater.bathroom+e[t].coldWater.kitchen+e[t].hotWater.bathroom+e[t].hotWater.kitchen}]}}));return t.sort((function(e,t){return e.date.getTime()-t.date.getTime()})),t},e.sendEmailHandler=function(){var t=e.getOneIndicator(),a={recipient:e.props.userDetails.accountantEmail,address:e.props.userDetails.address,month:et[new Date(t.date).getMonth()].text,year:t.year,electricityDay:t.indicators[0].intake,electricityNight:t.indicators[1].intake,coldWaterKitchen:t.indicators[2].kitchen,coldWaterBathroom:t.indicators[2].bathroom,hotWaterKitchen:t.indicators[3].kitchen,hotWaterBathroom:t.indicators[3].bathroom};Ze.a.send(p.SERVICE_ID,p.TEMPLATE_ID,a,p.USER_ID).then((function(t){console.log("SUCCESS!",t.status,t.text),e.props.enqueueSnackbar(n.a.createElement(Q,{tid:"outlaySendSuccess"}),{variant:"success",preventDuplicate:!0})}),(function(e){console.log("FAILED...",e)}))},e.getOneIndicator=function(){return e.state.indicatorsList.find((function(t){return t.id===e.state.sendIndicatorId}))},e.deleteItemFromIndicators=function(){var t=localStorage.getItem("token");v.delete("/indicators/".concat(e.state.deleteIndicatorId,".json?auth=").concat(t)).then((function(t){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",t.data),e.setState({deleteIndicatorId:null}),e.props.enqueueSnackbar(n.a.createElement(Q,{tid:"objectDeleted"}),{variant:"info",preventDuplicate:!0})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ",e)}))},e.removeIndicatorFromState=function(t){var a=Object(vt.a)(e.state.indicatorsList);a=a.filter((function(e){return e.id!==t})),e.setState({indicatorsList:a})},e.handleDeleteDialogOpen=function(t){e.setState({deleteDialogOpen:!0,deleteIndicatorId:t})},e.handleDeleteDialogClose=function(){e.setState({deleteDialogOpen:!1})},e.handleDeleteDialogContinue=function(){e.removeIndicatorFromState(e.state.deleteIndicatorId),e.deleteItemFromIndicators(),e.handleDeleteDialogClose()},e.handleSendDialogOpen=function(t){e.setState({sendDialogOpen:!0,sendIndicatorId:t})},e.handleSendDialogClose=function(){e.setState({sendDialogOpen:!1})},e.handleSendDialogContinue=function(){e.sendEmailHandler(),e.handleSendDialogClose()},e.countOutlay=function(e,t){for(var a=Object(vt.a)(e),r=function(e){a[e]===a[0]?a[e].indicators=a[e].indicators.map((function(e,a){var r=Object(ie.a)({},e);return r.outlay=r.intake-t[a].intake,r})):a[e].indicators=a[e].indicators.map((function(t,r){var n=Object(ie.a)({},t);return n.outlay=n.intake-a[e-1].indicators[r].intake,n}))},n=0;n<a.length;n++)r(n);return a},e.countCostElectricity=function(t,a){var r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=null;try{n=t.find((function(e){return"day_electricity"===e.id})).outlay}catch(c){console.log("\u042d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u043d\u044c",c)}var i=null;try{i=t.find((function(e){return"night_electricity"===e.id})).outlay}catch(c){console.log("\u042d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0447\u044c",c)}var l=null;try{l=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"electricity_day"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(c){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u043d\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}var o=null;try{o=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"electricity_night"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(c){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0447\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}return(n*l+i*o).toFixed(2)},e.countCostWaterSupply=function(t,a){var r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=null;try{n=t.find((function(e){return"cold_water"===e.id})).outlay}catch(s){console.log("\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0432\u043e\u0434\u0430",s)}var i=null;try{i=t.find((function(e){return"hot_water"===e.id})).outlay}catch(s){console.log("\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0432\u043e\u0434\u0430",s)}var l=null;try{l=t.find((function(e){return"disposal_water"===e.id})).outlay}catch(s){console.log("\u0412\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435",s)}var o=null;try{o=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"water"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(s){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u0432\u043e\u0434\u0443 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}var c=null;try{c=e.state.tariffs.find((function(e){var t=e.name,a=e.dateStart,n=e.dateEnd;return"disposal_water"===t&&r.setDate(r.getDate()+1)>=new Date(a)&&r.setDate(r.getDate()+1)<=new Date(n)})).cost}catch(s){console.log("\u0422\u0430\u0440\u0438\u0444 \u043d\u0430 \u0432\u043e\u0434\u043e\u043e\u0442\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...")}return((n+i)*o+l*c).toFixed(2)},e.changeCurrentYear=function(t){e.setState({currentYear:t})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getDataFromFirebase()}},{key:"render",value:function(){var e=this,t=null;t=null===this.state.indicatorsList&&null===this.state.error?n.a.createElement(ft,null):null!==this.state.indicatorsList?(t=this.state.indicatorsList.filter((function(t){return t.date.getUTCFullYear()===e.state.currentYear}))).length>0?t.map((function(t,a){return n.a.createElement(kt,{key:a,indicatorsList:t,costWaterSupply:e.countCostWaterSupply(t.indicators,t.date),costElectricity:e.countCostElectricity(t.indicators,t.date),handleDeleteDialogOpen:e.handleDeleteDialogOpen,handleSendDialogOpen:e.handleSendDialogOpen})})):n.a.createElement("p",{style:{textAlign:"center"}},n.a.createElement(Q,{tid:"outlayNoData"})," ",this.state.currentYear," ",n.a.createElement(Q,{tid:"outlayNoDataYear"})):n.a.createElement("p",{style:{textAlign:"center"}},n.a.createElement(Q,{tid:this.state.error}));for(var a=[],r=(new Date).getUTCFullYear();r>=(new Date).getUTCFullYear()-1;r--)a.push(r);return n.a.createElement("div",null,n.a.createElement(Ft,{open:this.state.sendDialogOpen,handleClose:this.handleSendDialogClose,handleContinue:this.handleSendDialogContinue,dialogTitle:"outlaySendDialogTitle",dialogContent:"outlaySendDialogContent",activeButtonName:"send"}),n.a.createElement(Ft,{open:this.state.deleteDialogOpen,handleClose:this.handleDeleteDialogClose,handleContinue:this.handleDeleteDialogContinue,dialogTitle:"outlayDeleteDialogTitle",dialogContent:"outlayDeleteDialogContent",activeButtonName:"delete"}),n.a.createElement(_.a,{variant:"h4",align:"center"},n.a.createElement(Q,{tid:"outlayCurrentExpenditure"})),n.a.createElement(Tt,{tabsList:a,changeCurrentYear:this.changeCurrentYear}),n.a.createElement("div",{className:"indicatorsList"},t))}}]),a}(r.Component),Pt=Object(pt.b)(Object(m.b)((function(e){return{userDetails:e.userDetails}}))(Vt)),Ht=a(339),Ut=a(396),At=a(397),_t=Object(M.a)({root:{margin:"20px 0",position:"relative"},cardPadding:{paddingBottom:"16px !important",paddingTop:"26px !important"},row:{display:"flex"},textField:{width:"100%"},selectPadding:{display:"flex",flexBasis:"13rem"},buttonClose:{position:"absolute",padding:"5px",top:"5px",right:"5px"},buttonEdit:{position:"absolute",padding:"5px",top:"5px",right:"35px"},buttonIconSuccess:{color:"#4caf50"},buttonIconSuccessDisabled:{color:"#9E9E9E"},buttonSuccess:{"&:hover":{backgorundColor:"rgba(243, 243, 243, 0.04) !important"}}}),Yt=function(e){var t=_t(),a=e.tariff,i=a.id,l=a.name,o=a.cost,c=a.dateEnd,s=a.dateStart,d=a.tariffValid,u=Object(r.useState)(e.disabled),m=Object(I.a)(u,2),h=m[0],v=m[1];return n.a.createElement(Ve.a,{className:t.root},h?n.a.createElement(A.a,{className:t.buttonEdit,component:"span",color:"primary",onClick:function(){return v(!1)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(Ut.a,null)):n.a.createElement(A.a,{className:t.buttonEdit+" "+t.buttonSuccess,component:"span",color:"secondary",disabled:!d,onClick:function(){v(!0),i?e.updateItemInTariffs(i):e.insertItemToTariffs(e.tarriffIndex)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(At.a,{className:d?t.buttonIconSuccess:t.buttonIconSuccessDisabled})),n.a.createElement(A.a,{className:t.buttonClose,component:"span",color:"secondary",onClick:function(){e.handleDeleteDialogOpen(i)},disableRipple:!0,disableFocusRipple:!0},n.a.createElement(Ct.a,null)),n.a.createElement(Pe.a,{className:t.cardPadding},n.a.createElement(x.a,{container:!0,spacing:3},n.a.createElement(x.a,{item:!0,xs:6,className:t.row},n.a.createElement(W.a,{className:t.textField},n.a.createElement(dt.a,null,n.a.createElement(Q,{tid:"tariffName"})),n.a.createElement(w.a,{value:l.value,onChange:function(t){return e.updateTariffInState(i,"name",t.target.value)},disabled:h,error:!l.valid&&l.touched},n.a.createElement(T.a,{value:"water"},n.a.createElement(Q,{tid:"tariffWater"})),n.a.createElement(T.a,{value:"hot_water"},n.a.createElement(Q,{tid:"tariffHotWater"})),n.a.createElement(T.a,{value:"disposal_water"},n.a.createElement(Q,{tid:"tariffDisposalWater"})),n.a.createElement(T.a,{value:"electricity_day"},n.a.createElement(Q,{tid:"tariffElectricityDay"})),n.a.createElement(T.a,{value:"electricity_night"},n.a.createElement(Q,{tid:"tariffElectricityNight"}))),!l.valid&&l.touched?n.a.createElement(Ht.a,null,l.errorMessage):null)),n.a.createElement(x.a,{item:!0,xs:6,className:t.row},n.a.createElement(qe.a,{className:t.textField,label:n.a.createElement(Q,{tid:"tariffCost"}),currencySymbol:"\u20bd",value:o.value,minimumValue:"0",maximumValue:"5000",disabled:h,onChange:function(t,a){return e.updateTariffInState(i,"cost",a)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(Q,{tid:o.errorMessage}):null})),n.a.createElement(Ye.a,{utils:_e.a},n.a.createElement(x.a,{item:!0,xs:6,className:t.row},n.a.createElement(Be.a,{clearable:!0,label:n.a.createElement(Q,{tid:"tariffDateStart"}),format:"dd.MM.yyyy",value:s.value,className:t.textFieldMargin+" "+t.textField,disabled:h,onChange:function(t){return e.updateTariffInState(i,"dateStart",t)},error:!s.valid&&s.touched,helperText:!s.valid&&s.touched?n.a.createElement(Q,{tid:s.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6,className:t.row},n.a.createElement(Be.a,{clearable:!0,label:n.a.createElement(Q,{tid:"tariffDateEnd"}),format:"dd.MM.yyyy",value:c.value,className:t.textField,disabled:h,onChange:function(t){return e.updateTariffInState(i,"dateEnd",t)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(Q,{tid:c.errorMessage}):null}))))))},Bt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={tariffs:[],deleteDialogOpen:!1,deleteTariffId:null,addButtonDisabled:!1,error:null},e.getListOfTariffs=function(){var t=localStorage.getItem("token"),a=localStorage.getItem("userId");v.get("/tariffs.json?auth=".concat(t,'&orderBy="userId"&equalTo="').concat(a,'"')).then((function(t){if(console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",t.data),0!==Object.keys(t.data).length){var a=Object.keys(t.data).map((function(e){var a={};return a.name={value:t.data[e].name,validation:{required:!0},valid:!0,errorMessage:"",touched:!0},a.cost={value:t.data[e].cost,validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0},a.dateStart={value:t.data[e].dateStart,validation:{isDate:!0},valid:!0,errorMessage:"",touched:!0},a.dateEnd={value:t.data[e].dateEnd,validation:{isDate:!0},valid:!0,errorMessage:"",touched:!0},a.id=e,a.tariffValid=!0,a.userId=t.data[e].userId,a}));e.setState({tariffs:a})}else e.setState({error:"tariffErrorNotYetSend"})})).catch((function(e){console.log(e)}))},e.deleteItemFromTariffs=function(){var t=localStorage.getItem("token");v.delete("/tariffs/".concat(e.state.deleteTariffId,".json?auth=").concat(t)).then((function(t){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",t.data),e.setState({deleteTariffId:null}),e.props.enqueueSnackbar(n.a.createElement(Q,{tid:"objectDeleted"}),{variant:"info",preventDuplicate:!0})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ",e)}))},e.updateItemInTariffs=function(t){console.log("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438",t);var a=localStorage.getItem("token"),r=e.state.tariffs.find((function(e){return e.id===t})),i={cost:r.cost.value,dateEnd:r.dateEnd.value,dateStart:r.dateStart.value,name:r.name.value,userId:r.userId};console.log("\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",i),v.patch("/tariffs/".concat(t,".json?auth=").concat(a),i).then((function(t){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",t.data),e.props.enqueueSnackbar(n.a.createElement(Q,{tid:"saveData"}),{variant:"success",preventDuplicate:!0})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ",e)}))},e.insertItemToTariffs=function(t){console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438",t);var a=localStorage.getItem("token"),r=localStorage.getItem("userId"),i=e.state.tariffs[0],l={cost:i.cost.value,dateEnd:i.dateEnd.value,dateStart:i.dateStart.value,name:i.name.value,userId:r};console.log("\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",l),v.post("/tariffs.json?auth=".concat(a),l).then((function(a){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",a.data);var i=Object(vt.a)(e.state.tariffs);i[t]=Object(ie.a)(Object(ie.a)({},e.state.tariffs[t]),{},{id:a.data.name,userId:r}),e.setState({addButtonDisabled:!1,tariffs:i}),e.props.enqueueSnackbar(n.a.createElement(Q,{tid:"saveData"}),{variant:"success",preventDuplicate:!0})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ",e)}))},e.handleDeleteDialogOpen=function(t){"undefined"!==typeof t?e.setState({deleteDialogOpen:!0,deleteTariffId:t}):(1===e.state.tariffs.length&&e.setState({error:"tariffErrorNotYetSend"}),e.removeTariffFromState(t))},e.handleDeleteDialogClose=function(){e.setState({deleteDialogOpen:!1})},e.handleDeleteDialogContinue=function(){e.removeTariffFromState(e.state.deleteTariffId),e.deleteItemFromTariffs(),e.handleDeleteDialogClose()},e.addTariffToState=function(){e.setState({error:null});var t=Object(vt.a)(e.state.tariffs);t.unshift({name:{value:"",validation:{required:!0},valid:!1,errorMessage:"",touched:!1},cost:{value:0,validation:{isNumber:!0},valid:!1,errorMessage:"",touched:!1},dateStart:{value:null,validation:{isDate:!0},valid:!1,errorMessage:"",touched:!1},dateEnd:{value:null,validation:{isDate:!0},valid:!1,errorMessage:"",touched:!1}}),e.setState({tariffs:t,addButtonDisabled:!0})},e.removeTariffFromState=function(t){var a=Object(vt.a)(e.state.tariffs);a=a.filter((function(e){return e.id!==t})),e.state.addButtonDisabled?e.setState({tariffs:a,addButtonDisabled:!1}):e.setState({tariffs:a})},e.updateTariffInState=function(t,a,r){var n=Object(vt.a)(e.state.tariffs),i=n.findIndex((function(e){return e.id===t})),l=le(r,n[i][a].validation);n[i]=Object(ie.a)(Object(ie.a)({},e.state.tariffs[i]),{},Object(ne.a)({},a,Object(ie.a)(Object(ie.a)({},e.state.tariffs[i][a]),{},{value:r,valid:l.isValid,errorMessage:l.errorMessage,touched:!0})));var o=e.checkFormValidity(n[i]);n[i].tariffValid=o,e.setState({tariffs:n})},e.checkFormValidity=function(e){var t=e.name,a=e.cost,r=e.dateStart,n=e.dateEnd;return!!(t.valid&&a.valid&&r.valid&&n.valid)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getListOfTariffs()}},{key:"render",value:function(){var e=this,t=null;return t=0===this.state.tariffs.length&&null===this.state.error?n.a.createElement(ft,null):null!==this.state.error?n.a.createElement("p",{style:{textAlign:"center"}},n.a.createElement(Q,{tid:this.state.error})):this.state.tariffs.map((function(t,a){return n.a.createElement(Yt,{key:"undefined"!==typeof t.id?t.id:a,tarriffIndex:a,tariff:t,disabled:"undefined"!==typeof t.id,handleDeleteDialogOpen:e.handleDeleteDialogOpen,handleDeleteDialogContinue:e.handleDeleteDialogContinue,updateItemInTariffs:e.updateItemInTariffs,updateTariffInState:e.updateTariffInState,insertItemToTariffs:e.insertItemToTariffs})})),n.a.createElement("div",null,n.a.createElement(Ft,{open:this.state.deleteDialogOpen,handleClose:this.handleDeleteDialogClose,handleContinue:this.handleDeleteDialogContinue,dialogTitle:"outlayDeleteDialogTitle",dialogContent:"outlayDeleteDialogContent",activeButtonName:"delete"}),n.a.createElement(_.a,{variant:"h4",align:"center",style:{marginBottom:"10px"}},n.a.createElement(Q,{tid:"tariffs"})),n.a.createElement(x.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",alignContent:"center",wrap:"nowrap"},n.a.createElement(ue.a,{onClick:function(){return e.addTariffToState(t)},color:"primary",disabled:this.state.addButtonDisabled},n.a.createElement(Q,{tid:"addTariff"}))),t)}}]),a}(r.Component),Lt=Object(pt.b)(Bt),qt=Object(M.a)({field:{width:"100%"},buttonPosition:{textAlign:"center"}}),Rt=function(e){var t=qt(),a=e.userDetails,r=a.firstName,i=a.lastName,l=a.userEmail,o=a.accountantEmail,c=a.address,s=e.prevIndicators,d=s.prevIndicatorsDate,u=s.electricityDay,m=s.electricityNight,h=s.kitchenColdWater,v=s.kitchenHotWater,p=s.bathroomColdWater,g=s.bathroomHotWater;return n.a.createElement(x.a,{container:!0,spacing:3},n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h5",align:"center"},n.a.createElement(Q,{tid:"contacts"}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"firstName"}),value:r.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("firstName",t.target.value)},error:!r.valid&&r.touched,helperText:!r.valid&&r.touched?n.a.createElement(Q,{tid:r.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"lastName"}),value:i.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("lastName",t.target.value)},error:!i.valid&&i.touched,helperText:!i.valid&&i.touched?n.a.createElement(Q,{tid:i.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"address"}),value:c.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("address",t.target.value)},error:!c.valid&&c.touched,helperText:!c.valid&&c.touched?n.a.createElement(Q,{tid:c.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"userEmail"}),value:l.value,disabled:!0,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("userEmail",t.target.value)}})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(ve.a,{label:n.a.createElement(Q,{tid:"accountantEmail"}),value:o.value,fullWidth:!0,onChange:function(t){return e.updateUserDataInState("accountantEmail",t.target.value)},error:!o.valid&&o.touched,helperText:!o.valid&&o.touched?n.a.createElement(Q,{tid:o.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(_.a,{variant:"h5",align:"center"},n.a.createElement(Q,{tid:"primaryIndicators"}))),n.a.createElement(x.a,{item:!0,xs:12},n.a.createElement(Ye.a,{utils:_e.a},n.a.createElement(Be.a,{clearable:!0,className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"prevIndicatorsDate"}),format:"dd.MM.yyyy",value:d.value,onChange:function(t){return e.updatePrevIndicatorsInState("prevIndicatorsDate",t)},error:!d.valid&&d.touched,helperText:!d.valid&&d.touched?n.a.createElement(Q,{tid:d.errorMessage}):null}))),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"electricityDay"}),currencySymbol:"",value:u.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("electricityDay",a)},error:!u.valid&&u.touched,helperText:!u.valid&&u.touched?n.a.createElement(Q,{tid:u.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"electricityNight"}),currencySymbol:"",value:m.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("electricityNight",a)},error:!m.valid&&m.touched,helperText:!m.valid&&m.touched?n.a.createElement(Q,{tid:m.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"kitchenColdWater"}),currencySymbol:"",value:h.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("kitchenColdWater",a)},error:!h.valid&&h.touched,helperText:!h.valid&&h.touched?n.a.createElement(Q,{tid:h.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"kitchenHotWater"}),currencySymbol:"",value:v.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("kitchenHotWater",a)},error:!v.valid&&v.touched,helperText:!v.valid&&v.touched?n.a.createElement(Q,{tid:v.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"bathroomColdWater"}),currencySymbol:"",value:p.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("bathroomColdWater",a)},error:!p.valid&&p.touched,helperText:!p.valid&&p.touched?n.a.createElement(Q,{tid:p.errorMessage}):null})),n.a.createElement(x.a,{item:!0,xs:6},n.a.createElement(qe.a,{className:t.field,disabled:e.isDisabled,label:n.a.createElement(Q,{tid:"bathroomHotWater"}),currencySymbol:"",value:g.value,minimumValue:"0",onChange:function(t,a){return e.updatePrevIndicatorsInState("bathroomHotWater",a)},error:!g.valid&&g.touched,helperText:!g.valid&&g.touched?n.a.createElement(Q,{tid:g.errorMessage}):null})),n.a.createElement(x.a,{className:t.buttonPosition,item:!0,xs:12},n.a.createElement(ue.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){e.checkFormValidity()&&e.updateUserDetails()}},n.a.createElement(Q,{tid:"save"}))))},Kt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={userDetails:{firstName:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},lastName:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0},userEmail:{value:""},accountantEmail:{value:"",validation:{isEmail:!0},valid:!0,errorMessage:"",touched:!0},address:{value:"",validation:{required:!0},valid:!0,errorMessage:"",touched:!0}},userDetailsValid:!1,prevIndicators:{prevIndicatorsDate:{value:null,validation:{isDate:!0},valid:!0,errorMessage:"",touched:!0},electricityDay:{value:"",validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0},electricityNight:{value:"",validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0},kitchenColdWater:{value:"",validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0},kitchenHotWater:{value:"",validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0},bathroomColdWater:{value:"",validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0},bathroomHotWater:{value:"",validation:{isNumber:!0},valid:!0,errorMessage:"",touched:!0}},prevIndicatorsValid:!1,userId:null},e.getUserDetails=function(t){console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e UserId: ",t);var a=localStorage.getItem("token");v.get("/users.json?auth=".concat(a,'&orderBy="userId"&equalTo="').concat(t,'"')).then((function(t){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",t.data);var a=t.data[Object.keys(t.data)],r=Object(ie.a)(Object(ie.a)({},e.state.userDetails),{},{firstName:Object(ie.a)(Object(ie.a)({},e.state.userDetails.firstName),{},{value:a.userDetails.firstName}),lastName:Object(ie.a)(Object(ie.a)({},e.state.userDetails.lastName),{},{value:a.userDetails.lastName}),userEmail:Object(ie.a)(Object(ie.a)({},e.state.userDetails.userEmail),{},{value:a.userDetails.userEmail}),accountantEmail:Object(ie.a)(Object(ie.a)({},e.state.userDetails.accountantEmail),{},{value:a.userDetails.accountantEmail}),address:Object(ie.a)(Object(ie.a)({},e.state.userDetails.address),{},{value:a.userDetails.address})}),n=Object(ie.a)(Object(ie.a)({},e.state.prevIndicators),{},{prevIndicatorsDate:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.prevIndicatorsDate),{},{value:a.prevIndicators.prevIndicatorsDate}),electricityDay:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.electricityDay),{},{value:a.prevIndicators.electricity.day}),electricityNight:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.electricityNight),{},{value:a.prevIndicators.electricity.night}),kitchenColdWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.kitchenColdWater),{},{value:a.prevIndicators.kitchen.coldWater}),kitchenHotWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.kitchenHotWater),{},{value:a.prevIndicators.kitchen.hotWater}),bathroomColdWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.bathroomColdWater),{},{value:a.prevIndicators.bathroom.coldWater}),bathroomHotWater:Object(ie.a)(Object(ie.a)({},e.state.prevIndicators.bathroomHotWater),{},{value:a.prevIndicators.bathroom.hotWater})});e.setState({userDetails:r,prevIndicators:n,id:Object.keys(t.data)[0],userId:a.userId})})).catch((function(e){console.log(e)}))},e.updateUserDetails=function(){console.log("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e Id: ",e.state.id);var t=localStorage.getItem("token"),a={userDetails:{firstName:e.state.userDetails.firstName.value,lastName:e.state.userDetails.lastName.value,userEmail:e.state.userDetails.userEmail.value,accountantEmail:e.state.userDetails.accountantEmail.value,address:e.state.userDetails.address.value},prevIndicators:{prevIndicatorsDate:e.state.prevIndicators.prevIndicatorsDate.value,electricity:{day:e.state.prevIndicators.electricityDay.value,night:e.state.prevIndicators.electricityNight.value},kitchen:{coldWater:e.state.prevIndicators.kitchenColdWater.value,hotWater:e.state.prevIndicators.kitchenHotWater.value},bathroom:{coldWater:e.state.prevIndicators.bathroomColdWater.value,hotWater:e.state.prevIndicators.bathroomHotWater.value}},userId:localStorage.getItem("userId")};v.patch("/users/".concat(e.state.id,".json?auth=").concat(t),a).then((function(t){console.log("\u041e\u0442\u0432\u0435\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",t.data),e.props.enqueueSnackbar(n.a.createElement(Q,{tid:"saveData"}),{variant:"success",preventDuplicate:!0})})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ",e)}))},e.updateUserDataInState=function(t,a){var r=le(a,e.state.userDetails[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state.userDetails),{},Object(ne.a)({},t,Object(ie.a)(Object(ie.a)({},e.state.userDetails[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity();e.setState({userDetails:n,userDetailsValid:i})},e.updatePrevIndicatorsInState=function(t,a){var r=le(a,e.state.prevIndicators[t].validation),n=Object(ie.a)(Object(ie.a)({},e.state.prevIndicators),{},Object(ne.a)({},t,Object(ie.a)(Object(ie.a)({},e.state.prevIndicators[t]),{},{value:a,valid:r.isValid,errorMessage:r.errorMessage,touched:!0}))),i=e.checkFormValidity();e.setState({prevIndicators:n,prevIndicatorsValid:i})},e.checkFormValidity=function(){var t=e.state.userDetails,a=t.firstName,r=t.lastName,n=t.accountantEmail,i=t.address,l=e.state.prevIndicators,o=l.prevIndicatorsDate,c=l.electricityDay,s=l.electricityNight,d=l.kitchenColdWater,u=l.kitchenHotWater,m=l.bathroomColdWater,h=l.bathroomHotWater;return!!(a.valid&&r.valid&&n.valid&&i.valid&&o.valid&&c.valid&&s.valid&&d.valid&&u.valid&&m.valid&&h.valid)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getUserDetails(localStorage.getItem("userId"))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(_.a,{variant:"h4",align:"center",style:{marginBottom:"10px"}},n.a.createElement(Q,{tid:"userProfile"})),null===this.state.userId?n.a.createElement(ft,null):n.a.createElement(Ue,null,n.a.createElement(Rt,{userDetails:this.state.userDetails,prevIndicators:this.state.prevIndicators,updateUserDataInState:this.updateUserDataInState,updatePrevIndicatorsInState:this.updatePrevIndicatorsInState,checkFormValidity:this.checkFormValidity,updateUserDetails:this.updateUserDetails})))}}]),a}(r.Component),zt=Object(pt.b)(Kt),Jt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/auth",component:Ne}),n.a.createElement(u.b,{path:"/registration",component:Xe}),n.a.createElement(u.b,{path:"/forgot-password",component:$e}),n.a.createElement(u.a,{to:"/auth"}));return localStorage.getItem("userId")&&(e=n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/outlay",component:Pt}),n.a.createElement(u.b,{path:"/send-indicators",component:ht}),n.a.createElement(u.b,{path:"/tariffs",component:Lt}),n.a.createElement(u.b,{path:"/profile",component:zt}),n.a.createElement(u.b,{path:"/logout",component:we}),n.a.createElement(u.a,{to:"/send-indicators"}))),n.a.createElement(C,null,n.a.createElement(re,{isAuth:this.props.isAuth},e))}}]),a}(r.Component),Gt=Object(m.b)((function(e){return{isAuth:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a<=new Date)e(f());else{var r=localStorage.getItem("userId");e(g(t,r)),e(b((a.getTime()-(new Date).getTime())/1e3))}}else e(f())}))}}}))(Jt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xt=a(99),$t=a(273),Qt=function(e,t){return Object(ie.a)(Object(ie.a)({},e),t)},Zt={token:null,userId:null,error:null,loading:!1,userDetails:null,prevIndicators:null,userIdDb:null},ea=function(e){return Qt(e,{error:null,loading:!0})},ta=function(e,t){return Qt(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})},aa=function(e,t){var a;return console.log(t.error),a=401===t.error.code?"authError":400===t.error.code&&"EMAIL_EXISTS"===t.error.message?"authErrorEmailExist":400===t.error.code&&"EMAIL_NOT_FOUND"===t.error.message?"authErrorEmailNotReg":400===t.error.code&&"INVALID_PASSWORD"===t.error.message?"authErrorInvalidPassword":"authErrorOther",Qt(e,{error:a,loading:!1})},ra=function(e){return Qt(e,{token:null,userId:null})},na=function(e,t){return Qt(e,{userDetails:t.userDetails,prevIndicators:t.prevIndicators,userIdDb:t.userIdDb})},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ea(e);case"AUTH_SUCCESS":return ta(e,t);case"AUTH_FAIL":return aa(e,t);case"AUTH_LOGOUT":return ra(e);case"LOAD_USERDATA_SUCCESS":return na(e,t);default:return e}},la=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Xt.c,oa=Object(Xt.d)(ia,la(Object(Xt.a)($t.a))),ca=n.a.createElement(m.a,{store:oa},n.a.createElement(N.a,{basename:"/"},n.a.createElement(pt.a,{maxSnack:1,anchorOrigin:{vertical:"bottom",horizontal:"right"}},n.a.createElement(Gt,null))));l.a.render(ca,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e){e.exports=JSON.parse('{"SERVICE_ID":"gmail","TEMPLATE_ID":"template_83dCi3ca","USER_ID":"user_rEIgP6Z8hPXkwIosFYkR7","AUTH_API_KEY":"AIzaSyCQ-YIBbLpl1SOF7KzaSR0v7HLz61N-yno"}')}},[[287,1,2]]]);
//# sourceMappingURL=main.c479405e.chunk.js.map